if(function(t,e,i){function n(){var e=t.L;o.noConflict=function(){return t.L=e,this},t.L=o}var o={version:"1.0.0-rc.2"};"object"==typeof module&&"object"==typeof module.exports?module.exports=o:"function"==typeof define&&define.amd&&define(o),"undefined"!=typeof t&&n(),o.Util={lastId:0,bind:function(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var n=i.call(arguments,2);return function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)}},create:Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",extend:function(t){var e,i,n,o;for(i=1,n=arguments.length;n>i;++i){o=arguments[i];for(e in o)t[e]=o[e]}return t},falseFn:function(){return!1},formatNum:function(t,e){var i=Math.pow(10,e||5);return Math.round(t*i)/i},indexOf:function(t,e){for(var i=0,n=t.length;n>i;++i)if(t[i]===e)return i;return-1},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},splitWords:function(t){return o.Util.trim(t).split(/\s+/)},stamp:function(t){return t._leaflet_id=t._leaflet_id||++o.Util.lastId,t._leaflet_id},template:function(t,e){return t.replace(o.Util.templateRe,function(t,n){var o=e[n];if(o===i)throw new Error("No value provided for variable "+t);return"function"==typeof o&&(o=o(e)),o})},templateRe:/\{ *([ \w_\- ]+) *\}/g,throttle:function(t,e,i){var n,o,a,s;return s=function(){n=!1,o&&(a.apply(i,o),o=!1)},a=function(){n?o=arguments:(t.apply(i,arguments),setTimeout(s,e),n=!0)}},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},wrapNum:function(t,e,i){var n=e[1],o=e[0],a=n-o;return t===n&&i?t:((t-o)%a+a)%a+o},getParamString:function(t,e,i){var n=[];for(var o in t)n.push(encodeURIComponent(i?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")},setOptions:function(t,e){t.hasOwnProperty("options")||(t.options=t.options?o.Util.create(t.options):{});for(var i in e)t.options[i]=e[i];return t.options}},function(){function e(e){return t["webkit"+e]||t["moz"+e]||t["ms"+e]}function i(e){var i=+new Date,o=Math.max(0,16-(i-n));return n=i+o,t.setTimeout(e,o)}var n=0,a=t.requestAnimationFrame||e("RequestAnimationFrame")||i,s=t.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){t.clearTimeout(e)};o.Util.requestAnimFrame=function(e,n,s){return s&&a===i?void e.call(n):a.call(t,o.bind(e,n))},o.Util.cancelAnimFrame=function(e){e&&s.call(t,e)}}(),o.extend=o.Util.extend,o.bind=o.Util.bind,o.stamp=o.Util.stamp,o.setOptions=o.Util.setOptions,o.Class=function(){},o.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,n=o.Util.create(i);n.constructor=e,e.prototype=n;for(var a in this)this.hasOwnProperty(a)&&"prototype"!==a&&(e[a]=this[a]);return t.statics&&(o.extend(e,t.statics),delete t.statics),t.includes&&(o.Util.extend.apply(null,[n].concat(t.includes)),delete t.includes),n.options&&(t.options=o.Util.extend(o.Util.create(n.options),t.options)),o.extend(n,t),n._initHooks=[],n.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=n._initHooks.length;e>t;t++)n._initHooks[t].call(this)}},e},o.Class.include=function(t){return o.extend(this.prototype,t),this},o.Class.mergeOptions=function(t){return o.extend(this.prototype.options,t),this},o.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this},o.Evented=o.Class.extend({addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[o.stamp(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[o.stamp(t)],this},fire:function(t,e,i){if(!this.listens(t,i))return this;var n=o.Util.extend({},e,{type:t,target:this}),a=this._events;if(a){var s,r,h,l,c=a[t+"_idx"];if(a[t])for(h=a[t].slice(),s=0,r=h.length;r>s;++s)h[s].fn.call(this,n);for(l in c)c[l].fn.call(c[l].ctx,n)}return i&&this._propagateEvent(n),this},listens:function(t,e){var i=this._events;if(i&&(i[t]||i[t+"_len"]))return!0;if(e)for(var n in this._eventParents)if(this._eventParents[n].listens(t,e))return!0;return!1},_off:function(t,e,i){var n,a,s,r,h=this._events,l=t+"_idx",c=t+"_len";if(h){if(!e){a=h[l];for(s in a)a[s].fn=o.Util.falseFn;for(a=h[t]||[],s=0,r=a.length;r>s;++s)a[s].fn=o.Util.falseFn;return delete h[t],delete h[l],void delete h[c]}var u,_=i&&i!==this&&o.stamp(i);if(_)u=o.stamp(e)+"_"+_,a=h[l],a&&a[u]&&(n=a[u],delete a[u],h[c]--);else if(a=h[t])for(s=0,r=a.length;r>s;++s)if(a[s].fn===e){n=a[s],a.splice(s,1);break}n&&(n.fn=o.Util.falseFn)}},off:function(t,e,i){if(t)if("object"==typeof t)for(var n in t)this._off(n,t[n],e);else{t=o.Util.splitWords(t);for(var a=0,s=t.length;s>a;++a)this._off(t[a],e,i)}else delete this._events;return this},_on:function(t,e,i){var n=this._events=this._events||{},a=i&&i!==this&&o.stamp(i);if(a){var s=t+"_idx",r=t+"_len",h=n[s]=n[s]||{},l=o.stamp(e)+"_"+a;h[l]||(h[l]={fn:e,ctx:i},n[r]=(n[r]||0)+1)}else n[t]=n[t]||[],n[t].push({fn:e})},on:function(t,e,i){if("object"==typeof t)for(var n in t)this._on(n,t[n],e);else{t=o.Util.splitWords(t);for(var a=0,s=t.length;s>a;++a)this._on(t[a],e,i)}return this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,o.extend({layer:t.target},t),!0)},once:function(t,e,i){if("object"==typeof t){for(var n in t)this.once(n,t[n],e);return this}var a=o.bind(function(){this.off(t,e,i).off(t,a,i)},this);return this.on(t,e,i).on(t,a,i)}});var a=o.Evented.prototype;a.addEventListener=a.on,a.removeEventListener=a.clearAllEventListeners=a.off,a.addOneTimeEventListener=a.once,a.fireEvent=a.fire,a.hasEventListeners=a.listens,o.Mixin={Events:a},function(){var i=navigator.userAgent.toLowerCase(),n=e.documentElement,a="ActiveXObject"in t,s=-1!==i.indexOf("webkit"),r=-1!==i.indexOf("phantom"),h=-1!==i.search("android [23]"),l=-1!==i.indexOf("chrome"),c=-1!==i.indexOf("gecko")&&!s&&!t.opera&&!a,u=0===navigator.platform.indexOf("Win"),_="undefined"!=typeof orientation||-1!==i.indexOf("mobile"),d=!t.PointerEvent&&t.MSPointerEvent,p=t.PointerEvent||d,m=a&&"transition"in n.style,f="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix&&!h,g="MozPerspective"in n.style,y="OTransition"in n.style,v=!t.L_NO_TOUCH&&(p||"ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch);o.Browser={ie:a,ielt9:a&&!e.addEventListener,edge:"msLaunchUri"in navigator&&!("documentMode"in e),webkit:s,gecko:c,android:-1!==i.indexOf("android"),android23:h,chrome:l,safari:!l&&-1!==i.indexOf("safari"),win:u,ie3d:m,webkit3d:f,gecko3d:g,opera12:y,any3d:!t.L_DISABLE_3D&&(m||f||g)&&!y&&!r,mobile:_,mobileWebkit:_&&s,mobileWebkit3d:_&&f,mobileOpera:_&&t.opera,mobileGecko:_&&c,touch:!!v,msPointer:!!d,pointer:!!p,retina:(t.devicePixelRatio||t.screen.deviceXDPI/t.screen.logicalXDPI)>1}}(),o.Point=function(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e},o.Point.prototype={add:function(t){return this.clone()._add(o.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},clone:function(){return new o.Point(this.x,this.y)},contains:function(t){return t=o.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},distanceTo:function(t){t=o.point(t);var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},equals:function(t){return t=o.point(t),t.x===this.x&&t.y===this.y},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},scaleBy:function(t){return new o.Point(this.x*t.x,this.y*t.y)},subtract:function(t){return this.clone()._subtract(o.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},unscaleBy:function(t){return new o.Point(this.x/t.x,this.y/t.y)},toString:function(){return"Point( "+o.Util.formatNum(this.x)+", "+o.Util.formatNum(this.y)+" )"}},o.point=function(t,e,n){return t instanceof o.Point?t:o.Util.isArray(t)?new o.Point(t[0],t[1]):t===i||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new o.Point(t.x,t.y):new o.Point(t,e,n)},o.Bounds=function(t,e){if(t){var i=e?[t,e]:t;this.extend(i[0]),this.extend(i[1])}},o.Bounds.prototype={contains:function(t){var e,i;return t="number"==typeof t[0]||t instanceof o.Point?o.point(t):o.bounds(t),t instanceof o.Bounds?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},extend:function(t){return t=o.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},intersects:function(t){t=o.bounds(t);var e=this.min,i=this.max,n=t.min,a=t.max,s=a.x>=e.x&&n.x<=i.x,r=a.y>=e.y&&n.y<=i.y;return s&&r},isValid:function(){return!(!this.min||!this.max)},overlaps:function(t){var e=this.min,i=this.max,n=t.min,o=t.max,a=o.x>e.x&&n.x<i.x;if(a)return a;var s=o.y>e.y&&n.y<i.y;return s?s:a&&s},getBottomLeft:function(){return new o.Point(this.min.x,this.max.y)},getCenter:function(t){return new o.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getSize:function(){return this.max.subtract(this.min)},getTopRight:function(){return new o.Point(this.max.x,this.min.y)}},o.bounds=function(t,e){return!t||t instanceof o.Bounds?t:new o.Bounds(t,e)},o.Transformation=function(t,e,i,n){this._a=t,this._b=e,this._c=i,this._d=n},o.Transformation.prototype={_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},transform:function(t,e){return this._transform(t.clone(),e)},untransform:function(t,e){return e=e||1,new o.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},o.DomUtil={get:function(t){return"string"==typeof t?e.getElementById(t):t},getStyle:function(t,i){var n=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!n||"auto"===n)&&e.defaultView){var o=e.defaultView.getComputedStyle(t,null);n=o?o[i]:null}return"auto"===n?null:n},create:function(t,i,n){var o=e.createElement(t);return o.className=i||"",n&&n.appendChild(o),o},remove:function(t){var e=t.parentNode;e&&e.removeChild(t)},empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},toFront:function(t){t.parentNode.appendChild(t)},toBack:function(t){var e=t.parentNode;e.insertBefore(t,e.firstChild)},hasClass:function(t,e){if(t.classList!==i)return t.classList.contains(e);var n=o.DomUtil.getClass(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)},addClass:function(t,e){if(t.classList!==i)for(var n=o.Util.splitWords(e),a=0,s=n.length;s>a;a++)t.classList.add(n[a]);else if(!o.DomUtil.hasClass(t,e)){var r=o.DomUtil.getClass(t);o.DomUtil.setClass(t,(r?r+" ":"")+e)}},removeClass:function(t,e){t.classList!==i?t.classList.remove(e):o.DomUtil.setClass(t,o.Util.trim((" "+o.DomUtil.getClass(t)+" ").replace(" "+e+" "," ")))},setClass:function(t,e){t.className.baseVal===i?t.className=e:t.className.baseVal=e},getClass:function(t){return t.className.baseVal===i?t.className:t.className.baseVal},setOpacity:function(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&o.DomUtil._setOpacityIE(t,e)},_setOpacityIE:function(t,e){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(o){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"},testProp:function(t){for(var i=e.documentElement.style,n=0;n<t.length;n++)if(t[n]in i)return t[n];return!1},setTransform:function(t,e,i){var n=e||new o.Point(0,0);t.style[o.DomUtil.TRANSFORM]=(o.Browser.ie3d?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")},setPosition:function(t,e){t._leaflet_pos=e,o.Browser.any3d?o.DomUtil.setTransform(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos||new o.Point(0,0)}},function(){o.DomUtil.TRANSFORM=o.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);var i=o.DomUtil.TRANSITION=o.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);if(o.DomUtil.TRANSITION_END="webkitTransition"===i||"OTransition"===i?i+"End":"transitionend","onselectstart"in e)o.DomUtil.disableTextSelection=function(){o.DomEvent.on(t,"selectstart",o.DomEvent.preventDefault)},o.DomUtil.enableTextSelection=function(){o.DomEvent.off(t,"selectstart",o.DomEvent.preventDefault)};else{var n=o.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);o.DomUtil.disableTextSelection=function(){if(n){var t=e.documentElement.style;this._userSelect=t[n],t[n]="none"}},o.DomUtil.enableTextSelection=function(){n&&(e.documentElement.style[n]=this._userSelect,delete this._userSelect)}}o.DomUtil.disableImageDrag=function(){o.DomEvent.on(t,"dragstart",o.DomEvent.preventDefault)},o.DomUtil.enableImageDrag=function(){o.DomEvent.off(t,"dragstart",o.DomEvent.preventDefault)},o.DomUtil.preventOutline=function(e){for(;-1===e.tabIndex;)e=e.parentNode;e&&e.style&&(o.DomUtil.restoreOutline(),this._outlineElement=e,this._outlineStyle=e.style.outline,e.style.outline="none",o.DomEvent.on(t,"keydown",o.DomUtil.restoreOutline,this))},o.DomUtil.restoreOutline=function(){this._outlineElement&&(this._outlineElement.style.outline=this._outlineStyle,delete this._outlineElement,delete this._outlineStyle,o.DomEvent.off(t,"keydown",o.DomUtil.restoreOutline,this))}}(),o.LatLng=function(t,e,i){this.lat=+t,this.lng=+e},o.LatLng.MathPI180=Math.PI/180,o.LatLng.prototype={clone:function(){return new o.LatLng(this.lat,this.lng,this.alt)},distanceTo:function(t){return o.CRS.Earth.distance(this,o.latLng(t))},equals:function(t,e){t=o.latLng(t);var n=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return(e===i?1e-9:e)>=n},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(this.MathPI180*this.lat);return o.latLngBounds([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},toString:function(t){return"LatLng("+o.Util.formatNum(this.lat,t)+", "+o.Util.formatNum(this.lng,t)+")"},wrap:function(){return o.CRS.Earth.wrapLatLng(this)}},o.latLng=function(t,e,i){return t instanceof o.LatLng?t:new o.LatLng(t[0],t[1])},o.LatLngBounds=function(t,e){var i=[t,e];this.extend(i[0]),this.extend(i[1])},o.LatLngBounds.prototype={contains:function(t){t="number"==typeof t[0]||t instanceof o.LatLng?o.latLng(t):o.latLngBounds(t);var e,i,n=this._southWest,a=this._northEast;return t instanceof o.LatLngBounds?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=a.lat&&e.lng>=n.lng&&i.lng<=a.lng},equals:function(t){return t?(t=o.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast())):!1},extend:function(t){var e,i,n=this._southWest,a=this._northEast;if(t instanceof o.LatLng)e=t,i=t;else{if(!(t instanceof o.LatLngBounds))return t?this.extend(o.latLng(t)||o.latLngBounds(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return n||a?(n.lat=Math.min(e.lat,n.lat),n.lng=Math.min(e.lng,n.lng),a.lat=Math.max(i.lat,a.lat),a.lng=Math.max(i.lng,a.lng)):(this._southWest=new o.LatLng(e.lat,e.lng),this._northEast=new o.LatLng(i.lat,i.lng)),this},intersects:function(t){t=o.latLngBounds(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),a=t.getNorthEast();return latIntersects=a.lat>=e.lat&&n.lat<=i.lat,lngIntersects=a.lng>=e.lng&&n.lng<=i.lng,latIntersects&&lngIntersects},isValid:function(){return!(!this._southWest||!this._northEast)},overlaps:function(t){var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast();return latOverlaps=o.lat>e.lat&&n.lat<i.lat,latOverlaps?(lngOverlaps=o.lng>e.lng&&n.lng<i.lng,lngOverlaps?!0:lngOverlaps):latOverlaps},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,a=Math.abs(e.lng-i.lng)*t;return new o.LatLngBounds(new o.LatLng(e.lat-n,e.lng-a),new o.LatLng(i.lat+n,i.lng+a))},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},getCenter:function(){return new o.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new o.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new o.LatLng(this.getSouth(),this.getEast())},getSouthWest:function(){return this._southWest},getEast:function(){return this._northEast.lng},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getNorth:function(){return this._northEast.lat}},o.latLngBounds=function(t,e){return t instanceof o.LatLngBounds?t:new o.LatLngBounds(t,e)},o.Projection={},o.Projection.LonLat={bounds:o.bounds([-180,-90],[180,90]),project:function(t){return new o.Point(t.lng,t.lat)},unproject:function(t){return new o.LatLng(t.y,t.x)}},o.Projection.SphericalMercator={bounds:function(){var t=6378137*Math.PI;return o.bounds([-t,-t],[t,t])}(),MathPI180:Math.PI/180,Math180PI:180/Math.PI,MathPI2:Math.PI/2,R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=this.MathPI180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),a=Math.sin(n*e);return new o.Point(this.R*t.lng*e,this.R*Math.log((1+a)/(1-a))/2)},unproject:function(t){var e=this.Math180PI;return new o.LatLng((2*Math.atan(Math.exp(t.y/this.R))-this.MathPI2)*e,t.x*e/this.R)}},o.CRS={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)},unproject:function(t){return this.projection.unproject(t)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?o.Util.wrapNum(t.lng,this.wrapLng,!0):t.lng,i=this.wrapLat?o.Util.wrapNum(t.lat,this.wrapLat,!0):t.lat,n=t.alt;return o.latLng(i,e,n)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t),n=this.transformation.transform(e.min,i),a=this.transformation.transform(e.max,i);return o.bounds(n,a)}},o.CRS.Simple=o.extend({},o.CRS,{projection:o.Projection.LonLat,infinite:!0,distance:function(t,e){var i=e.lng-t.lng,n=e.lat-t.lat;return Math.sqrt(i*i+n*n)},scale:function(t){return Math.pow(2,t)},transformation:new o.Transformation(1,0,-1,0),zoom:function(t){return Math.log(t)/Math.LN2}}),o.CRS.Earth=o.extend({},o.CRS,{MathPI180:Math.PI/180,R:6371e3,wrapLng:[-180,180],distance:function(t,e){var i=this.MathPI180,n=t.lat*i,o=e.lat*i,a=Math.sin(n)*Math.sin(o)+Math.cos(n)*Math.cos(o)*Math.cos((e.lng-t.lng)*i);return this.R*Math.acos(Math.min(a,1))}}),o.CRS.EPSG3857=o.extend({},o.CRS.Earth,{code:"EPSG:3857",projection:o.Projection.SphericalMercator,transformation:function(){var t=.5/(Math.PI*o.Projection.SphericalMercator.R);return new o.Transformation(t,.5,-t,.5)}()}),o.CRS.EPSG900913=o.extend({},o.CRS.EPSG3857,{code:"EPSG:900913"}),o.CRS.EPSG4326=o.extend({},o.CRS.Earth,{code:"EPSG:4326",projection:o.Projection.LonLat,transformation:new o.Transformation(1/180,1,-1/180,.5)}),o.Map=o.Evented.extend({options:{crs:o.CRS.EPSG3857,center:i,zoom:i,minZoom:i,maxZoom:i,layers:[],maxBounds:i,renderer:i,fadeAnimation:!0,markerZoomAnimation:!0,trackResize:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},_clearHandlers:function(){for(var t=0,e=this._handlers.length;e>t;++t)this._handlers[t].disable()},remove:function(){this._initEvents(!0);try{delete this._container._leaflet}catch(t){this._container._leaflet=i}o.DomUtil.remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");for(var e in this._layers)this._layers[e].remove();return this},_fireDOMEvent:function(t,e,i){if("click"===t.type){var n=o.Util.extend({},t);n.type="preclick",this._fireDOMEvent(n,n.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,e)),i.length)){var a=i[0];"contextmenu"===e&&a.listens(e,!0)&&o.DomEvent.preventDefault(t);var s={originalEvent:t};if("keypress"!==t.type){var r=a instanceof o.Marker;s.containerPoint=r?this.latLngToContainerPoint(a.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=r?a.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var h=0;h<i.length;++h)if(i[h].fire(e,s,!0),s.originalEvent._stopped||i[h].options.nonBubblingEvents&&-1!==o.Util.indexOf(i[h].options.nonBubblingEvents,e))return}},_findEventTargets:function(t,e){for(var i,n=[],a="mouseout"===e||"mouseover"===e,s=t.target||t.srcElement,r=!1;s;){if(i=this._targets[o.stamp(s)],i&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(i)){r=!0;break}if(i&&i.listens(e,!0)){if(a&&!o.DomEvent._isExternalTarget(s,t))break;if(n.push(i),a)break}if(s===this._container)break;s=s.parentNode}return n.length||r||a||!o.DomEvent._isExternalTarget(s,t)||(n=[this]),n},_handleDOMEvent:function(t){if(this._loaded&&!o.DomEvent._skipped(t)){var e="keypress"===t.type&&13===t.keyCode?"click":t.type;"mousedown"===e&&o.DomUtil.preventOutline(t.target||t.srcElement),this._fireDOMEvent(t,e)}},mouseEventToContainerPoint:function(t){return o.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_onResize:function(){o.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=o.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(o.point(t));return this.layerPointToLatLng(e)},containerPointToLayerPoint:function(t){return o.point(t).subtract(this._getMapPanePos())},createPane:function(t,e){var i="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),n=o.DomUtil.create("div",i,e||this._mapPane);return t&&(this._panes[t]=n),n},distance:function(t,e){return this.options.crs.distance(o.latLng(t),o.latLng(e))},_draggableMoved:function(t){return t=t.options.draggable?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},fitBounds:function(t,e){if(t=o.latLngBounds(t),!t.isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},initialize:function(t,e){e=o.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=o.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==i&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==i&&this.setView(o.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._addLayers(this.options.layers)},_initContainer:function(t){var e=this._container=o.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet)throw new Error("Map container is already initialized.");o.DomEvent.addListener(e,"scroll",this._onScroll,this),e._leaflet=!0},_initEvents:function(e){if(o.DomEvent){this._targets={},this._targets[o.stamp(this._container)]=this;var i=e?"off":"on";o.DomEvent[i](this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&o.DomEvent[i](t,"resize",this._onResize,this),o.Browser.any3d&&this.options.transform3DLimit&&this[i]("moveend",this._onMoveEnd)}},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&o.Browser.any3d,o.DomUtil.addClass(t,"leaflet-container"+(o.Browser.touch?" leaflet-touch":"")+(o.Browser.retina?" leaflet-retina":"")+(o.Browser.ielt9?" leaflet-oldie":"")+(o.Browser.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=o.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),o.DomUtil.setPosition(this._mapPane,new o.Point(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(o.DomUtil.addClass(t.markerPane,"leaflet-zoom-hide"),o.DomUtil.addClass(t.shadowPane,"leaflet-zoom-hide"))},invalidateSize:function(t){if(!this._loaded)return this;t=o.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),n=e.divideBy(2).round(),a=i.divideBy(2).round();return varoffset=n.subtract(a),offset.x||offset.y?(t.animate&&t.pan?this.panBy(offset):(t.pan&&this._rawPanBy(offset),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},layerPointToContainerPoint:function(t){return o.point(t).add(this._getMapPanePos())},layerPointToLatLng:function(t){var e=o.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(o.latLng(t)))},latLngToLayerPoint:function(t){var e=this.project(o.latLng(t))._round();return e._subtract(this.getPixelOrigin())},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(n)},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),a=this.getSize().divideBy(2),s=new o.Bounds(n.subtract(a),n.add(a)),r=this._getBoundsOffset(s,i,e);return r.round().equals([0,0])?t:this.unproject(n.add(r),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new o.Bounds(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),n=o.Browser.any3d?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(e,Math.min(i,t))},_move:function(t,e,n){e===i&&(e=this._zoom);var o=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(o||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_moveStart:function(t){return t&&this.fire("zoomstart"),this.fire("movestart")},panBy:function(t){return this.fire("movestart"),this._rawPanBy(o.point(t)),this.fire("move"),this.fire("moveend")},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,o.latLngBounds(t));return i.equals(n)||this.panTo(n,e),this._enforcingBounds=!1,this},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},project:function(t,e){return e=e===i?this._zoom:e,this.options.crs.latLngToPoint(o.latLng(t),e)},_rawPanBy:function(t){o.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_resetView:function(t,e){o.DomUtil.setPosition(this._mapPane,new o.Point(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var n=this._zoom!==e;this._moveStart(n)._move(t,e)._moveEnd(n),this.fire("viewreset"),i&&this.fire("load")},_stop:function(){return o.Util.cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},unproject:function(t,e){return e=e===i?this._zoom:e,this.options.crs.pointToLatLng(o.point(t),e)},wrapLatLng:function(t){return this.options.crs.wrapLatLng(o.latLng(t))},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},zoomIn:function(t,e){return t=t||(o.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(o.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new o.LatLngBounds(e,i)},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():o.latLngBounds(t);var i=o.point(e.paddingTopLeft||e.padding||[0,0]),n=o.point(e.paddingBottomRight||e.padding||[0,0]),a=this.getBoundsZoom(t,!1,i.add(n));a="number"==typeof e.maxZoom?Math.min(e.maxZoom,a):a;var s=n.subtract(i).divideBy(2),r=this.project(t.getSouthWest(),a),h=this.project(t.getNorthEast(),a),l=this.unproject(r.add(h).divideBy(2).add(s),a);return{center:l,zoom:a}},_getBoundsOffset:function(t,e,i){var n=o.bounds(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),a=n.min.subtract(t.min),s=n.max.subtract(t.max),r=this._rebound(a.x,-s.x),h=this._rebound(a.y,-s.y);return new o.Point(r,h)},getBoundsZoom:function(t,e,i){t=o.latLngBounds(t),i=o.point(i||[0,0]);var n=this.getZoom()||0,a=this.getMinZoom(),s=this.getMaxZoom(),r=t.getNorthWest(),h=t.getSouthEast(),l=this.getSize().subtract(i),c=this.project(h,n).subtract(this.project(r,n)),u=o.Browser.any3d?this.options.zoomSnap:1,_=Math.min(l.x/c.x,l.y/c.y);return n=this.getScaleZoom(_,n),u&&(n=Math.round(n/(u/100))*(u/100),n=e?Math.ceil(n/u)*u:Math.floor(n/u)*u),Math.max(a,Math.min(s,n))},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},getContainer:function(){return this._container},getMaxZoom:function(){return this.options.maxZoom===i?this._layersMaxZoom===i?1/0:this._layersMaxZoom:this.options.maxZoom},getMinZoom:function(){return this.options.minZoom===i?this._layersMinZoom||0:this.options.minZoom},_getMapPanePos:function(){return o.DomUtil.getPosition(this._mapPane)||new o.Point(0,0)},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){
return this._panes},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new o.Bounds(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===i?this.getZoom():t)},getScaleZoom:function(t,e){var n=this.options.crs;return e=e===i?this._zoom:e,n.zoom(t*n.scale(e))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new o.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},_getTopLeftPoint:function(t,e){var n=t&&e!==i?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},getZoom:function(){return this._zoom},getZoomScale:function(t,e){var n=this.options.crs;return e=e===i?this._zoom:e,n.scale(t)/n.scale(e)},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},setMaxBounds:function(t){return t=o.latLngBounds(t),t.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMaxZoom:function(t){return this.options.maxZoom=t,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(t):this},setMinZoom:function(t){return this.options.minZoom=t,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(t):this},setView:function(t,e){return e=e===i?this.getZoom():e,this._resetView(o.latLng(t),e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),a=this.getSize().divideBy(2),s=t instanceof o.Point?t:this.latLngToContainerPoint(t),r=s.subtract(a).multiplyBy(1-1/n),h=this.containerPointToLatLng(a.add(r));return this.setView(h,e,{zoom:i})}}),o.map=function(t,e){return new o.Map(t,e)},o.Layer=o.Evented.extend({options:{pane:"overlayPane",nonBubblingEvents:[]},addInteractiveTarget:function(t){return this._map._targets[o.stamp(t)]=this,this},addTo:function(t){return t.addLayer(this),this},_layerAdd:function(t){var e=t.target;this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents&&e.on(this.getEvents(),this),this.onAdd(e)},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},removeInteractiveTarget:function(t){return delete this._map._targets[o.stamp(t)],this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)}}),o.Map.include({_addLayers:function(t){t=t?o.Util.isArray(t)?t:[t]:[];for(var e=0,i=t.length;i>e;++e)this.addLayer(t[e])},addLayer:function(t){var e=o.stamp(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},_addZoomLimit:function(t){(isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[o.stamp(t)]=t,this._updateZoomLevels())},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},hasLayer:function(t){return!!t&&o.stamp(t)in this._layers},removeLayer:function(t){var e=o.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),t.getEvents&&this.off(t.getEvents(),t),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},_removeZoomLimit:function(t){var e=o.stamp(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-(1/0),n=this._getZoomSpan();for(var o in this._zoomBoundLayers){var a=this._zoomBoundLayers[o].options;t=a.minZoom===i?t:Math.min(t,a.minZoom),e=a.maxZoom===i?e:Math.max(e,a.maxZoom)}this._layersMaxZoom=e===-(1/0)?i:e,this._layersMinZoom=t===1/0?i:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange")}}),o.Projection.Mercator={bounds:o.bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),MathPI180:Math.PI/180,Math180PI:180/Math.PI,MathPI2:Math.PI/2,MathPI4:Math.PI/4,R:6378137,R_MINOR:6356752.314245179,project:function(t){var e=this.MathPI180,i=this.R,n=t.lat*e,a=this.R_MINOR/i,s=Math.sqrt(1-a*a),r=s*Math.sin(n),h=Math.tan(this.MathPI4-n/2)/Math.pow((1-r)/(1+r),s/2);return n=-i*Math.log(Math.max(h,1e-10)),new o.Point(t.lng*e*i,n)},unproject:function(t){for(var e,i=this.Math180PI,n=this.R,a=this.R_MINOR/n,s=Math.sqrt(1-a*a),r=Math.exp(-t.y/n),h=this.MathPI2-2*Math.atan(r),l=0,c=.1;15>l&&Math.abs(c)>1e-7;++l)e=s*Math.sin(h),e=Math.pow((1-e)/(1+e),s/2),c=this.MathPI2-2*Math.atan(r*e)-h,h+=c;return new o.LatLng(h*i,t.x*i/n)}},o.CRS.EPSG3395=o.extend({},o.CRS.Earth,{code:"EPSG:3395",projection:o.Projection.Mercator,transformation:function(){var t=.5/(Math.PI*o.Projection.Mercator.R);return new o.Transformation(t,.5,-t,.5)}()}),o.GridLayer=o.Layer.extend({options:{tileSize:256,opacity:1,updateWhenIdle:o.Browser.mobile,updateWhenZooming:!0,updateInterval:200,attribution:null,zIndex:1,bounds:null,minZoom:0,maxZoom:i,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._resetView()},onRemove:function(t){this._removeAllTiles(),o.DomUtil.remove(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=null},_addTile:function(t,e){var i=this._getTilePos(t),n=this._tileCoordsToKey(t),a=this.createTile(this._wrapCoords(t),o.bind(this._tileReady,this,t));this._initTile(a),this.createTile.length<2&&o.Util.requestAnimFrame(o.bind(this._tileReady,this,t,null,a)),o.DomUtil.setPosition(a,i),this._tiles[n]={el:a,coords:t,current:!0},e.appendChild(a),this.fire("tileloadstart",{tile:a,coords:t})},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},beforeAdd:function(t){t._addZoomLimit(this)},bringToBack:function(){return this._map&&(o.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min)),this},bringToFront:function(){return this._map&&(o.DomUtil.toFront(this._container),this._setAutoZIndex(Math.max)),this},createTile:function(){return e.createElement("div")},_initContainer:function(){this._container||(this._container=o.DomUtil.create("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_initTile:function(t){o.DomUtil.addClass(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=o.Util.falseFn,t.onmousemove=o.Util.falseFn,o.Browser.ielt9&&this.options.opacity<1&&o.DomUtil.setOpacity(t,this.options.opacity),o.Browser.android&&!o.Browser.android23&&(t.style.WebkitBackfaceVisibility="hidden")},initialize:function(t){t=o.setOptions(this,t)},_invalidateAll:function(){for(var t in this._levels)o.DomUtil.remove(this._levels[t].el),delete this._levels[t];this._removeAllTiles(),this._tileZoom=null},isLoading:function(){return this._loading},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return o.latLngBounds(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_keyToTileCoords:function(t){var e=t.split(":"),i=new o.Point(+e[0],+e[1]);return i.z=+e[2],i},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new o.Bounds(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_removeTile:function(t){var e=this._tiles[t];e&&(o.DomUtil.remove(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)return void this._removeAllTiles();for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var n=e.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/i.y)]},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_retainChildren:function(t,e,i,n){for(var a=2*t;2*t+2>a;++a)for(var s=2*e;2*e+2>s;++s){var r=new o.Point(a,s);r.z=i+1;var h=this._tileCoordsToKey(r),l=this._tiles[h];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n>i+1&&this._retainChildren(a,s,i+1,n))}},_retainParent:function(t,e,i,n){var a=Math.floor(t/2),s=Math.floor(e/2),r=i-1,h=new o.Point(+a,+s);h.z=+r;var l=this._tileCoordsToKey(h),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),r>n?this._retainParent(a,s,r,n):!1)},_tileCoordsToBounds:function(t){var e=this._map,i=this.getTileSize();return nwPoint=t.scaleBy(i),sePoint=nwPoint.add(i),nw=e.wrapLatLng(e.unproject(nwPoint,t.z)),se=e.wrapLatLng(e.unproject(sePoint,t.z)),new o.LatLngBounds(nw,se)},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_tileReady:function(t,e,i){if(this._map){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var n=this._tileCoordsToKey(t);i=this._tiles[n],i&&(i.loaded=+new Date,this._map._fadeAnimated?(o.DomUtil.setOpacity(i.el,0),o.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=o.Util.requestAnimFrame(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),o.DomUtil.addClass(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t}),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),o.Browser.ielt9||!this._map._fadeAnimated?o.Util.requestAnimFrame(this._pruneTiles,this):setTimeout(o.bind(this._pruneTiles,this),250)))}},_update:function(t){var n=this._map;if(n){var a=n.getZoom();if(t===i&&(t=n.getCenter()),this._tileZoom!==i){var s=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(s),h=r.getCenter(),l=[],c=this.options.keepBuffer,u=new o.Bounds(r.getBottomLeft().subtract([c,-c]),r.getTopRight().add([c,-c]));for(var _ in this._tiles){var d=this._tiles[_].coords;d.z===this._tileZoom&&u.contains(o.point(d.x,d.y))||(this._tiles[_].current=!1)}if(Math.abs(a-this._tileZoom)>1)return void this._setView(t,a);for(var p=r.min.y;p<=r.max.y;p++)for(var m=r.min.x;m<=r.max.x;m++){var f=new o.Point(m,p);f.z=this._tileZoom;var g=this._tiles[this._tileCoordsToKey(f)];g?g.current=!0:l.push(f)}if(l.sort(function(t,e){return t.distanceTo(h)-e.distanceTo(h)}),0!==l.length){this._loading||(this._loading=!0,this.fire("loading"));var y=e.createDocumentFragment();for(m=0;m<l.length;++m)this._addTile(l[m],y);this._level.el.appendChild(y)}}}},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t===i)return i;for(var n in this._levels)this._levels[n].el.children.length||n===t?this._levels[n].el.style.zIndex=e-Math.abs(t-n):(o.DomUtil.remove(this._levels[n].el),this._removeTilesAtZoom(n),delete this._levels[n]);var a=this._levels[t],s=this._map;return a||(a=this._levels[t]={},a.el=o.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),a.el.style.zIndex=e,a.origin=s.project(s.unproject(s.getPixelOrigin()),t).round(),a.zoom=t,this._setZoomTransform(a,s.getCenter(),s.getZoom()),o.Util.falseFn(a.el.offsetWidth)),this._level=a,a},_updateOpacity:function(){if(this._map&&!o.Browser.ielt9){o.DomUtil.setOpacity(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var n in this._tiles){var a=this._tiles[n];if(a.current&&a.loaded){var s=Math.min(1,(t-a.loaded)/200);o.DomUtil.setOpacity(a.el,s),1>s?e=!0:(a.active&&(i=!0),a.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(o.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=o.Util.requestAnimFrame(this._updateOpacity,this))}},_updateZIndex:function(){this._container&&this.options.zIndex!==i&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_wrapCoords:function(t){var e=new o.Point(this._wrapX?o.Util.wrapNum(t.x,this._wrapX):t.x,this._wrapY?o.Util.wrapNum(t.y,this._wrapY):t.y);return e.z=t.z,e},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=o.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(i,this._tileZoom),a=e.project(t,this._tileZoom).floor(),s=e.getSize().divideBy(2*n);return new o.Bounds(a.subtract(s),a.add(s))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},getTileSize:function(){var t=this.options.tileSize;return t instanceof o.Point?t:new o.Point(t,t)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,n=-t(-(1/0),1/0),o=0,a=i.length;a>o;++o)e=i[o].style.zIndex,i[o]!==this._container&&e&&(n=t(n,+e));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},_setView:function(t,e,n,o){var a=Math.round(e);(this.options.maxZoom!==i&&a>this.options.maxZoom||this.options.minZoom!==i&&a<this.options.minZoom)&&(a=i);var s=this.options.updateWhenZooming&&a!==this._tileZoom;(!o||s)&&(this._tileZoom=a,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),a!==i&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},_setZoomTransform:function(t,e,i){var n=this._map.getZoomScale(i,t.zoom);translate=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e,i)).round(),o.Browser.any3d?o.DomUtil.setTransform(t.el,translate,n):o.DomUtil.setPosition(t.el,translate)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)}}),o.gridLayer=function(t){return new o.GridLayer(t)},o.TileLayer=o.GridLayer.extend({options:{minZoom:0,maxZoom:18,maxNativeZoom:null,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,e=o.setOptions(this,e),e.detectRetina&&o.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),o.Browser.android||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,i){var n=e.createElement("img");return o.DomEvent.on(n,"load",o.bind(this._tileOnLoad,this,i,n)),o.DomEvent.on(n,"error",o.bind(this._tileOnError,this,i,n)),this.options.crossOrigin&&(n.crossOrigin=""),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:o.Browser.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return o.Util.template(this._url,o.extend(e,this.options))},_tileOnLoad:function(t,e){o.Browser.ielt9?setTimeout(o.bind(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var n=this.options.errorTileUrl;n&&(e.src=n),t(i,e)},getTileSize:function(){var t=this._map,e=o.GridLayer.prototype.getTileSize.call(this),i=this._tileZoom+this.options.zoomOffset,n=this.options.maxNativeZoom;return null!==n&&i>n?e.divideBy(t.getZoomScale(n,i)).round():e},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this.options,e=this._tileZoom;return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,null!==t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=o.Util.falseFn,e.onerror=o.Util.falseFn,e.complete||(e.src=o.Util.emptyImageUrl,o.DomUtil.remove(e)))}}),o.tileLayer=function(t,e){return new o.TileLayer(t,e)},o.TileLayer.WMS=o.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=o.extend({},this.defaultWmsParams);for(var n in e)n in this.options||(i[n]=e[n]);e=o.setOptions(this,e),i.width=i.height=e.tileSize*(e.detectRetina&&o.Browser.retina?2:1),this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,o.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToBounds(t),i=this._crs.project(e.getNorthWest()),n=this._crs.project(e.getSouthEast()),a=(this._wmsVersion>=1.3&&this._crs===o.CRS.EPSG4326?[n.y,i.x,i.y,n.x]:[i.x,n.y,n.x,i.y]).join(","),s=o.TileLayer.prototype.getTileUrl.call(this,t);return s+o.Util.getParamString(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,e){return o.extend(this.wmsParams,t),e||this.redraw(),this}}),o.tileLayer.wms=function(t,e){return new o.TileLayer.WMS(t,e)},o.ImageOverlay=o.Layer.extend({options:{opacity:1,alt:"",interactive:!1,attribution:null,crossOrigin:!1},initialize:function(t,e,i){this._url=t,this._bounds=o.latLngBounds(e),o.setOptions(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(o.DomUtil.addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){o.DomUtil.remove(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&o.DomUtil.toFront(this._image),this},bringToBack:function(){return this._map&&o.DomUtil.toBack(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=t,this._map&&this._reset(),this},getAttribution:function(){return this.options.attribution},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=o.DomUtil.create("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));t.onselectstart=o.Util.falseFn,t.onmousemove=o.Util.falseFn,t.onload=o.bind(this.fire,this,"load"),this.options.crossOrigin&&(t.crossOrigin=""),t.src=this._url,t.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngToNewLayerPoint(this._bounds.getNorthWest(),t.zoom,t.center);o.DomUtil.setTransform(this._image,i,e)},_reset:function(){var t=this._image,e=new o.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();o.DomUtil.setPosition(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){o.DomUtil.setOpacity(this._image,this.options.opacity)}}),o.imageOverlay=function(t,e,i){return new o.ImageOverlay(t,e,i)},o.Icon=o.Class.extend({initialize:function(t){o.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(n,t),n},_setIconStyles:function(t,e){var i=this.options,n=i[e+"Size"];"number"==typeof n&&(n=[n,n]);var a=o.point(n),s=o.point("shadow"===e&&i.shadowAnchor||i.iconAnchor||a&&a.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),s&&(t.style.marginLeft=-s.x+"px",t.style.marginTop=-s.y+"px"),a&&(t.style.width=a.x+"px",t.style.height=a.y+"px")},_createImg:function(t,i){return i=i||e.createElement("img"),i.src=t,i},_getIconUrl:function(t){return o.Browser.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),o.icon=function(t){return new o.Icon(t)},o.Icon.Default=o.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];var i=o.Icon.Default.imagePath;if(!i)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return i+"/marker-"+t+(o.Browser.retina&&"icon"===t?"-2x":"")+".png"}}),o.Icon.Default.imagePath=function(){var t,i,n,o,a=e.getElementsByTagName("script"),s=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,i=a.length;i>t;t++)if(n=a[t].src||"",n.match(s))return o=n.split(s)[0],(o?o+"/":"")+"images"}(),o.Marker=o.Layer.extend({options:{icon:new o.Icon.Default,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",nonBubblingEvents:["click","dblclick","mouseover","mouseout","contextmenu"]},initialize:function(t,e){o.setOptions(this,e),this._latlng=o.latLng(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._initIcon(),this.update()},onRemove:function(){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),this._removeIcon(),this._removeShadow()},getEvents:function(){var t={zoom:this.update,viewreset:this.update};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=o.latLng(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(i.title=t.title),t.alt&&(i.alt=t.alt)),o.DomUtil.addClass(i,e),t.keyboard&&(i.tabIndex="0"),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var a=t.icon.createShadow(this._shadow),s=!1;a!==this._shadow&&(this._removeShadow(),s=!0),a&&o.DomUtil.addClass(a,e),this._shadow=a,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),a&&s&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),o.DomUtil.remove(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&o.DomUtil.remove(this._shadow),this._shadow=null},_setPos:function(t){o.DomUtil.setPosition(this._icon,t),this._shadow&&o.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(o.DomUtil.addClass(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),o.Handler.MarkerDrag)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new o.Handler.MarkerDrag(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;o.DomUtil.setOpacity(this._icon,t),this._shadow&&o.DomUtil.setOpacity(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),o.marker=function(t,e){return new o.Marker(t,e)},o.DivIcon=o.Icon.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&"DIV"===t.tagName?t:e.createElement("div"),n=this.options;if(i.innerHTML=n.html!==!1?n.html:"",n.bgPos){var a=o.point(n.bgPos);i.style.backgroundPosition=-a.x+"px "+-a.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}}),o.divIcon=function(t){return new o.DivIcon(t)},o.Map.mergeOptions({closePopupOnClick:!0}),o.DivOverlay=o.Layer.extend({options:{offset:[0,7],zoomAnimation:!0,className:"",pane:"popupPane"},initialize:function(t,e){o.setOptions(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&this.options.zoomAnimation,this._container||this._initLayout(),t._fadeAnimated&&o.DomUtil.setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&o.DomUtil.setOpacity(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(o.DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(o.bind(o.DomUtil.remove,o.DomUtil,this._container),200)):o.DomUtil.remove(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=o.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&o.DomUtil.toFront(this._container),this},bringToBack:function(){return this._map&&o.DomUtil.toBack(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=o.point(this.options.offset),i=this._getAnchor();this._zoomAnimated?o.DomUtil.setPosition(this._container,t.add(i)):e=e.add(t).add(i);var n=this._containerBottom=-e.y,a=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=n+"px",this._container.style.left=a+"px"}},_getAnchor:function(){return[0,0]}}),o.Popup=o.DivOverlay.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){o.DivOverlay.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source.on("preclick",o.DomEvent.stopPropagation))},onRemove:function(t){o.DivOverlay.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source.off("preclick",o.DomEvent.stopPropagation))},getEvents:function(){var t=o.DivOverlay.prototype.getEvents.call(this);return("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=o.DomUtil.create("div",t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"));if(this.options.closeButton){var i=this._closeButton=o.DomUtil.create("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",o.DomEvent.on(i,"click",this._onCloseButtonClick,this)}var n=this._wrapper=o.DomUtil.create("div",t+"-content-wrapper",e);this._contentNode=o.DomUtil.create("div",t+"-content",n),o.DomEvent.disableClickPropagation(n).disableScrollPropagation(this._contentNode).on(n,"contextmenu",o.DomEvent.stopPropagation),this._tipContainer=o.DomUtil.create("div",t+"-tip-container",e),this._tip=o.DomUtil.create("div",t+"-tip",this._tipContainer)},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,a=this.options.maxHeight,s="leaflet-popup-scrolled";a&&n>a?(e.height=a+"px",o.DomUtil.addClass(t,s)):o.DomUtil.removeClass(t,s),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);o.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=this._container.offsetHeight,i=this._containerWidth,n=new o.Point(this._containerLeft,-e-this._containerBottom);this._zoomAnimated&&n._add(o.DomUtil.getPosition(this._container));var a=t.layerPointToContainerPoint(n),s=o.point(this.options.autoPanPadding),r=o.point(this.options.autoPanPaddingTopLeft||s),h=o.point(this.options.autoPanPaddingBottomRight||s),l=t.getSize(),c=0,u=0;a.x+i+h.x>l.x&&(c=a.x+i-l.x+h.x),a.x-c-r.x<0&&(c=a.x-r.x),a.y+e+h.y>l.y&&(u=a.y+e-l.y+h.y),a.y-u-r.y<0&&(u=a.y-r.y),(c||u)&&t.fire("autopanstart").panBy([c,u])}},_onCloseButtonClick:function(t){this._close(),o.DomEvent.stop(t)}}),o.popup=function(t,e){return new o.Popup(t,e)},o.Map.include({openPopup:function(t,e,i){return t instanceof o.Popup||(t=new o.Popup(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),
this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),o.Layer.include({bindPopup:function(t,e){return t instanceof o.Popup?(o.setOptions(t,e),this._popup=t,t._source=this):((!this._popup||e)&&(this._popup=new o.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this._originalPopupOffset=this._popup.options.offset,this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof o.Layer||(e=t,t=this),t instanceof o.FeatureGroup)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup.options.offset=this._popupAnchor(t),this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(this._popup&&this._map)return o.DomEvent.stop(t),e instanceof o.Path?void this.openPopup(t.layer||t.target,t.latlng):void(this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_popupAnchor:function(t){var e=t._getPopupAnchor?t._getPopupAnchor():[0,0],i=this._originalPopupOffset||o.Popup.prototype.options.offset;return o.point(e).add(i)},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),o.Marker.include({_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]}}),o.Tooltip=o.DivOverlay.extend({options:{pane:"tooltipPane",offset:[6,-6],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){o.DivOverlay.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){o.DivOverlay.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=o.DomUtil.create("div",e)},_updateLayout:function(){},_adjustPan:function(){},_updatePosition:function(){var t=this._map,e=t.latLngToLayerPoint(this._latlng),i=this._container,n=t.latLngToContainerPoint(t.getCenter()),a=t.layerPointToContainerPoint(e),s=this.options.direction,r=i.offsetWidth,h=i.offsetHeight,l=o.point(this.options.offset),c=this._getAnchor();"top"===s?e=e.add(o.point(-r/2,-h+l.y+c.y)):"bottom"===s?e=e.subtract(o.point(r/2,l.y)):"center"===s?e=e.subtract(o.point(r/2,h/2-c.y)):"right"===s||"auto"===s&&a.x<n.x?(s="right",e=e.add([l.x+c.x,c.y-h/2])):(s="left",e=e.subtract(o.point(l.x+r+c.x,h/2-c.y))),o.DomUtil.removeClass(i,"leaflet-tooltip-right"),o.DomUtil.removeClass(i,"leaflet-tooltip-left"),o.DomUtil.removeClass(i,"leaflet-tooltip-top"),o.DomUtil.removeClass(i,"leaflet-tooltip-bottom"),o.DomUtil.addClass(i,"leaflet-tooltip-"+s),o.DomUtil.setPosition(i,e)},setOpacity:function(t){this.options.opacity=t,this._container&&o.DomUtil.setOpacity(this._container,t)},_animateZoom:function(t){var e,i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this.options.offset&&(e=o.point(this.options.offset),i=i.add(e)),o.DomUtil.setPosition(this._container,i)},_getAnchor:function(){return o.point(this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),o.tooltip=function(t,e){return new o.Tooltip(t,e)},o.Map.include({openTooltip:function(t,e,i){return t instanceof o.Tooltip||(t=new o.Tooltip(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),o.Layer.include({bindTooltip:function(t,e){return t instanceof o.Tooltip?(o.setOptions(t,e),this._tooltip=t,t._source=this):((!this._tooltip||e)&&(this._tooltip=o.tooltip(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent||(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),o.Browser.touch&&(i.click=this._openTooltip)),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof o.Layer||(e=t,t=this),t instanceof o.FeatureGroup)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(o.DomUtil.addClass(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&(o.DomUtil.removeClass(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:i)},_moveTooltip:function(t){var e,i,n=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(e),n=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(n)}}),o.Marker.include({_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),o.LayerGroup=o.Layer.extend({onAdd:function(t){for(var e in this._layers)t.addLayer(this._layers[e])},onRemove:function(t){for(var e in this._layers)t.removeLayer(this._layers[e])},addLayer:function(t){t.layerGroup=this;var e=this.getLayerId(t);return t.layerGroup.last_leaflet_id=e,this._layers[e]=t,this._map&&this._map.addLayer(t),this},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},initialize:function(t){this._layers={};var e,i;if(t)for(e=0,i=t.length;i>e;++e)this.addLayer(t[e])},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)i=this._layers[e],i[t]&&i[t].apply(i,n);return this},removeAllLayers:function(){var t=this.getLayers(),e=this.removeLayer,i=0,n=t.length;try{for(;n>i;++i)e(t[i])}catch(o){}},removeLayer_Ori:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},removeLayer:function(t){return this._map.removeLayer(t),delete this._layers[t._leaflet_id],this},renewal__aLayers:function(){if(!(this._aLayers.length>5e3)){this._aLayers.length=0;for(var t in this._layers)this._aLayers.push(this._layers[t])}},getLayer:function(t){return this._layers[t]},getLayerId:function(t){return o.stamp(t)},getLayers:function(){if(this._aLayers.length>5e3)return this._aLayers;for(var t in this._layers)this._aLayers.push(this._layers[t]);return this._aLayers},getLayers_Obj:function(){return this._layers},setZIndex:function(t){return this.invoke("setZIndex",t)}}),o.layerGroup=function(t){var e=new o.LayerGroup(t);return e._aLayers=[],e},o.FeatureGroup=o.LayerGroup.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),o.LayerGroup.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},bringToBack:function(){return this.invoke("bringToBack")},bringToFront:function(){return this.invoke("bringToFront")},removeAllLayers:function(){var t=this.getLayers(),e=this.removeLayer,i=0,n=t.length;try{for(;n>i;++i)e(t[i])}catch(o){}},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),o.LayerGroup.prototype.removeLayer.call(this,t),this.fire("layerremove",{l:t})):this},getBounds:function(){var t,e=new o.LatLngBounds;for(var i in this._layers)t=this._layers[i],e.extend(t.getBounds?t.getBounds():t.getLatLng());return e},setStyle:function(t){return this.invoke("setStyle",t)}}),o.featureGroup=function(t){var e=new o.FeatureGroup(t);return e._aLayers=[],e},o.Renderer=o.Layer.extend({options:{padding:.1},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&o.DomUtil.addClass(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update()},onRemove:function(){o.DomUtil.remove(this._container)},initialize:function(t){o.setOptions(this,t),o.stamp(this)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom)},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new o.Bounds(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),n=o.DomUtil.getPosition(this._container),a=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,e),r=this._map.project(t,e),h=r.subtract(s),l=a.multiplyBy(-i).add(n).add(a).subtract(h);o.Browser.any3d?o.DomUtil.setTransform(this._container,l,i):o.DomUtil.setPosition(this._container,l)},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t}}),o.Map.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&o.canvas()||o.svg()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||t===i)return!1;var e=this._paneRenderers[t];return e===i&&(e=o.SVG&&o.svg({pane:t})||o.Canvas&&o.canvas({pane:t}),this._paneRenderers[t]=e),e}}),o.Path=o.Layer.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){try{this._renderer._removePath(this)}catch(t){}},beforeAdd:function(t){this._renderer=t.getRenderer(this)},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(o.Browser.touch?10:0)},redraw:function(){try{this._renderer._updatePath(this)}catch(t){return this}return this},_reset:function(){this._project(),this._update()},getElement:function(){return this._path},getEvents:function(){return{zoomend:this._project,moveend:this._update,viewreset:this._reset}},setStyle:function(t){return o.setOptions(this,t),this._renderer&&this._renderer._updateStyle(this),this}}),o.LineUtil={clipSegment:function(t,e,i,n,o){var a,s,r,h=n?this._lastCode:this._getBitCode(t,i),l=this._getBitCode(e,i);for(this._lastCode=l;;){if(!(h|l))return[t,e];if(h&l)return!1;a=h||l,s=this._getEdgeIntersection(t,e,a,i,o),r=this._getBitCode(s,i),a===h?(t=s,h=r):(e=s,l=r)}},closestPointOnSegment:function(t,e,i){return this._sqClosestPointOnSegment(t,e,i)},pointToSegmentDistance:function(t,e,i){return Math.sqrt(this._sqClosestPointOnSegment(t,e,i,!0))},_reducePoints:function(t,e){for(var i=[t[0]],n=1,o=0,a=t.length;a>n;++n)this._sqDist(t[n],t[o])>e&&(i.push(t[n]),o=n);return a-1>o&&i.push(t[a-1]),i},simplify:function(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=this._reducePoints(t,i),t=this._simplifyDP(t,i)},_simplifyDP:function(t,e){var n=t.length,o=typeof Uint8Array!=i+""?Uint8Array:Array,a=new o(n);a[0]=a[n-1]=1,this._simplifyDPStep(t,a,e,0,n-1);var s,r=[];for(s=0;n>s;++s)a[s]&&r.push(t[s]);return r},_simplifyDPStep:function(t,e,i,n,o){var a,s,r,h=0;for(s=n+1;o-1>=s;++s)r=this._sqClosestPointOnSegment(t[s],t[n],t[o],!0),r>h&&(a=s,h=r);h>i&&(e[a]=1,this._simplifyDPStep(t,e,i,n,a),this._simplifyDPStep(t,e,i,a,o))},_sqClosestPointOnSegment:function(t,e,i,n){var a,s=e.x,r=e.y,h=i.x-s,l=i.y-r,c=h*h+l*l;return c>0&&(a=((t.x-s)*h+(t.y-r)*l)/c,a>1?(s=i.x,r=i.y):a>0&&(s+=h*a,r+=l*a)),h=t.x-s,l=t.y-r,n?h*h+l*l:new o.Point(s,r)},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n},_getBitCode:function(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i},_getEdgeIntersection:function(t,e,i,n,a){var s,r,h=e.x-t.x,l=e.y-t.y,c=n.min,u=n.max;return 8&i?(s=t.x+h*(u.y-t.y)/l,r=u.y):4&i?(s=t.x+h*(c.y-t.y)/l,r=c.y):2&i?(s=u.x,r=t.y+l*(u.x-t.x)/h):1&i&&(s=c.x,r=t.y+l*(c.x-t.x)/h),new o.Point(s,r,a)}},o.Polyline=o.Path.extend({options:{smoothFactor:1,noClip:!1},addLatLng:function(t,e){return e=e||this._defaultShape(),t=o.latLng(t),e.push(t),this._bounds.extend(t),this.redraw()},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);var e,i,n,a,s,r,h,l=this._parts;for(e=0,n=0,a=this._rings.length;a>e;++e)for(h=this._rings[e],i=0,s=h.length;s-1>i;++i)r=o.LineUtil.clipSegment(h[i],h[i+1],t,i,!0),r&&(l[n]=l[n]||[],l[n].push(r[0]),(r[1]!==h[i+1]||i===s-2)&&(l[n].push(r[1]),n++))}},closestLayerPoint:function(t){for(var e,i,n=1/0,a=null,s=o.LineUtil._sqClosestPointOnSegment,r=0,h=this._parts.length;h>r;++r)for(var l=this._parts[r],c=1,u=l.length;u>c;++c){e=l[c-1],i=l[c];var _=s(t,e,i,!0);n>_&&(n=_,a=s(t,e,i))}return a&&(a.distance=Math.sqrt(n)),a},_convertLatLngs:function(t){for(var e=[],i=o.Polyline._flat(t),n=0,a=t.length;a>n;++n)i?(e[n]=o.latLng(t[n]),this._bounds.extend(e[n])):e[n]=this._convertLatLngs(t[n]);return e},_defaultShape:function(){return o.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]},initialize:function(t,e){o.setOptions(this,e),this._setLatLngs(t)},isEmpty:function(){return!this._latlngs.length},_project:function(){var t=new o.Bounds;this._rings.length=0,this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=new o.Point(5,5);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(e),t.max._add(e),this._pxBounds=t)},_rings:[],_projectLatlngs:function(t,e,i){var n,a,s=t[0]instanceof o.LatLng,r=t.length;if(s){for(a=[],n=0;r>n;++n)a[n]=this._map.latLngToLayerPoint(t[n]),i.extend(a[n]);e.push(a)}else for(n=0;r>n;++n)this._projectLatlngs(t[n],e,i)},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,n=t.length;n>i;++i)t[i]=o.LineUtil.simplify(t[i],e)},_update:function(){try{this._parts=this._rings,this._updatePath()}catch(t){}},_updatePath:function(){this._renderer._updatePolyline_Stroke(this)},getBounds:function(){return this._bounds},getCenter:function(){var t,e,i,n,o,a,s,r=this._rings[0],h=r.length;if(!h)return null;for(t=0,e=0;h-1>t;++t)e+=r[t].distanceTo(r[t+1])/2;if(0===e)return this._map.layerPointToLatLng(r[0]);for(t=0,n=0;h-1>t;++t)if(o=r[t],a=r[t+1],i=o.distanceTo(a),n+=i,n>e)return s=(n-e)/i,this._map.layerPointToLatLng([a.x-s*(a.x-o.x),a.y-s*(a.y-o.y)])},_setLatLngs:function(t){this._bounds=new o.LatLngBounds,this._latlngs=this._convertLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()}}),o.polyline=function(t,e){return new o.Polyline(t,e)},o.Polyline._flat=function(t){return!o.Util.isArray(t[0])||"object"!=typeof t[0][0]&&"undefined"!=typeof t[0][0]},o.PolylineDash=o.Polyline.extend({_updatePath:function(){this._renderer._updatePolylineDash(this)}}),o.polylineDash=function(t,e){return new o.PolylineDash(t,e)},o.PolyUtil={},o.PolyUtil.clipPolygon=function(t,e,i){var n,a,s,r,h,l,c,u,_,d=[1,4,2,8],p=o.LineUtil;for(a=0,c=t.length;c>a;++a)t[a]._code=p._getBitCode(t[a],e);for(r=0;4>r;++r){for(u=d[r],n=[],a=0,c=t.length,s=c-1;c>a;s=a++)h=t[a],l=t[s],h._code&u?l._code&u||(_=p._getEdgeIntersection(l,h,u,e,i),_._code=p._getBitCode(_,e),n.push(_)):(l._code&u&&(_=p._getEdgeIntersection(l,h,u,e,i),_._code=p._getBitCode(_,e),n.push(_)),n.push(h));t=n}return t},o.Polygon=o.Polyline.extend({options:{fill:!0},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new o.Point(e,e);if(t=new o.Bounds(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);for(var n,a=0,s=this._rings.length;s>a;++a)n=o.PolyUtil.clipPolygon(this._rings[a],t,!0),n.length&&this._parts.push(n)}},_convertLatLngs:function(t){var e=o.Polyline.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof o.LatLng&&e[0].equals(e[i-1])&&e.pop(),e},_defaultShape:function(){return o.Polyline._flat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},_updatePath:function(){this._renderer._updatePolygon(this,!0)},getCenter:function(){var t,e,i,n,o,a,s,r,h,l=this._rings[0],c=l.length;if(!c)return null;for(a=s=r=0,t=0,e=c-1;c>t;e=t++)i=l[t],n=l[e],o=i.y*n.x-n.y*i.x,s+=(i.x+n.x)*o,r+=(i.y+n.y)*o,a+=3*o;return h=0===a?l[0]:[s/a,r/a],this._map.layerPointToLatLng(h)},_setLatLngs:function(t){o.Polyline.prototype._setLatLngs.call(this,t),o.Polyline._flat(this._latlngs)&&(this._latlngs=[this._latlngs])}}),o.polygon=function(t,e){return new o.Polygon(t,e)},o.PolygonDash=o.Polygon.extend({_updatePath:function(){this._renderer._updatePolygonDash(this,!0)}}),o.polygonDash=function(t,e){return new o.PolygonDash(t,e)},o.Rectangle=o.Polygon.extend({_boundsToLatLngs:function(t){return t=o.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]},initialize:function(t,e){o.PolygonDash.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))}}),o.rectangle=function(t,e){return new o.Rectangle(t,e)},o.RectangleDash=o.PolygonDash.extend({_boundsToLatLngs:function(t,e){return latLngBounds=o.latLngBounds(t,e),[latLngBounds.getSouthWest(),latLngBounds.getNorthWest(),latLngBounds.getNorthEast(),latLngBounds.getSouthEast()]},initialize:function(t,e){o.PolygonDash.prototype.initialize.call(this,this._boundsToLatLngs(t[0],t[1]),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))}}),o.rectangleDash=function(t,e){return new o.RectangleDash(t,e)},o.CircleMarker=o.Path.extend({options:{fill:!0,radius:5},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},initialize:function(t,e){o.setOptions(this,e),this._latlng=o.latLng(t),this._radius=this.options.radius},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_update:function(){this._updatePath()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),n=[t+i,e+i];this._pxBounds=new o.Bounds(this._point.subtract(n),this._point.add(n))},_updatePath:function(){this._renderer._updateCircleMarker(this)},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new o.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:function(t){var e=t&&t.radius||this._radius;return o.Path.prototype.setStyle.call(this,t),this.setRadius(e),this},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=o.latLng(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getRadius:function(){return this._radius},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()}}),o.circleMarker=function(t,e){return new o.CircleMarker(t,e)},o.CircleMarkerDash=o.CircleMarker.extend({_updatePath:function(){this._renderer._updateCircleMarkerDash(this)}}),o.circleMarkerDash=function(t,e){return new o.CircleMarkerDash(t,e)},o.Circle=o.CircleMarker.extend({MathPI180:Math.PI/180,initialize:function(t,e,i){if("number"==typeof e&&(e=o.extend({},i,{radius:e})),o.setOptions(this,e),this._latlng=o.latLng(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===o.CRS.Earth.distance){var a=this.MathPI180,s=this._mRadius/o.CRS.Earth.R/a,r=i.project([e+s,t]),h=i.project([e-s,t]),l=r.add(h).divideBy(2),c=i.unproject(l).lat,u=Math.acos((Math.cos(s*a)-Math.sin(e*a)*Math.sin(c*a))/(Math.cos(e*a)*Math.cos(c*a)))/a;(isNaN(u)||0===u)&&(u=s/Math.cos(this.MathPI180*e)),this._point=l.subtract(i.getPixelOrigin()),this._radius=isNaN(u)?0:Math.max(Math.round(l.x-i.project([c,t-u]).x),1),this._radiusY=Math.max(Math.round(l.y-r.y),1)}else{var _=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(_).x}this._updateBounds()},_updatePath:function(){this._renderer._updateCircle(this)},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new o.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:o.Path.prototype.setStyle,getRadius:function(){return this._mRadius},setRadius:function(t){return this._mRadius=t,this.redraw()}}),o.circle=function(t,e,i){return new o.Circle(t,e,i)},o.CircleDash=o.Circle.extend({_updatePath:function(){this._renderer._updateCircleDash(this)}}),o.circleDash=function(t,e,i){return new o.CircleDash(t,e,i)},o.SVG=o.Renderer.extend({getEvents:function(){var t=o.Renderer.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=o.SVG.create("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=o.SVG.create("g"),this._container.appendChild(this._rootGroup)},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){o.Renderer.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),o.DomUtil.setPosition(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" "))}},_initPath:function(t){var e=t._path=o.SVG.create("path");t.options.className&&o.DomUtil.addClass(e,t.options.className),t.options.interactive&&o.DomUtil.addClass(e,"leaflet-interactive"),this._updateStyle(t)},_addPath:function(t){this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){o.DomUtil.remove(t._path),t.removeInteractiveTarget(t._path)},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,o.SVG.pointsToPath(t._parts,e))},_updateCircle:function(t){var e=t._point,i=t._radius,n=t._radiusY||i,o="a"+i+","+n+" 0 1,0 ",a=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+o+2*i+",0 "+o+2*-i+",0 ";this._setPath(t,a)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){o.DomUtil.toFront(t._path)},_bringToBack:function(t){o.DomUtil.toBack(t._path)}}),o.extend(o.SVG,{create:function(t){return e.createElementNS("http://www.w3.org/2000/svg",t)},pointsToPath:function(t,e){var i,n,a,s,r,h,l="";for(i=0,a=t.length;a>i;++i){for(r=t[i],l+="M"+r[0].x+" "+r[0].y,n=1,s=r.length;s>n;++n)h=r[n],l+="L"+h.x+" "+h.y;l+=e?o.Browser.svg?"z":"x":""}return l||"M0 0"}}),o.Browser.svg=!(!e.createElementNS||!o.SVG.create("svg").createSVGRect),o.svg=function(t){return o.Browser.svg||o.Browser.vml?new o.SVG(t):null},o.Browser.vml=!o.Browser.svg&&function(){try{var t=e.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&"object"==typeof i.adj}catch(n){return!1}}(),o.SVG.include(o.Browser.vml?{_initContainer:function(){this._container=o.DomUtil.create("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||o.Renderer.prototype._update.call(this)},_initPath:function(t){var e=t._container=o.SVG.create("shape");o.DomUtil.addClass(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=o.SVG.create("path"),e.appendChild(t._path),this._updateStyle(t)},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;o.DomUtil.remove(e),t.removeInteractiveTarget(e)},_updateStyle:function(t){var e=t._stroke,i=t._fill,n=t.options,a=t._container;a.stroked=!!n.stroke,a.filled=!!n.fill,n.stroke?(e||(e=t._stroke=o.SVG.create("stroke")),a.appendChild(e),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,n.dashArray?e.dashStyle=o.Util.isArray(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=n.lineCap.replace("butt","flat"),e.joinstyle=n.lineJoin):e&&(a.removeChild(e),t._stroke=null),n.fill?(i||(i=t._fill=o.SVG.create("fill")),a.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(a.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),n=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+n+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){o.DomUtil.toFront(t._container)},_bringToBack:function(t){o.DomUtil.toBack(t._container)}}:{}),o.Browser.vml&&(o.SVG.create=function(){try{return e.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return e.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()),o.Canvas=o.Renderer.extend({MathPI2:2*Math.PI,_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_handleMouseOut:function(t,e){var i=this._hoveredLayer;!i||"mouseout"!==t.type&&i._containsPoint(e)||(o.DomUtil.removeClass(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){var i,n;for(i in this._drawnLayers)n=this._drawnLayers[i],n.options.interactive&&n._containsPoint(e)&&(o.DomUtil.addClass(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseover"),this._hoveredLayer=n);this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},onAdd:function(){o.Renderer.prototype.onAdd.call(this),this._layers=this._layers||{},this._draw()},_onClick:function(t){var e,i=this._map.mouseEventToLayerPoint(t),n=[];for(var a in this._layers)e=this._layers[a],e.options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(o.DomEvent._fakeStop(t),n.push(e));n.length&&this._fireEvent(n,t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseOut(t,e),this._handleMouseHover(t,e)}},_addPath:o.Util.falseFn,_bringToBack:o.Util.falseFn,_bringToFront:o.Util.falseFn,_draw:function(t){this._clear=t,b=this._redrawBounds,this._ctx.save(),this._ctx.beginPath();try{}catch(e){}var i;for(var n in this._layers)i=this._layers[n],(!b||i._pxBounds&&i._pxBounds.intersects(b))&&i._updatePath(),t&&i._removed&&(delete i._removed,delete this._layers[n]);this._ctx.restore()},_fillStroke:function(t,e){var i=this._clear,n=e.options;t.globalCompositeOperation=i?"destination-out":"source-over",n.fill&&(t.globalAlpha=i?1:n.fillOpacity,t.fillStyle=n.fillColor,t.fill(n.fillRule||"evenodd")),n.stroke&&(t.globalAlpha=i?1:n.opacity,e._prevWeight=t.lineWidth=i?e._prevWeight+1:n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_fillStroke_Fill:function(t,e){d=e.options,t.globalAlpha=d.fillOpacity,t.fillStyle=d.fillColor,t.fill(d.fillRule)},_fillStroke_Stroke:function(t,e){var i=this._clear,n=e.options;t.globalCompositeOperation=i?"destination-out":"source-over",t.globalAlpha=i?1:n.opacity,e._prevWeight=t.lineWidth=i?e._prevWeight+1:n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke()},_initContainer:function(){var t=this._container=e.createElement("canvas");o.DomEvent.on(t,"mousemove",o.Util.throttle(this._onMouseMove,32,this),this).on(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this).on(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_initPath:function(t){this._updateDashArray(t),this._layers[o.stamp(t)]=t},_redraw:function(){this._redrawRequest=null,this._draw(!0),this._draw(),this._redrawBounds=null},_removePath:function(t){t._removed=!0,this._requestRedraw(t)},_requestRedraw:function(t){try{var e=t.options.weight+1;this._redrawBounds=this._redrawBounds||new o.Bounds,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e])),this._redrawRequest=this._redrawRequest||o.Util.requestAnimFrame(this._redraw,this)}catch(i){}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},o.Renderer.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),n=o.Browser.retina?2:1;o.DomUtil.setPosition(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",o.Browser.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y)}},_updateCircle:function(t){var e=t._point,i=this._ctx,n=t._radius,o=t._radiusY/n;this._drawnLayers[t._leaflet_id]=t,1!==o&&(i.save(),i.scale(1,o)),i.beginPath(),i.arc(e.x,e.y/o,n,0,this.MathPI2,!1),1!==o&&i.restore(),this._fillStroke(i,t)},_updateCircleDash:function(t){var e=t._point,i=this._ctx,n=t._radius,o=t._radiusY/n;this._drawnLayers[t._leaflet_id]=t,1!==o&&(i.save(),i.scale(1,o)),i.beginPath(),i.setLineDash(t.options._dashArray),i.arc(e.x,e.y/o,n,0,this.MathPI2,!1),1!==o&&i.restore(),this._fillStroke(i,t)},_updateCircleMarker:function(t){var e=t._point,i=this._ctx,n=t._radius;this._drawnLayers[t._leaflet_id]=t,i.beginPath(),i.arc(e.x,e.y/1,n,0,this.MathPI2,!1),this._fillStroke(i,t)},_updateCircleMarkerDash:function(t){
var e=t._point,i=this._ctx,n=t._radius;this._drawnLayers[t._leaflet_id]=t,i.beginPath(),i.setLineDash(t.options._dashArray),i.arc(e.x,e.y/1,n,0,this.MathPI2,!1),this._fillStroke(i,t)},_updateDashArray:function(t){if(t.options.dashArray){var e,i=layer.options.dashArray.split(","),n=[];for(e=0;e<i.length;e++)n.push(Number(i[e]));t.options._dashArray=n}},_updatePath:function(t){this._redrawBounds=t._pxBounds,this._draw(!0),t._project(),t._update(),this._draw(),this._redrawBounds=null},_updatePoly:function(t,e){var i,n,o,a,s=t._parts,r=s.length,h=this._ctx;this._drawnLayers[t._leaflet_id]=t,h.beginPath();var l;for(i=0;r>i;++i){for(l=s[i],h.moveTo(l[0].x,l[0].y),n=1,o=s[i].length;o>n;++n)a=l[n],h.lineTo(a.x,a.y);e&&h.closePath()}this._fillStroke(h,t)},_updatePolygon:function(t){var e,i,n,o,a=t._parts,s=a.length,r=this._ctx;this._drawnLayers[t._leaflet_id]=t,r.beginPath();var h;for(e=0;s>e;++e){for(h=a[e],r.moveTo(h[0].x,h[0].y),i=1,n=a[e].length;n>i;++i)o=h[i],r.lineTo(o.x,o.y);r.closePath()}this._fillStroke(r,t)},_updatePolygonDash:function(t){var e,i,n,o,a=t._parts,s=a.length,r=this._ctx;this._drawnLayers[t._leaflet_id]=t,r.beginPath(),r.setLineDash(t.options._dashArray);var h;for(e=0;s>e;++e){for(h=a[e],r.moveTo(h[0].x,h[0].y),i=1,n=a[e].length;n>i;++i)o=h[i],r.lineTo(o.x,o.y);r.closePath()}this._fillStroke(r,t)},_updatePolyline:function(t){var e,i,n,o,a=t._parts,s=a.length,r=this._ctx;this._drawnLayers[t._leaflet_id]=t,r.beginPath();var h;for(e=0;s>e;++e)for(h=a[e],r.moveTo(h[0].x,h[0].y),i=1,n=a[e].length;n>i;++i)o=h[i],r.lineTo(o.x,o.y);this._fillStroke(r,t)},_updatePolyline_Stroke:function(t){var e,i,n,o,a=t._parts,s=a.length,r=this._ctx;this._drawnLayers[t._leaflet_id]=t,r.beginPath();var h;for(e=0;s>e;++e)for(h=a[e],r.moveTo(h[0].x,h[0].y),i=1,n=a[e].length;n>i;++i)o=h[i],r.lineTo(o.x,o.y);this._fillStroke_Stroke(r,t)},_updatePolylineDash:function(t){var e,i,n,o,a=t._parts,s=a.length,r=this._ctx;this._drawnLayers[t._leaflet_id]=t,r.beginPath(),r.setLineDash(t.options._dashArray);var h;for(e=0;s>e;++e)for(h=a[e],f0(h[0].x,h[0].y),i=1,n=a[e].length;n>i;++i)o=h[i],r.lineTo(o.x,o.y);this._fillStroke(r,t)},_updatePolylineDash_Stroke:function(t){var e,i,n,o,a=t._parts,s=a.length,r=this._ctx;this._drawnLayers[t._leaflet_id]=t,r.beginPath(),r.setLineDash(t.options._dashArray);var h;for(e=0;s>e;++e)for(h=a[e],f0(h[0].x,h[0].y),i=1,n=a[e].length;n>i;++i)o=h[i],r.lineTo(o.x,o.y);this._fillStroke_Stroke(r,t)},_updateStyle:function(t){this._requestRedraw(t)}}),o.Browser.canvas=function(){return!!e.createElement("canvas").getContext}(),o.canvas=function(t){return o.Browser.canvas?new o.Canvas(t):null},o.CircleMarker.prototype._containsPoint=function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()},o.Polygon.prototype._containsPoint=function(t){var e,i,n,a,s,r,h,l,c=!1;if(!this._pxBounds.contains(t))return!1;for(a=0,h=this._parts.length;h>a;a++)for(e=this._parts[a],s=0,l=e.length,r=l-1;l>s;r=s++)i=e[s],n=e[r],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(c=!c);return c||o.Polyline.prototype._containsPoint.call(this,t,!0)},o.Polyline.prototype._containsPoint=function(t,e){var i,n,a,s,r,h,l=this._clickTolerance();if(!this._pxBounds.contains(t))return!1;for(i=0,s=this._parts.length;s>i;++i)for(h=this._parts[i],n=0,r=h.length,a=r-1;r>n;a=n++)if((e||0!==n)&&o.LineUtil.pointToSegmentDistance(t,h[a],h[n])<=l)return!0;return!1},o.Canvas_Fast=o.Canvas.extend({_draw:function(t){this._clear=t},_fillStroke:function(t,e){d=e.options,d.fill&&(t.globalAlpha=d.fillOpacity,t.fillStyle=d.fillColor,t.fill(d.fillRule)),d.stroke&&(t.globalAlpha=d.opacity,e._prevWeight=t.lineWidth=d.weight,t.strokeStyle=d.color,t.lineCap=d.lineCap,t.lineJoin=d.lineJoin,t.stroke())},_fillStroke_Fill:function(t,e){d=e.options,t.globalAlpha=d.fillOpacity,t.fillStyle=d.fillColor,t.fill(d.fillRule)},_fillStroke_Stroke:function(t,e){d=e.options,t.globalAlpha=d.opacity,e._prevWeight=t.lineWidth=d.weight,t.strokeStyle=d.color,t.lineCap=d.lineCap,t.lineJoin=d.lineJoin,t.stroke()},_update:function(){this._drawnLayers={},o.Renderer.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),n=1;o.DomUtil.setPosition(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",this._ctx.translate(-t.min.x,-t.min.y)},_updateDashArray:function(t){},_updatePolygonDash:function(t){var e,i,n,o,a=t._parts,s=a.length,r=this._ctx;this._drawnLayers[t._leaflet_id]=t,r.beginPath(),r.setLineDash(t.options._dashArray);var h;for(e=0;s>e;++e){for(h=a[e],r.moveTo(h[0].x,h[0].y),i=1,n=a[e].length;n>i;++i)o=h[i],r.lineTo(o.x,o.y);r.closePath()}this._fillStroke(r,t)},_updatePolyline:function(t){var e,i,n,o,a=t._parts,s=a.length,r=this._ctx;this._drawnLayers[t._leaflet_id]=t,r.beginPath();var h;for(e=0;s>e;++e)for(h=a[e],r.moveTo(h[0].x,h[0].y),i=1,n=a[e].length;n>i;++i)o=h[i],r.lineTo(o.x,o.y);this._fillStroke(r,t)},_updatePolylineDash:function(t){var e,i,n,o,a=t._parts,s=a.length,r=this._ctx;this._drawnLayers[t._leaflet_id]=t,r.beginPath(),r.setLineDash(t.options._dashArray);var h;for(e=0;s>e;++e)for(h=a[e],f0(h[0].x,h[0].y),i=1,n=a[e].length;n>i;++i)o=h[i],r.lineTo(o.x,o.y);this._fillStroke(r,t)},_updatePolylineDash_Stroke:function(t){var e,i,n,o,a=t._parts,s=a.length,r=this._ctx;this._drawnLayers[t._leaflet_id]=t,r.beginPath(),r.setLineDash(t.options._dashArray);var h;for(e=0;s>e;++e)for(h=a[e],f0(h[0].x,h[0].y),i=1,n=a[e].length;n>i;++i)o=h[i],r.lineTo(o.x,o.y);this._fillStroke_Stroke(r,t)},_updatePolygon:function(t){var e,i,n,o=t._parts,a=o.length,s=this._ctx;this._drawnLayers[t._leaflet_id]=t,s.beginPath();var r;for(e=0;a>e;++e){for(r=o[e],s.moveTo(r[0].x,r[0].y),i=1,n=o[e].length;n>i;++i)s.lineTo(r[i].x,r[i].y);s.closePath()}this._fillStroke(s,t)},_updatePolyline_Stroke:function(t){var e,i,n,o=t._parts,a=o.length,s=this._ctx;this._drawnLayers[t._leaflet_id]=t,s.beginPath();var r;for(e=0;a>e;++e)for(r=o[e],s.moveTo(r[0].x,r[0].y),i=1,n=o[e].length;n>i;++i)s.lineTo(r[i].x,r[i].y);this._fillStroke_Stroke(s,t)},_updateStyle:function(t){this._requestRedraw(t)}}),o.canvas_Fast=function(t){return o.Browser.canvas?new o.Canvas_Fast(t):null},o.GeoJSON=o.FeatureGroup.extend({initialize:function(t,e){o.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,a=o.Util.isArray(t)?t:t.features;if(a){for(e=0,i=a.length;i>e;e++)n=a[e],(n.geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var s=this.options;if(s.filter&&!s.filter(t))return this;var r=o.GeoJSON.geometryToLayer(t,s);return r?(r.feature=o.GeoJSON.asFeature(t),r.defaultOptions=r.options,this.resetStyle(r),s.onEachFeature&&s.onEachFeature(t,r),this.addLayer(r)):this},resetStyle:function(t){return t.options=o.Util.extend({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),o.extend(o.GeoJSON,{geometryToLayer:function(t,e){var i,n,a,s,r="Feature"===t.type?t.geometry:t,h=r?r.coordinates:null,l=[],c=e&&e.pointToLayer,u=e&&e.coordsToLatLng||this.coordsToLatLng;if(!h&&!r)return null;switch(r.type){case"Point":return i=u(h),c?c(t,i):new o.Marker(i);case"MultiPoint":for(a=0,s=h.length;s>a;a++)i=u(h[a]),l.push(c?c(t,i):new o.Marker(i));return new o.FeatureGroup(l);case"LineString":case"MultiLineString":return n=this.coordsToLatLngs(h,"LineString"===r.type?0:1,u),new o.Polyline(n,e);case"Polygon":case"MultiPolygon":return n=this.coordsToLatLngs(h,"Polygon"===r.type?1:2,u),new o.Polygon(n,e);case"GeometryCollection":for(a=0,s=r.geometries.length;s>a;a++){var _=this.geometryToLayer({geometry:r.geometries[a],type:"Feature",properties:t.properties},e);_&&l.push(_)}return new o.FeatureGroup(l);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new o.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,i){for(var n,o=[],a=0,s=t.length;s>a;a++)n=e?this.coordsToLatLngs(t[a],e-1,i):(i||this.coordsToLatLng)(t[a]),o.push(n);return o},latLngToCoords:function(t){return t.alt!==i?[t.lng,t.lat,t.alt]:[t.lng,t.lat]},latLngsToCoords:function(t,e,i){for(var n=[],a=0,s=t.length;s>a;a++)n.push(e?o.GeoJSON.latLngsToCoords(t[a],e-1,i):o.GeoJSON.latLngToCoords(t[a]));return!e&&i&&n.push(n[0]),n},getFeature:function(t,e){return t.feature?o.extend({},t.feature,{geometry:e}):o.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var s={toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"Point",coordinates:o.GeoJSON.latLngToCoords(this.getLatLng())})}};o.Marker.include(s),o.Circle.include(s),o.CircleMarker.include(s),o.Polyline.prototype.toGeoJSON=function(){var t=!o.Polyline._flat(this._latlngs),e=o.GeoJSON.latLngsToCoords(this._latlngs,t?1:0);return o.GeoJSON.getFeature(this,{type:(t?"Multi":"")+"LineString",coordinates:e})},o.Polygon.prototype.toGeoJSON=function(){var t=!o.Polyline._flat(this._latlngs),e=t&&!o.Polyline._flat(this._latlngs[0]),i=o.GeoJSON.latLngsToCoords(this._latlngs,e?2:t?1:0,!0);return t||(i=[i]),o.GeoJSON.getFeature(this,{type:(e?"Multi":"")+"Polygon",coordinates:i})},o.LayerGroup.include({toMultiPoint:function(){var t=[];return this.eachLayer(function(e){t.push(e.toGeoJSON().geometry.coordinates)}),o.GeoJSON.getFeature(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint();var e="GeometryCollection"===t,i=[];return this.eachLayer(function(t){if(t.toGeoJSON){var n=t.toGeoJSON();i.push(e?n.geometry:o.GeoJSON.asFeature(n))}}),e?o.GeoJSON.getFeature(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}}),o.geoJSON=function(t,e){return new o.GeoJSON(t,e)},o.geoJson=o.geoJSON;var r="_leaflet_events";o.DomEvent={on:function(t,e,i,n){if("object"==typeof e)for(var a in e)this._on(t,a,e[a],i);else{e=o.Util.splitWords(e);for(var s=0,r=e.length;r>s;s++)this._on(t,e[s],i,n)}return this},off:function(t,e,i,n){if("object"==typeof e)for(var a in e)this._off(t,a,e[a],i);else{e=o.Util.splitWords(e);for(var s=0,r=e.length;r>s;s++)this._off(t,e[s],i,n)}return this},_on:function(e,i,n,a){var s=i+o.stamp(n)+(a?"_"+o.stamp(a):"");if(e[r]&&e[r][s])return this;var h=function(i){return n.call(a||e,i||t.event)},l=h;return o.Browser.pointer&&0===i.indexOf("touch")?this.addPointerListener(e,i,h,s):o.Browser.touch&&"dblclick"===i&&this.addDoubleTapListener?this.addDoubleTapListener(e,h,s):"addEventListener"in e?"mousewheel"===i?e.addEventListener("onwheel"in e?"wheel":"mousewheel",h,!1):"mouseenter"===i||"mouseleave"===i?(h=function(i){i=i||t.event,o.DomEvent._isExternalTarget(e,i)&&l(i)},e.addEventListener("mouseenter"===i?"mouseover":"mouseout",h,!1)):("click"===i&&o.Browser.android&&(h=function(t){return o.DomEvent._filterClick(t,l)}),e.addEventListener(i,h,!1)):"attachEvent"in e&&e.attachEvent("on"+i,h),e[r]=e[r]||{},e[r][s]=h,this},_off:function(t,e,i,n){var a=e+o.stamp(i)+(n?"_"+o.stamp(n):""),s=t[r]&&t[r][a];return s?(o.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,a):o.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,a):"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",s,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s),t[r][a]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,o.DomEvent._skipped(t),this},disableScrollPropagation:function(t){return o.DomEvent.on(t,"mousewheel",o.DomEvent.stopPropagation)},disableClickPropagation:function(t){var e=o.DomEvent.stopPropagation;return o.DomEvent.on(t,o.Draggable.START.join(" "),e),o.DomEvent.on(t,{click:o.DomEvent._fakeStop,dblclick:e})},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return o.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new o.Point(t.clientX,t.clientY);var i=e.getBoundingClientRect();return new o.Point(t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop)},_wheelPxFactor:o.Browser.win&&o.Browser.chrome?2:o.Browser.gecko?t.devicePixelRatio:1,getWheelDelta:function(t){return t.deltaY&&0===t.deltaMode?-t.deltaY/o.DomEvent._wheelPxFactor:t.deltaY&&1===t.deltaMode?18*-t.deltaY:t.deltaY&&2===t.deltaMode?52*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?18*-t.detail:t.detail?t.detail/-32765*52:0},_skipEvents:{},_fakeStop:function(t){o.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_isExternalTarget:function(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(n){return!1}return i!==t},_filterClick:function(t,e){var i=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,n=o.DomEvent._lastClick&&i-o.DomEvent._lastClick;return n&&n>100&&500>n||t.target._simulatedClick&&!t._simulated?void o.DomEvent.stop(t):(o.DomEvent._lastClick=i,void e(t))}},o.DomEvent.addListener=o.DomEvent.on,o.DomEvent.removeListener=o.DomEvent.off,o.Draggable=o.Evented.extend({options:{clickTolerance:3},statics:{START:o.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e,i){this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(o.DomEvent.on(this._dragStartTarget,o.Draggable.START.join(" "),this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(o.DomEvent.off(this._dragStartTarget,o.Draggable.START.join(" "),this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&(this._moved=!1,!o.DomUtil.hasClass(this._element,"leaflet-zoom-anim")&&!(o.Draggable._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&this._enabled&&(o.Draggable._dragging=!0,this._preventOutline&&o.DomUtil.preventOutline(this._element),o.DomUtil.disableImageDrag(),o.DomUtil.disableTextSelection(),!this._moving))){this.fire("down");var i=t.touches?t.touches[0]:t;this._startPoint=new o.Point(i.clientX,i.clientY),o.DomEvent.on(e,o.Draggable.MOVE[t.type],this._onMove,this).on(e,o.Draggable.END[t.type],this._onUp,this)}},_onMove:function(i){if(!i._simulated){if(i.touches&&i.touches.length>1)return void(this._moved=!0);var n=i.touches&&1===i.touches.length?i.touches[0]:i,a=new o.Point(n.clientX,n.clientY),s=a.subtract(this._startPoint);(s.x||s.y)&&(Math.abs(s.x)+Math.abs(s.y)<this.options.clickTolerance||(o.DomEvent.preventDefault(i),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=o.DomUtil.getPosition(this._element).subtract(s),o.DomUtil.addClass(e.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,t.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),o.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(s),this._moving=!0,o.Util.cancelAnimFrame(this._animRequest),this._lastEvent=i,this._animRequest=o.Util.requestAnimFrame(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),o.DomUtil.setPosition(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){if(!t._simulated){o.DomUtil.removeClass(e.body,"leaflet-dragging"),this._lastTarget&&(o.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var i in o.Draggable.MOVE)o.DomEvent.off(e,o.Draggable.MOVE[i],this._onMove,this).off(e,o.Draggable.END[i],this._onUp,this);o.DomUtil.enableImageDrag(),o.DomUtil.enableTextSelection(),this._moved&&this._moving&&(o.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,o.Draggable._dragging=!1}}}),o.Handler=o.Class.extend({enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},enabled:function(){return!!this._enabled},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},initialize:function(t){this._map=t}}),o.Map.mergeOptions({dragging:!0,inertia:!o.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),o.Map.Drag=o.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new o.Draggable(t._mapPane,t._container),this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}o.DomUtil.addClass(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){o.DomUtil.removeClass(this._map._container,"leaflet-grab"),o.DomUtil.removeClass(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDown:function(){this._map._stop()},_onDragStart:function(){var t=this._map;if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=o.latLngBounds(this._map.options.maxBounds);this._offsetLimit=o.bounds(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),e-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+i)%t+e-i,a=(n+e+i)%t-e-i,s=Math.abs(o+i)<Math.abs(a+i)?o:a;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,i=e.options,n=!i.inertia||this._times.length<2;if(e.fire("dragend",t),n)e.fire("moveend");else{var a=this._lastPos.subtract(this._positions[0]),s=(this._lastTime-this._times[0])/1e3,r=i.easeLinearity,h=a.multiplyBy(r/s),l=h.distanceTo([0,0]),c=Math.min(i.inertiaMaxSpeed,l),u=h.multiplyBy(c/l),_=c/(i.inertiaDeceleration*r),d=u.multiplyBy(-_/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),o.Util.requestAnimFrame(function(){e.panBy(d,{duration:_,easeLinearity:r,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}}),o.Map.addInitHook("addHandler","dragging",o.Map.Drag),o.Map.mergeOptions({doubleClickZoom:!0}),o.Map.DoubleClickZoom=o.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),n=e.options.zoomDelta,o=t.originalEvent.shiftKey?i-n:i+n;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}}),o.Map.addInitHook("addHandler","doubleClickZoom",o.Map.DoubleClickZoom),o.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:50}),o.Map.ScrollWheelZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){o.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=o.DomEvent.getWheelDelta(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o.bind(this._performZoom,this),n),o.DomEvent.stop(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,a=i?Math.ceil(o/i)*i:o,s=t._limitZoom(e+(this._delta>0?a:-a))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}}),o.Map.addInitHook("addHandler","scrollWheelZoom",o.Map.ScrollWheelZoom),o.extend(o.DomEvent,{_touchstart:o.Browser.msPointer?"MSPointerDown":o.Browser.pointer?"pointerdown":"touchstart",_touchend:o.Browser.msPointer?"MSPointerUp":o.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,e,i){function n(t){var e;if(e=o.Browser.pointer?o.DomEvent._pointersCount:t.touches.length,!(e>1)){var i=Date.now(),n=i-(s||i);r=t.touches?t.touches[0]:t,h=n>0&&l>=n,s=i}}function a(){if(h&&!r.cancelBubble){if(o.Browser.pointer){var t,i,n={};for(i in r)t=r[i],n[i]=t&&t.bind?t.bind(r):t;r=n}r.type="dblclick",e(r),s=null}}var s,r,h=!1,l=250,c="_leaflet_",u=this._touchstart,_=this._touchend;return t[c+u+i]=n,t[c+_+i]=a,t[c+"dblclick"+i]=e,t.addEventListener(u,n,!1),t.addEventListener(_,a,!1),o.Browser.edge||t.addEventListener("dblclick",e,!1),this},removeDoubleTapListener:function(t,e){var i="_leaflet_",n=t[i+this._touchstart+e],a=t[i+this._touchend+e],s=t[i+"dblclick"+e];return t.removeEventListener(this._touchstart,n,!1),t.removeEventListener(this._touchend,a,!1),o.Browser.edge||t.removeEventListener("dblclick",s,!1),this}}),o.extend(o.DomEvent,{POINTER_DOWN:o.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:o.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:o.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:o.Browser.msPointer?"MSPointerCancel":"pointercancel",TAG_WHITE_LIST:["INPUT","SELECT","OPTION"],_pointers:{},_pointersCount:0,addPointerListener:function(t,e,i,n){return"touchstart"===e?this._addPointerStart(t,i,n):"touchmove"===e?this._addPointerMove(t,i,n):"touchend"===e&&this._addPointerEnd(t,i,n),this},removePointerListener:function(t,e,i){var n=t["_leaflet_"+e+i];return"touchstart"===e?t.removeEventListener(this.POINTER_DOWN,n,!1):"touchmove"===e?t.removeEventListener(this.POINTER_MOVE,n,!1):"touchend"===e&&(t.removeEventListener(this.POINTER_UP,n,!1),t.removeEventListener(this.POINTER_CANCEL,n,!1)),this},_addPointerStart:function(t,i,n){var a=o.bind(function(t){if("mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(this.TAG_WHITE_LIST.indexOf(t.target.tagName)<0))return;o.DomEvent.preventDefault(t)}this._handlePointer(t,i)},this);if(t["_leaflet_touchstart"+n]=a,t.addEventListener(this.POINTER_DOWN,a,!1),!this._pointerDocListener){var s=o.bind(this._globalPointerUp,this);e.documentElement.addEventListener(this.POINTER_DOWN,o.bind(this._globalPointerDown,this),!0),e.documentElement.addEventListener(this.POINTER_MOVE,o.bind(this._globalPointerMove,this),!0),e.documentElement.addEventListener(this.POINTER_UP,s,!0),e.documentElement.addEventListener(this.POINTER_CANCEL,s,!0),this._pointerDocListener=!0}},_globalPointerDown:function(t){this._pointers[t.pointerId]=t,this._pointersCount++},_globalPointerMove:function(t){this._pointers[t.pointerId]&&(this._pointers[t.pointerId]=t)},_globalPointerUp:function(t){delete this._pointers[t.pointerId],this._pointersCount--},_handlePointer:function(t,e){t.touches=[];for(var i in this._pointers)t.touches.push(this._pointers[i]);t.changedTouches=[t],e(t)},_addPointerMove:function(t,e,i){var n=o.bind(function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&this._handlePointer(t,e)},this);t["_leaflet_touchmove"+i]=n,t.addEventListener(this.POINTER_MOVE,n,!1)},_addPointerEnd:function(t,e,i){var n=o.bind(function(t){this._handlePointer(t,e)},this);t["_leaflet_touchend"+i]=n,t.addEventListener(this.POINTER_UP,n,!1),t.addEventListener(this.POINTER_CANCEL,n,!1)}}),o.Map.mergeOptions({touchZoom:o.Browser.touch&&!o.Browser.android23,bounceAtZoomLimits:!0}),o.Map.TouchZoom=o.Handler.extend({addHooks:function(){o.DomUtil.addClass(this._map._container,"leaflet-touch-zoom"),o.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){o.DomUtil.removeClass(this._map._container,"leaflet-touch-zoom"),o.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(t.touches&&2===t.touches.length&&!i._animatingZoom&&!this._zooming){var n=i.mouseEventToContainerPoint(t.touches[0]),a=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),"center"!==i.options.touchZoom&&(this._pinchStartLatLng=i.containerPointToLatLng(n.add(a)._divideBy(2))),this._startDist=n.distanceTo(a),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),o.DomEvent.on(e,"touchmove",this._onTouchMove,this).on(e,"touchend",this._onTouchEnd,this),o.DomEvent.preventDefault(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]),a=i.distanceTo(n)/this._startDist;if(this._zoom=e.getScaleZoom(a,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&1>a||this._zoom>e.getMaxZoom()&&a>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===a)return}else{var s=i._add(n)._divideBy(2)._subtract(this._centerPoint);if(1===a&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0),this._moved=!0),o.Util.cancelAnimFrame(this._animRequest);var r=o.bind(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=o.Util.requestAnimFrame(r,this,!0),o.DomEvent.preventDefault(t)}},_onTouchEnd:function(){return this._moved&&this._zooming?(this._zooming=!1,o.Util.cancelAnimFrame(this._animRequest),o.DomEvent.off(e,"touchmove",this._onTouchMove).off(e,"touchend",this._onTouchEnd),void(this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.snapZoom):this._map._resetView(this._center,this._map._limitZoom(this._zoom)))):void(this._zooming=!1)}}),o.Map.addInitHook("addHandler","touchZoom",o.Map.TouchZoom),o.Map.mergeOptions({tap:!0,tapTolerance:15}),o.Map.Tap=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(o.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var i=t.touches[0],n=i.target;this._startPos=this._newPos=new o.Point(i.clientX,i.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&o.DomUtil.addClass(n,"leaflet-active"),this._holdTimeout=setTimeout(o.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",i))},this),1e3),this._simulateEvent("mousedown",i),o.DomEvent.on(e,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),o.DomEvent.off(e,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var i=t.changedTouches[0],n=i.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&o.DomUtil.removeClass(n,"leaflet-active"),this._simulateEvent("mouseup",i),this._isTapValid()&&this._simulateEvent("click",i)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new o.Point(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(i,n){var o=e.createEvent("MouseEvents");o._simulated=!0,n.target._simulatedClick=!0,o.initMouseEvent(i,!0,!0,t,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(o)}}),o.Browser.touch&&!o.Browser.pointer&&o.Map.addInitHook("addHandler","tap",o.Map.Tap),o.Map.mergeOptions({boxZoom:!0}),o.Map.BoxZoom=o.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){o.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){o.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_resetState:function(){this._moved=!1},_onMouseDown:function(t){return!t.shiftKey||1!==t.which&&1!==t.button?!1:(this._resetState(),o.DomUtil.disableTextSelection(),o.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(t),void o.DomEvent.on(e,{contextmenu:o.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this))},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=o.DomUtil.create("div","leaflet-zoom-box",this._container),o.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new o.Bounds(this._point,this._startPoint),i=e.getSize();o.DomUtil.setPosition(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(o.DomUtil.remove(this._box),o.DomUtil.removeClass(this._container,"leaflet-crosshair")),o.DomUtil.enableTextSelection(),o.DomUtil.enableImageDrag(),o.DomEvent.off(e,{contextmenu:o.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){setTimeout(o.bind(this._resetState,this),0);var e=new o.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),o.Map.addInitHook("addHandler","boxZoom",o.Map.BoxZoom),o.Map.mergeOptions({keyboard:!0,keyboardPanDelta:80}),o.Map.Keyboard=o.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),o.DomEvent.on(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){
this._removeHooks(),o.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=e.body,n=e.documentElement,o=i.scrollTop||n.scrollTop,a=i.scrollLeft||n.scrollLeft;this._map._container.focus(),t.scrollTo(a,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,i,n=this._panKeys={},o=this.keyCodes;for(e=0,i=o.left.length;i>e;e++)n[o.left[e]]=[-1*t,0];for(e=0,i=o.right.length;i>e;e++)n[o.right[e]]=[t,0];for(e=0,i=o.down.length;i>e;e++)n[o.down[e]]=[0,t];for(e=0,i=o.up.length;i>e;e++)n[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,i,n=this._zoomKeys={},o=this.keyCodes;for(e=0,i=o.zoomIn.length;i>e;e++)n[o.zoomIn[e]]=t;for(e=0,i=o.zoomOut.length;i>e;e++)n[o.zoomOut[e]]=-t},_addHooks:function(){o.DomEvent.on(e,"keydown",this._onKeyDown,this)},_removeHooks:function(){o.DomEvent.off(e,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,n=this._map;if(i in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;e=this._panKeys[i],t.shiftKey&&(e=o.point(e).multiplyBy(3)),n.panBy(e),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i)return;n.closePopup()}o.DomEvent.stop(t)}}}),o.Map.addInitHook("addHandler","keyboard",o.Map.Keyboard),o.Handler.MarkerDrag=o.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new o.Draggable(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),o.DomUtil.addClass(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&o.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var e=this._marker,i=e._shadow,n=o.DomUtil.getPosition(e._icon),a=e._map.layerPointToLatLng(n);i&&o.DomUtil.setPosition(i,n),e._latlng=a,t.latlng=a,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){this._marker.fire("moveend").fire("dragend",t)}}),o.Control=o.Class.extend({options:{position:"topright"},initialize:function(t){o.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return o.DomUtil.addClass(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this},remove:function(){return this._map?(o.DomUtil.remove(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),o.control=function(t){return new o.Control(t)},o.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,a){var s=i+t+" "+i+a;e[t+a]=o.DomUtil.create("div",s,n)}var e=this._controlCorners={},i="leaflet-",n=this._controlContainer=o.DomUtil.create("div",i+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){o.DomUtil.remove(this._controlContainer)}}),o.Control.Zoom=o.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=o.DomUtil.create("div",e+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){this._disabled||this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){this._disabled||this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,n,a){var s=o.DomUtil.create("a",i,n);return s.innerHTML=t,s.href="#",s.title=e,o.DomEvent.on(s,"mousedown dblclick",o.DomEvent.stopPropagation).on(s,"click",o.DomEvent.stop).on(s,"click",a,this).on(s,"click",this._refocusOnMap,this),s},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";o.DomUtil.removeClass(this._zoomInButton,e),o.DomUtil.removeClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&o.DomUtil.addClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&o.DomUtil.addClass(this._zoomInButton,e)}}),o.Map.mergeOptions({zoomControl:!0}),o.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new o.Control.Zoom,this.addControl(this.zoomControl))}),o.control.zoom=function(t){return new o.Control.Zoom(t)},o.Control.Attribution=o.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){o.setOptions(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=o.DomUtil.create("div","leaflet-control-attribution"),o.DomEvent&&o.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}}}),o.Map.mergeOptions({attributionControl:!0}),o.Map.addInitHook(function(){this.options.attributionControl&&(new o.Control.Attribution).addTo(this)}),o.control.attribution=function(t){return new o.Control.Attribution(t)},o.Control.Scale=o.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=o.DomUtil.create("div",e),n=this.options;return this._addScales(n,e+"-line",i),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=o.DomUtil.create("div",e,i)),t.imperial&&(this._iScale=o.DomUtil.create("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=1e3>e?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e,i,n,o=3.2808399*t;o>5280?(e=o/5280,i=this._getRoundNum(e),this._updateScale(this._iScale,i+" mi",i/e)):(n=this._getRoundNum(o),this._updateScale(this._iScale,n+" ft",n/o))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),o.control.scale=function(t){return new o.Control.Scale(t)},o.Control.Layers=o.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1},initialize:function(t,e,i){o.setOptions(this,i),this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var n in t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){return this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this),this._container},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(o.stamp(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){o.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(o.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):o.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return o.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=o.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),o.DomEvent.disableClickPropagation(e),o.Browser.touch||o.DomEvent.disableScrollPropagation(e);var i=this._form=o.DomUtil.create("form",t+"-list");if(this.options.collapsed){o.Browser.android||o.DomEvent.on(e,{mouseenter:this.expand,mouseleave:this.collapse},this);var n=this._layersLink=o.DomUtil.create("a",t+"-toggle",e);n.href="#",n.title="Layers",o.Browser.touch?o.DomEvent.on(n,"click",o.DomEvent.stop).on(n,"click",this.expand,this):o.DomEvent.on(n,"focus",this.expand,this),o.DomEvent.on(i,"click",function(){setTimeout(o.bind(this._onInputClick,this),0)},this),this._map.on("click",this.collapse,this)}else this.expand();this._baseLayersList=o.DomUtil.create("div",t+"-base",i),this._separator=o.DomUtil.create("div",t+"-separator",i),this._overlaysList=o.DomUtil.create("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&o.stamp(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(!this._container)return this;o.DomUtil.empty(this._baseLayersList),o.DomUtil.empty(this._overlaysList);var t,e,i,n,a=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,a+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&a>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(o.stamp(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,i){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",o=e.createElement("div");return o.innerHTML=n,o.firstChild},_addItem:function(t){var i,n=e.createElement("label"),a=this._map.hasLayer(t.layer);t.overlay?(i=e.createElement("input"),i.type="checkbox",i.className="leaflet-control-layers-selector",i.defaultChecked=a):i=this._createRadioElement("leaflet-base-layers",a),i.layerId=o.stamp(t.layer),o.DomEvent.on(i,"click",this._onInputClick,this);var s=e.createElement("span");s.innerHTML=" "+t.name;var r=e.createElement("div");n.appendChild(r),r.appendChild(i),r.appendChild(s);var h=t.overlay?this._overlaysList:this._baseLayersList;return h.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,i,n=this._form.getElementsByTagName("input"),o=[],a=[];this._handlingClick=!0;for(var s=n.length-1;s>=0;s--)t=n[s],e=this._getLayer(t.layerId).layer,i=this._map.hasLayer(e),t.checked&&!i?o.push(e):!t.checked&&i&&a.push(e);for(s=0;s<a.length;s++)this._map.removeLayer(a[s]);for(s=0;s<o.length;s++)this._map.addLayer(o[s]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._form.getElementsByTagName("input"),o=this._map.getZoom(),a=n.length-1;a>=0;a--)t=n[a],e=this._getLayer(t.layerId).layer,t.disabled=e.options.minZoom!==i&&o<e.options.minZoom||e.options.maxZoom!==i&&o>e.options.maxZoom},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),o.control.layers=function(t,e,i){return new o.Control.Layers(t,e,i)},o.PosAnimation=o.Evented.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=o.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=o.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;i>e?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),o.DomUtil.setPosition(this._el,i),this.fire("step")},_complete:function(){o.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),o.Map.include({setView:function(t,e,n){if(e=e===i?this._zoom:this._limitZoom(e),t=this._limitCenter(o.latLng(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==i&&(n.zoom=o.extend({animate:n.animate},n.zoom),n.pan=o.extend({animate:n.animate,duration:n.duration},n.pan));var a=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(a)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=o.point(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new o.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){o.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){o.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._floor();return(e&&e.animate)===!0||this.getSize().contains(i)?(this.panBy(i,e),!0):!1}}),o.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});var h=o.DomUtil.TRANSITION&&o.Browser.any3d&&!o.Browser.mobileOpera;h&&o.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),o.DomEvent.on(this._proxy,o.DomUtil.TRANSITION_END,this._catchTransitionEnd,this))}),o.Map.include(h?{_createAnimProxy:function(){var t=this._proxy=o.DomUtil.create("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var i=o.DomUtil.TRANSFORM,n=t.style[i];o.DomUtil.setTransform(t,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===t.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var e=this.getCenter(),i=this.getZoom();o.DomUtil.setTransform(t,this.project(e,i),this.getZoomScale(i,1))},this)},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),a=this._getCenterOffset(t)._divideBy(1-1/n);return i.animate===!0||this.getSize().contains(a)?(o.Util.requestAnimFrame(function(){this._moveStart(!0)._animateZoom(t,e,!0)},this),!0):!1},_animateZoom:function(t,e,i,n){i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,o.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:n}),setTimeout(o.bind(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(o.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),o.Util.requestAnimFrame(function(){this._moveEnd(!0)},this))}}:{}),o.Map.include({flyTo:function(t,e,n){function a(t){var e=t?-1:1,i=t?y:g,n=y*y-g*g+e*L*L*v*v,o=2*i*L*v,a=n/o,s=Math.sqrt(a*a+1)-a,r=1e-9>s?-18:Math.log(s);return r}function s(t){return(Math.exp(t)-Math.exp(-t))/2}function r(t){return(Math.exp(t)+Math.exp(-t))/2}function h(t){return s(t)/r(t)}function l(t){return g*(r(w)/r(w+M*t))}function c(t){return g*(r(w)*h(w+M*t)-s(w))/L}function u(t){return 1-Math.pow(1-t,1.5)}function _(){var i=(Date.now()-T)/b,n=u(i)*S;1>=i?(this._flyToFrame=o.Util.requestAnimFrame(_,this),this._move(this.unproject(d.add(p.subtract(d).multiplyBy(c(n)/v)),f),this.getScaleZoom(g/l(n),f),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}if(n=n||{},n.animate===!1||!o.Browser.any3d)return this.setView(t,e,n);this._stop();var d=this.project(this.getCenter()),p=this.project(t),m=this.getSize(),f=this._zoom;t=o.latLng(t),e=e===i?f:e;var g=Math.max(m.x,m.y),y=g*this.getZoomScale(f,e),v=p.distanceTo(d)||1,M=1.42,L=M*M,w=a(0),T=Date.now(),S=(a(1)-w)/M,b=n.duration?1e3*n.duration:1e3*S*.8;return this._moveStart(!0),_.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)}}),o.Map.include({_defaultLocateOptions:{timeout:1e4,watch:!1},locate:function(t){if(t=this._locateOptions=o.extend({},this._defaultLocateOptions,t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=o.bind(this._handleGeolocationResponse,this),i=o.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,i=t.coords.longitude,n=new o.LatLng(e,i),a=n.toBounds(t.coords.accuracy),s=this._locateOptions;if(s.setView){var r=this.getBoundsZoom(a);this.setView(n,s.maxZoom?Math.min(r,s.maxZoom):r)}var h={latlng:n,bounds:a,timestamp:t.timestamp};for(var l in t.coords)"number"==typeof t.coords[l]&&(h[l]=t.coords[l]);this.fire("locationfound",h)}})}(window,document),function(){"use strict";var t=function(t){return t="number"==typeof t?{precision:t}:t||{},t.precision=t.precision||5,t.factor=t.factor||Math.pow(10,t.precision),t.dimension=t.dimension||2,t},e={decode:function(e,i){i=t(i);for(var n=this.decodeDeltas(e,i),o=[],a=0,s=n.length;a+(i.dimension-1)<s;){for(var r=[],h=0;h<i.dimension;++h)r.push(n[a++]);o.push(r)}return o},encode:function(e,i){i=t(i);for(var n=[],o=0,a=e.length;a>o;++o)var s=e[o];if(2===i.dimension)n.push(s.lat||s[0]),n.push(s.lng||s[1]);else for(var r=0;r<i.dimension;++r)n.push(s[r]);return this.encodeDeltas(n,i)},decodeDeltas:function(e,i){i=t(i);for(var n=[],o=this.decodeFloats(e,i),a=0,s=o.length;s>a;)for(var r=0;r<i.dimension;++r,++a)o[a]=Math.round((n[r]=o[a]+(n[r]||0))*i.factor)/i.factor;return o},encodeDeltas:function(e,i){i=t(i);for(var n=[],o=0,a=e.length;a>o;)for(var s=0;s<i.dimension;++s,++o){var r=e[o],h=r-(n[s]||0);n[s]=r,e[o]=h}return this.encodeFloats(e,i)},decodeFloats:function(e,i){i=t(i);for(var n=this.decodeSignedIntegers(e),o=0,a=n.length;a>o;++o)n[o]/=i.factor;return n},encodeFloats:function(e,i){i=t(i);for(var n=0,o=e.length;o>n;++n)e[n]=Math.round(e[n]*i.factor);return this.encodeSignedIntegers(e)},decodeSignedIntegers:function(t){for(var e=this.decodeUnsignedIntegers(t),i=0,n=e.length;n>i;++i){var o=e[i];e[i]=1&o?~(o>>1):o>>1}return e},encodeSignedIntegers:function(t){for(var e=0,i=t.length;i>e;++e){var n=t[e];t[e]=0>n?~(n<<1):n<<1}return this.encodeUnsignedIntegers(t)},decodeUnsignedIntegers:function(t){for(var e=[],i=0,n=0,o=0,a=t.length;a>o;++o){var s=t.charCodeAt(o)-63;i|=(31&s)<<n,32>s?(e.push(i),i=0,n=0):n+=5}return e},encodeUnsignedIntegers:function(t){for(var e="",i=0,n=t.length;n>i;++i)e+=this.encodeUnsignedInteger(t[i]);return e},encodeSignedInteger:function(t){return t=0>t?~(t<<1):t<<1,this.encodeUnsignedInteger(t)},encodeUnsignedInteger:function(t){for(var e,i="";t>=32;)e=(32|31&t)+63,i+=String.fromCharCode(e),t>>=5;return e=t+63,i+=String.fromCharCode(e)}};if("object"==typeof module&&"object"==typeof module.exports&&(module.exports=e),"object"==typeof L){L.Polyline.prototype.fromEncoded||(L.Polyline.fromEncoded=function(t,i){return L.polyline(e.decode(t),i)}),L.Polygon.prototype.fromEncoded||(L.Polygon.fromEncoded=function(t,i){return L.polygon(e.decode(t),i)});var i={encodePath:function(){return e.encode(this.getLatLngs())}};L.Polyline.prototype.encodePath||L.Polyline.include(i),L.Polygon.prototype.encodePath||L.Polygon.include(i),L.PolylineUtil=e}}(),function(t,e,i){L.drawVersion="0.2.4-dev",L.drawLocal={draw:{toolbar:{actions:{title:" ",text:""},undo:{title:"   ",text:"  "},buttons:{polyline:" ",polygon:" ",rectangle:" ",circle:" ",marker:" "}},handlers:{circle:{tooltip:{start:"   "}},marker:{tooltip:{start:"  ."}},polygon:{tooltip:{start:"    ",cont:"    ",end:"    ."}},polyline:{error:"<strong>:</strong>    !",tooltip:{start:"   ",cont:"    ",end:"  "}},rectangle:{tooltip:{start:"   "}},simpleshape:{tooltip:{end:" "}}}},edit:{toolbar:{actions:{save:{title:" ",text:""},cancel:{title:"  -   ",text:""}},buttons:{edit:" ",editDisabled:"  ",remove:" ",removeDisabled:"    "}},handlers:{edit:{tooltip:{text:"    ",subtext:"   '' "}},remove:{tooltip:{text:" Feature "}}}}},L.Draw={},L.Draw.Feature=L.Handler.extend({includes:L.Mixin.Events,initialize:function(t,e){this._map=t,this._container=t._container,this._overlayPane=t._panes.overlayPane,this._popupPane=t._panes.popupPane,e&&e.shapeOptions&&(e.shapeOptions=L.Util.extend({},this.options.shapeOptions,e.shapeOptions)),L.setOptions(this,e)},enable:function(){this._enabled||(this.fire("enabled",{handler:this.type}),this._map.fire("draw:drawstart",{layerType:this.type}),L.Handler.prototype.enable.call(this))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire("draw:drawstop",{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(L.DomUtil.disableTextSelection(),t.getContainer().focus(),this._tooltip=new L.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(t){L.setOptions(this,t)},_fireCreatedEvent:function(t){this._map.fire("draw:created",{layer:t,layerType:this.type})},_cancelDrawing:function(t){27===t.keyCode&&this.disable()}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#f06eaa",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,showLength:!0,zIndexOffset:2e3},_onMouseDown:function(t){var e=t.originalEvent;this._mouseDownOrigin=L.point(e.clientX,e.clientY)},_onMouseMove:function(t){var e=t.layerPoint,i=t.latlng;this._currentLatLng=i,this._updateTooltip(i),this._updateGuide(e),this._mouseMarker.setLatLng(i),L.DomEvent.preventDefault(t.originalEvent)},_onMouseUp:function(e){if(this._mouseDownOrigin){var i=L.point(e.originalEvent.clientX,e.originalEvent.clientY).distanceTo(this._mouseDownOrigin);Math.abs(i)<9*(t.devicePixelRatio||1)&&this.addVertex(e.latlng)}this._mouseDownOrigin=null},_onZoomEnd:function(){this._updateGuide()},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=ttw.gis.addLayerGroup({map:this._map,k:"L.Draw.Polyline.addHooks:LayerGroup"}),this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mousedown",this._onMouseDown,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this).on("mouseup",this._onMouseUp,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseup",this._onMouseUp,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mousemove",this._onMouseMove,this).off("zoomend",this._onZoomEnd,this)},addVertex:function(t){var e=this._markers.length;return e>0&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(t)?void this._showErrorTooltip():(this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(t)),this._poly.addLatLng(t),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),void this._vertexChanged(t,!0))},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_createMarker:function(t){var e=new L.Marker(t,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(e),e},deleteLastVertex:function(){if(!(this._markers.length<=1)){var t=this._markers.pop(),e=this._poly,i=this._poly._spliceLatLngs(e.getLatLngs().length-1,1)[0];this._markerGroup.removeLayer(t),e.getLatLngs().length<2&&this._map.removeLayer(e),this._vertexChanged(i,!1)}},_drawGuide:function(t,e){var i,n,o,a=Math.floor(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))),s=this.options.guidelineDistance,r=this.options.maxGuideLineLength,h=a>r?a-r:s;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));a>h;h+=this.options.guidelineDistance)i=h/a,n={x:Math.floor(t.x*(1-i)+i*e.x),y:Math.floor(t.y*(1-i)+i*e.y)},o=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),o.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(o,n)},_finishShape:function(){var t=this._poly.newLatLngIntersects(this._poly.getLatLngs()[0],!0);return!this.options.allowIntersection&&t||!this._shapeIsValid()?void this._showErrorTooltip():(this._fireCreatedEvent(),this.disable(),void(this.options.repeatMode&&this.enable()))},_fireCreatedEvent:function(){var t=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},initialize:function(t,e){this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,e&&e.drawError&&(e.drawError=L.Util.extend({},this.options.drawError,e.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,t,e)},_shapeIsValid:function(){return!0},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_updateFinishHandler:function(){var t=this._markers.length;t>1&&this._markers[t-1].on("click",this._finishShape,this),t>2&&this._markers[t-2].off("click",this._finishShape,this)},_updateGuide:function(t){var e=this._markers.length;e>0&&(t=t||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[e-1].getLatLng()),t))},_updateGuideColor:function(t){if(this._guidesContainer)for(var e=0,i=this._guidesContainer.childNodes.length;i>e;e++)this._guidesContainer.childNodes[e].style.backgroundColor=t},_updateRunningMeasure:function(t,e){var i,n,o=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(i=o-(e?2:1),n=t.distanceTo(this._markers[i].getLatLng()),this._measurementRunningTotal+=n*(e?1:-1))},_updateTooltip:function(t){var e=this._getTooltipText();t&&this._tooltip.updatePosition(t),this._errorShown||this._tooltip.updateContent(e)},_vertexChanged:function(t,e){this._updateFinishHandler(),this._updateRunningMeasure(t,e),this._clearGuides(),this._updateTooltip()},_getMeasurementString:function(){var t,e=this._currentLatLng,i=this._markers[this._markers.length-1].getLatLng();return t=this._measurementRunningTotal+e.distanceTo(i),L.GeometryUtil.readableDistance(t,this.options.metric)},_getTooltipText:function(){var t,e,i=this.options.showLength;return 0===this._markers.length?t={
text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(e=i?this._getMeasurementString():"",t=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:e}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:e}),t}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,shapeOptions:{stroke:!0,color:"#f06eaa",weight:4,opacity:.5,fill:!0,fillColor:"#f06eaa",fillOpacity:.2,clickable:!0}},_cleanUpShape:function(){var t=this._markers.length;t>0&&(this._markers[0].off("click",this._finishShape,this),t>2&&this._markers[t-1].off("dblclick",this._finishShape,this))},initialize:function(t,e){L.Draw.Polyline.prototype.initialize.call(this,t,e),this.type=L.Draw.Polygon.TYPE},_shapeIsValid:function(){return this._markers.length>=3},_updateFinishHandler:function(){var t=this._markers.length;1===t&&this._markers[0].on("click",this._finishShape,this),t>2&&(this._markers[t-1].on("dblclick",this._finishShape,this),t>3&&this._markers[t-2].off("dblclick",this._finishShape,this))},_vertexChanged:function(t,e){var i;!this.options.allowIntersection&&this.options.showArea&&(i=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(i)),L.Draw.Polyline.prototype._vertexChanged.call(this,t,e)},_getMeasurementString:function(){var t=this._area;return t?L.GeometryUtil.readableArea(t,this.options.metric):null},_getTooltipText:function(){var t,e;return 0===this._markers.length?t=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?t=L.drawLocal.draw.handlers.polygon.tooltip.cont:(t=L.drawLocal.draw.handlers.polygon.tooltip.end,e=this._getMeasurementString()),{text:t,subtext:e}}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},_onMouseDown:function(t){this._isDrawing=!0,this._startLatLng=t.latlng,L.DomEvent.on(e,"mouseup",this._onMouseUp,this).preventDefault(t.originalEvent)},_onMouseMove:function(t){var e=t.latlng;this._tooltip.updatePosition(e),this._isDrawing&&(this._tooltip.updateContent({text:this._endLabelText}),this._drawShape(e))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this),L.DomEvent.off(e,"mouseup",this._onMouseUp,this),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},initialize:function(t,e){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,t,e)}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#f06eaa",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0}},_fireCreatedEvent:function(){var t=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,t)},initialize:function(t,e){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,t,e)},_drawShape:function(t){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,t)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,t),this.options.shapeOptions),this._map.addLayer(this._shape))}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#f06eaa",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0},initialize:function(t,e){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,t,e)},_drawShape:function(t){this._shape?this._shape.setRadius(this._startLatLng.distanceTo(t)):(this._shape=new L.Circle(this._startLatLng,this._startLatLng.distanceTo(t),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var t=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,t)},_onMouseMove:function(t){var e,i=t.latlng,n=this.options.showRadius,o=this.options.metric;this._tooltip.updatePosition(i),this._isDrawing&&(this._drawShape(i),e=this._shape.getRadius().toFixed(1),this._tooltip.updateContent({text:this._endLabelText,subtext:n?"Radius: "+L.GeometryUtil.readableDistance(e,o):""}))}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(t,e){this.type=L.Draw.Marker.TYPE,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:L.drawLocal.draw.handlers.marker.tooltip.start}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._marker&&(this._marker.off("click",this._onClick,this),this._map.off("click",this._onClick,this).removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(t){var e=t.latlng;this._tooltip.updatePosition(e),this._mouseMarker.setLatLng(e),this._marker?(e=this._mouseMarker.getLatLng(),this._marker.setLatLng(e)):(this._marker=new L.Marker(e,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset}),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_fireCreatedEvent:function(){var t=new L.Marker(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)}}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"})},_onMarkerDrag:function(t){var e=t.target;L.extend(e._origLatLng,e._latlng),e._middleLeft&&e._middleLeft.setLatLng(this._getMiddleLatLng(e._prev,e)),e._middleRight&&e._middleRight.setLatLng(this._getMiddleLatLng(e,e._next)),this._poly.redraw()},_onMarkerClick:function(t){var e=this._isPolygon,i=e?4:3,n=t.target;(e?this._poly._latlngs[0]:this._poly._latlngs).length<i||(this._removeMarker(n),this._updatePrevNext(n._prev,n._next),n._middleLeft&&this._markerGroup.removeLayer(n._middleLeft),n._middleRight&&this._markerGroup.removeLayer(n._middleRight),n._prev&&n._next?this._createMiddleMarker(n._prev,n._next):n._prev?n._next||(n._prev._middleRight=null):n._next._middleLeft=null,this._fireEdit())},addHooks:function(){this._poly._map&&(this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){this._poly._map&&(this._poly._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},_createMarker:function(t,e){var i=new L.Marker(t,{draggable:!0,icon:this.options.icon});return i._origLatLng=t,i._index=e,i.on("drag",this._onMarkerDrag,this),i.on("dragend",this._fireEdit,this),this._markerGroup.addLayer(i),i},_createMiddleMarker:function(t,e){var i,n,o,a=this._getMiddleLatLng(t,e),s=this._createMarker(a);s.setOpacity(.6),t._middleRight=e._middleLeft=s,n=function(){var n=e._index;s._index=n,s.off("click",i,this).on("click",this._onMarkerClick,this),a.lat=s.getLatLng().lat,a.lng=s.getLatLng().lng,this._poly._spliceLatLngs(n,0,a),this._markers.splice(n,0,s),s.setOpacity(1),this._updateIndexes(n,1),e._index++,this._updatePrevNext(t,s),this._updatePrevNext(s,e),this._poly.fire("editstart")},o=function(){s.off("dragstart",n,this),s.off("dragend",o,this),this._createMiddleMarker(t,s),this._createMiddleMarker(s,e)},i=function(){n.call(this),o.call(this),this._fireEdit()},s.on("click",i,this).on("dragstart",n,this).on("dragend",o,this),this._markerGroup.addLayer(s)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit")},initialize:function(t,e){this._poly=t,L.setOptions(this,e),this._isPolygon=L.Polygon&&this._poly instanceof L.Polygon},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var t,e,i,n,o=this._poly._latlngs;for(this._isPolygon&&(o=o[0]),t=0,i=o.length;i>t;++t)n=this._createMarker(o[t],t),n.on("click",this._onMarkerClick,this),this._markers.push(n);var a,s;for(t=0,e=i-1;i>t;e=t++)(0!==t||L.Polygon&&this._poly instanceof L.Polygon)&&(a=this._markers[e],s=this._markers[t],this._createMiddleMarker(a,s),this._updatePrevNext(a,s))},_removeMarker:function(t){var e=t._index;this._markerGroup.removeLayer(t),this._markers.splice(e,1),this._poly._spliceLatLngs(e,1),this._updateIndexes(e,-1),t.off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("click",this._onMarkerClick,this)},_updateIndexes:function(t,e){this._markerGroup.eachLayer(function(i){i._index>t&&(i._index+=e)})},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_updatePrevNext:function(t,e){t&&(t._next=e),e&&(e._prev=t)},_getMiddleLatLng:function(t,e){var i=this._poly._map,n=i.project(t.getLatLng()),o=i.project(e.getLatLng());return i.unproject(n._add(o)._divideBy(2))}});var n=function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))};L.Polyline.addInitHook(n),L.Polygon.addInitHook(n),L.Polyline.include({_spliceLatLngs:function(t,e,i){var n,o=this._latlngs;return n=i?o.splice(t,e,i):o.splice(t,e),this.redraw(),n}}),L.Polygon.include({_spliceLatLngs:function(t,e,i){var n,o=this._latlngs[0];return n=i?o.splice(t,e,i):o.splice(t,e),this.redraw(),n}}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"})},initialize:function(t,e){this._shape=t,L.Util.setOptions(this,e)},addHooks:function(){this._shape._map&&(this._map=this._shape._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup))},removeHooks:function(){if(this._shape._map){this._unbindMarker(this._moveMarker);for(var t=0,e=this._resizeMarkers.length;e>t;t++)this._unbindMarker(this._resizeMarkers[t]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(t,e){var i=new L.Marker(t,{draggable:!0,icon:e,zIndexOffset:10});return this._bindMarker(i),this._markerGroup.addLayer(i),i},_bindMarker:function(t){t.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this)},_unbindMarker:function(t){t.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this)},_onMarkerDragStart:function(t){var e=t.target;e.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(t){var e=t.target,i=e.getLatLng();e===this._moveMarker?this._move(i):this._resize(i),this._shape.redraw()},_onMarkerDragEnd:function(t){var e=t.target;e.setOpacity(1),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var t=this._shape.getBounds(),e=t.getCenter();this._moveMarker=this._createMarker(e,this.options.moveIcon)},_createResizeMarker:function(){var t=this._getCorners();this._resizeMarkers=[];for(var e=0,i=t.length;i>e;e++)this._resizeMarkers.push(this._createMarker(t[e],this.options.resizeIcon)),this._resizeMarkers[e]._cornerIndex=e},_onMarkerDragStart:function(t){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,t);var e=this._getCorners(),i=t.target,n=i._cornerIndex;this._oppositeCorner=e[(n+2)%4],this._toggleCornerMarkers(0,n)},_onMarkerDragEnd:function(t){var e,i,n=t.target;n===this._moveMarker&&(e=this._shape.getBounds(),i=e.getCenter(),n.setLatLng(i)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,t)},_move:function(t){for(var e,i=this._shape.getLatLngs(),n=this._shape.getBounds(),o=n.getCenter(),a=[],s=0,r=i.length;r>s;s++){a.push([]);for(var h=0,l=i[s].length;l>h;h++)e=[i[s][h].lat-o.lat,i[s][h].lng-o.lng],a[s].push([t.lat+e[0],t.lng+e[1]])}this._shape.setLatLngs(a),this._repositionCornerMarkers()},_resize:function(t){var e;this._shape.setBounds(L.latLngBounds(t,this._oppositeCorner)),e=this._shape.getBounds(),this._moveMarker.setLatLng(e.getCenter())},_getCorners:function(){var t=this._shape.getBounds(),e=t.getNorthWest(),i=t.getNorthEast(),n=t.getSouthEast(),o=t.getSouthWest();return[e,i,n,o]},_toggleCornerMarkers:function(t){for(var e=0,i=this._resizeMarkers.length;i>e;e++)this._resizeMarkers[e].setOpacity(t)},_repositionCornerMarkers:function(){for(var t=this._getCorners(),e=0,i=this._resizeMarkers.length;i>e;e++)this._resizeMarkers[e].setLatLng(t[e])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var t=this._shape.getLatLng();this._moveMarker=this._createMarker(t,this.options.moveIcon)},_createResizeMarker:function(){var t=this._shape.getLatLng(),e=this._getResizeMarkerPoint(t);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(e,this.options.resizeIcon))},_getResizeMarkerPoint:function(t){var e=this._shape._radius*Math.cos(Math.PI/4),i=this._map.project(t);return this._map.unproject([i.x+e,i.y-e])},_move:function(t){var e=this._getResizeMarkerPoint(t);this._resizeMarkers[0].setLatLng(e),this._shape.setLatLng(t)},_resize:function(t){var e=this._moveMarker.getLatLng(),i=e.distanceTo(t);this._shape.setRadius(i)}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.LatLngUtil={cloneLatLngs:function(t){var e=[];try{for(var i=0,n=t[0].length;n>i;i++)e.push(this.cloneLatLng(t[0][i]))}catch(o){try{for(var i=0,n=t.length;n>i;i++)e.push(this.cloneLatLng(t[i]))}catch(o){}}return e},cloneLatLng:function(t){return t.clone()}},L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(t){var e,i,n=t.length,o=0,a=Math.PI/180;if(n>2){for(var s=0;n>s;s++)e=t[s],i=t[(s+1)%n],o+=(i.lng-e.lng)*a*(2+Math.sin(e.lat*a)+Math.sin(i.lat*a));o=6378137*o*6378137/2}return Math.abs(o)},readableArea:function(t,e){var i;return e?i=t>=1e4?(1e-4*t).toFixed(2)+" ha":t.toFixed(2)+" m&sup2;":(t*=.836127,i=t>=3097600?(t/3097600).toFixed(2)+" mi&sup2;":t>=4840?(t/4840).toFixed(2)+" acres":Math.ceil(t)+" yd&sup2;"),i},readableDistance:function(t,e){var i;return e?i=t>1e3?(t/1e3).toFixed(2)+" km":Math.ceil(t)+" m":(t*=1.09361,i=t>1760?(t/1760).toFixed(2)+" miles":Math.ceil(t)+" yd"),i}}),L.Util.extend(L.LineUtil,{segmentsIntersect:function(t,e,i,n){return this._checkCounterclockwise(t,i,n)!==this._checkCounterclockwise(e,i,n)&&this._checkCounterclockwise(t,e,i)!==this._checkCounterclockwise(t,e,n)},_checkCounterclockwise:function(t,e,i){return(i.y-t.y)*(e.x-t.x)>(e.y-t.y)*(i.x-t.x)}}),L.Polyline.include({intersects:function(){var t,e,i,n=this._rings[0],o=n?n.length:0;if(this._tooFewPointsForIntersection())return!1;for(t=o-1;t>=3;t--)if(e=n[t-1],i=n[t],this._lineSegmentsIntersectsRange(e,i,t-2))return!0;return!1},newLatLngIntersects:function(t,e){return this._map?this.newPointIntersects(this._map.latLngToLayerPoint(t),e):!1},newPointIntersects:function(t,e){var i=this._rings[0],n=i?i.length:0,o=i?i[n-1]:null,a=n-2;return this._tooFewPointsForIntersection(1)?!1:this._lineSegmentsIntersectsRange(o,t,a,e?1:0)},_tooFewPointsForIntersection:function(t){var e=this._rings[0],i=e?e.length:0;return i+=t||0,!this._rings[0]||3>=i},_lineSegmentsIntersectsRange:function(t,e,i,n){var o,a,s=this._rings[0];n=n||0;for(var r=i;r>n;r--)if(o=s[r-1],a=s[r],L.LineUtil.segmentsIntersect(t,e,o,a))return!0;return!1}}),L.Polygon.include({intersects:function(){var t,e,i,n,o,a=this._rings[0];return this._tooFewPointsForIntersection()?!1:(t=L.Polyline.prototype.intersects.call(this))?!0:(e=a.length,i=a[0],n=a[e-1],o=e-2,this._lineSegmentsIntersectsRange(n,i,o,1))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(t){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,t);var e,i;this._toolbars={},L.DrawToolbar&&this.options.draw&&(i=new L.DrawToolbar(this.options.draw),e=L.stamp(i),this._toolbars[e]=i,this._toolbars[e].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(i=new L.EditToolbar(this.options.edit),e=L.stamp(i),this._toolbars[e]=i,this._toolbars[e].on("enable",this._toolbarEnabled,this))},onAdd:function(t){var e,i=L.DomUtil.create("div","leaflet-draw"),n=!1,o="leaflet-draw-toolbar-top";for(var a in this._toolbars)this._toolbars.hasOwnProperty(a)&&(e=this._toolbars[a].addToolbar(t),e&&(n||(L.DomUtil.hasClass(e,o)||L.DomUtil.addClass(e.childNodes[0],o),n=!0),i.appendChild(e)));return i},onRemove:function(){for(var t in this._toolbars)this._toolbars.hasOwnProperty(t)&&this._toolbars[t].removeToolbar()},setDrawingOptions:function(t){for(var e in this._toolbars)this._toolbars[e]instanceof L.DrawToolbar&&this._toolbars[e].setOptions(t)},_toolbarEnabled:function(t){var e=""+L.stamp(t.target);for(var i in this._toolbars)this._toolbars.hasOwnProperty(i)&&i!==e&&this._toolbars[i].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({includes:[L.Mixin.Events],initialize:function(t){L.setOptions(this,t),this._modes={},this._actionButtons=[],this._activeMode=null},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(t){var e,i=L.DomUtil.create("div","leaflet-draw-section"),n=0,o=this._toolbarClass||"",a=this.getModeHandlers(t);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=t,e=0;e<a.length;e++)a[e].enabled&&this._initModeHandler(a[e].handler,this._toolbarContainer,n++,o,a[e].title);return n?(this._lastButtonIndex=--n,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),i.appendChild(this._toolbarContainer),i.appendChild(this._actionsContainer),i):void 0},removeToolbar:function(){for(var t in this._modes)this._modes.hasOwnProperty(t)&&(this._disposeButton(this._modes[t].button,this._modes[t].handler.enable,this._modes[t].handler),this._modes[t].handler.disable(),this._modes[t].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var e=0,i=this._actionButtons.length;i>e;e++)this._disposeButton(this._actionButtons[e].button,this._actionButtons[e].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(t,e,i,n,o){var a=t.type;this._modes[a]={},this._modes[a].handler=t,this._modes[a].button=this._createButton({title:o,className:n+"-"+a,container:e,callback:this._modes[a].handler.enable,context:this._modes[a].handler}),this._modes[a].buttonIndex=i,this._modes[a].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_createButton:function(t){var e=L.DomUtil.create("a",t.className||"",t.container);return e.href="#",t.text&&(e.innerHTML=t.text),t.title&&(e.title=t.title),L.DomEvent.on(e,"click",L.DomEvent.stopPropagation).on(e,"mousedown",L.DomEvent.stopPropagation).on(e,"dblclick",L.DomEvent.stopPropagation).on(e,"click",L.DomEvent.preventDefault).on(e,"click",t.callback,t.context),e},_disposeButton:function(t,e){L.DomEvent.off(t,"click",L.DomEvent.stopPropagation).off(t,"mousedown",L.DomEvent.stopPropagation).off(t,"dblclick",L.DomEvent.stopPropagation).off(t,"click",L.DomEvent.preventDefault).off(t,"click",e)},_handlerActivated:function(t){this.disable(),this._activeMode=this._modes[t.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(t){var e,i,n,o,a=this._actionsContainer,s=this.getActions(t),r=s.length;for(i=0,n=this._actionButtons.length;n>i;i++)this._disposeButton(this._actionButtons[i].button,this._actionButtons[i].callback);for(this._actionButtons=[];a.firstChild;)a.removeChild(a.firstChild);for(var h=0;r>h;h++)"enabled"in s[h]&&!s[h].enabled||(e=L.DomUtil.create("li","",a),o=this._createButton({title:s[h].title,text:s[h].text,container:e,callback:s[h].callback,context:s[h].context}),this._actionButtons.push({button:o,callback:s[h].callback}))},_showActionsToolbar:function(){var t=this._activeMode.buttonIndex,e=this._lastButtonIndex,i=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=i+"px",0===t&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),t===e&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block"},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom")}}),L.Tooltip=L.Class.extend({initialize:function(t){this._map=t,this._popupPane=t._panes.popupPane,this._container=t.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1},dispose:function(){this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(t){return this._container?(t.subtext=t.subtext||"",0!==t.subtext.length||this._singleLineLabel?t.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(t.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+t.subtext+"</span><br />":"")+"<span>"+t.text+"</span>",this):this},updatePosition:function(t){var e=this._map.latLngToLayerPoint(t),i=this._container;return this._container&&(i.style.visibility="inherit",L.DomUtil.setPosition(i,e)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this}}),L.DrawToolbar=L.Toolbar.extend({options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{}},initialize:function(t){for(var e in this.options)this.options.hasOwnProperty(e)&&t[e]&&(t[e]=L.extend({},this.options[e],t[e]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,t)},getActions:function(t){return[{enabled:t.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:t.deleteLastVertex,context:t},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},getModeHandlers:function(t){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(t,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(t,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(t,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(t,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(t,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker}]},setOptions:function(t){L.setOptions(this,t);for(var e in this._modes)this._modes.hasOwnProperty(e)&&t.hasOwnProperty(e)&&this._modes[e].handler.setOptions(t[e])}}),L.EditToolbar=L.Toolbar.extend({options:{edit:{selectedPathOptions:{color:"#fe57a1",opacity:.6,dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1}},remove:{},featureGroup:null},initialize:function(t){t.edit&&("undefined"==typeof t.edit.selectedPathOptions&&(t.edit.selectedPathOptions=this.options.edit.selectedPathOptions),t.edit=L.extend({},this.options.edit,t.edit)),t.remove&&(t.remove=L.extend({},this.options.remove,t.remove)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,t),this._selectedFeatureCount=0},getModeHandlers:function(t){var e=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(t,{featureGroup:e,selectedPathOptions:this.options.edit.selectedPathOptions}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(t,{featureGroup:e}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(){return[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}]},addToolbar:function(t){var e=L.Toolbar.prototype.addToolbar.call(this,t);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),e},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode.handler.disable()},_checkDisabled:function(){var t,e=this.options.featureGroup,i=0!==e.getLayers().length;this.options.edit&&(t=this._modes[L.EditToolbar.Edit.TYPE].button,i?L.DomUtil.removeClass(t,"leaflet-disabled"):L.DomUtil.addClass(t,"leaflet-disabled"),t.setAttribute("title",i?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(t=this._modes[L.EditToolbar.Delete.TYPE].button,i?L.DomUtil.removeClass(t,"leaflet-disabled"):L.DomUtil.addClass(t,"leaflet-disabled"),t.setAttribute("title",i?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},includes:L.Mixin.Events,initialize:function(t,e){if(L.Handler.prototype.initialize.call(this,t),this._selectedPathOptions=e.selectedPathOptions,this._featureGroup=e.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire("draw:editstart",{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire("draw:editstop",{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(t.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._featureGroup.eachLayer(function(t){this._revertLayer(t)},this)},save:function(){var t=new L.LayerGroup;this._featureGroup.eachLayer(function(e){e.edited&&(t.addLayer(e),e.edited=!1)}),this._map.fire("draw:edited",{layers:t})},_backupLayer:function(t){var e=L.Util.stamp(t);this._uneditedLayerProps[e]||(t instanceof L.Polyline||t instanceof L.Polygon||t instanceof L.Rectangle?this._uneditedLayerProps[e]={latlngs:L.LatLngUtil.cloneLatLngs(t.getLatLngs())}:t instanceof L.Circle?this._uneditedLayerProps[e]={latlng:L.LatLngUtil.cloneLatLng(t.getLatLng()),radius:t.getRadius()}:t instanceof L.Marker&&(this._uneditedLayerProps[e]={latlng:L.LatLngUtil.cloneLatLng(t.getLatLng())}))},_revertLayer:function(t){var e=L.Util.stamp(t);t.edited=!1,this._uneditedLayerProps.hasOwnProperty(e)&&(t instanceof L.Polyline||t instanceof L.Polygon||t instanceof L.Rectangle?t.setLatLngs(this._uneditedLayerProps[e].latlngs):t instanceof L.Circle?(t.setLatLng(this._uneditedLayerProps[e].latlng),t.setRadius(this._uneditedLayerProps[e].radius)):t instanceof L.Marker&&t.setLatLng(this._uneditedLayerProps[e].latlng))},_toggleMarkerHighlight:function(t){if(t._icon){var e=t._icon;e.style.display="none",L.DomUtil.hasClass(e,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(e,"leaflet-edit-marker-selected"),this._offsetMarker(e,-4)):(L.DomUtil.addClass(e,"leaflet-edit-marker-selected"),this._offsetMarker(e,4)),e.style.display=""}},_offsetMarker:function(t,e){var i=parseInt(t.style.marginTop,10)-e,n=parseInt(t.style.marginLeft,10)-e;t.style.marginTop=i+"px",t.style.marginLeft=n+"px";
},_enableLayerEdit:function(t){var e,i=t.layer||t.target||t,n=i instanceof L.Marker;(!n||i._icon)&&(this._backupLayer(i),this._selectedPathOptions&&(e=L.Util.extend({},this._selectedPathOptions),n?this._toggleMarkerHighlight(i):(i.options.previousOptions=L.Util.extend({dashArray:null},i.options),i instanceof L.Circle||i instanceof L.Polygon||i instanceof L.Rectangle||(e.fill=!1),i.setStyle(e))),n?(i.dragging.enable(),i.on("dragend",this._onMarkerDragEnd)):i.editing.enable())},_disableLayerEdit:function(t){var e=t.layer||t.target||t;e.edited=!1,this._selectedPathOptions&&(e instanceof L.Marker?this._toggleMarkerHighlight(e):(e.setStyle(e.options.previousOptions),delete e.options.previousOptions)),e instanceof L.Marker?(e.dragging.disable(),e.off("dragend",this._onMarkerDragEnd,this)):e.editing.disable()},_onMarkerDragEnd:function(t){var e=t.target;e.edited=!0},_onMouseMove:function(t){this._tooltip.updatePosition(t.latlng)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},includes:L.Mixin.Events,_onMouseMove:function(t){this._tooltip.updatePosition(t.latlng)},addHooks:function(){var t=this._map;t&&(t.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=ttw.gis.addLayerGroup({map:t,k:"L.EditToolbar.Delete:LayerGroup"}),this._tooltip=new L.Tooltip(t),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),t.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire("draw:deletestop",{handler:this.type}),this.fire("disabled",{handler:this.type}))},_disableLayerDelete:function(t){var e=t.layer||t.target||t;e.off("click",this._removeLayer,this),this._deletedLayers.removeLayer_Ori(e)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire("draw:deletestart",{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},_enableLayerDelete:function(t){var e=t.layer||t.target||t;e.on("click",this._removeLayer,this)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length},initialize:function(t,e){if(L.Handler.prototype.initialize.call(this,t),L.Util.setOptions(this,e),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE},revertLayers:function(){this._deletedLayers.eachLayer(function(t){this._deletableLayers.addLayer(t)},this)},_removeLayer:function(t){var e=t.layer||t.target||t;this._deletedLayers.removeLayer_Ori(e),this._deletedLayers.addLayer(e)},save:function(){this._map.fire("draw:deleted",{layers:this._deletedLayers})}})}(window,document),require=function e(t,i,n){function o(s,r){if(!i[s]){if(!t[s]){var h="function"==typeof require&&require;if(!r&&h)return h(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){var i=t[s][1][e];return o(i?i:e)},c,c.exports,e,t,i,n)}return i[s].exports}for(var a="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({"./includedProjections":[function(t,e,i){var n=[t("./lib/projections/tmerc"),t("./lib/projections/utm"),t("./lib/projections/sterea"),t("./lib/projections/stere"),t("./lib/projections/somerc"),t("./lib/projections/omerc"),t("./lib/projections/lcc"),t("./lib/projections/krovak"),t("./lib/projections/cass"),t("./lib/projections/laea"),t("./lib/projections/aea"),t("./lib/projections/gnom"),t("./lib/projections/cea"),t("./lib/projections/eqc"),t("./lib/projections/poly"),t("./lib/projections/nzmg"),t("./lib/projections/mill"),t("./lib/projections/sinu"),t("./lib/projections/moll"),t("./lib/projections/eqdc"),t("./lib/projections/vandg"),t("./lib/projections/aeqd")];e.exports=function(t){n.forEach(function(e){t.Proj.projections.add(e)})}},{"./lib/projections/aea":40,"./lib/projections/aeqd":41,"./lib/projections/cass":42,"./lib/projections/cea":43,"./lib/projections/eqc":44,"./lib/projections/eqdc":45,"./lib/projections/gnom":47,"./lib/projections/krovak":48,"./lib/projections/laea":49,"./lib/projections/lcc":50,"./lib/projections/mill":53,"./lib/projections/moll":54,"./lib/projections/nzmg":55,"./lib/projections/omerc":56,"./lib/projections/poly":57,"./lib/projections/sinu":58,"./lib/projections/somerc":59,"./lib/projections/stere":60,"./lib/projections/sterea":61,"./lib/projections/tmerc":62,"./lib/projections/utm":63,"./lib/projections/vandg":64}],1:[function(t,e,i){function n(t,e,i){if(!(this instanceof n))return new n(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1];else if("object"==typeof t)this.x=t.x,this.y=t.y;else if("string"==typeof t&&"undefined"==typeof e){var o=t.split(",");this.x=parseFloat(o[0],10),this.y=parseFloat(o[1],10)}else this.x=t,this.y=e}var o=t("mgrs");n.fromMGRS=function(t){return new n(o.toPoint(t))},n.prototype.toMGRS=function(t){return o.forward([this.x,this.y],t)},e.exports=n},{mgrs:67}],2:[function(t,e,i){function n(t,e){if(!(this instanceof n))return new n(t);e=e||function(t){if(t)throw t};var i=o(t);if("object"!=typeof i)return void e(t);var s=r(i),h=n.projections.get(s.projName);h?(a(this,s),a(this,h),this.init(),e(null,this)):e(t)}var o=t("./parseCode"),a=t("./extend"),s=t("./projections"),r=t("./deriveConstants");n.projections=s,n.projections.start(),e.exports=n},{"./deriveConstants":33,"./extend":34,"./parseCode":37,"./projections":39}],3:[function(t,e,i){e.exports=function(t,e,i){var n,o,a,s=i.x,r=i.y;for(a=0;3>a;++a)if(!e||2!==a||void 0!==i.z)switch(0===a?(n=s,o="x"):1===a&&(n=r,o="y"),t.axis[a]){case"e":i[o]=n;break;case"w":i[o]=-n;break;case"n":i[o]=n;break;case"s":i[o]=-n;break;default:return null}return i}},{}],4:[function(t,e,i){var n=Math.PI/2,o=t("./sign");e.exports=function(t){return Math.abs(t)<n?t:t-o(t)*Math.PI}},{"./sign":21}],5:[function(t,e,i){var n=2*Math.PI,o=3.14159265359,a=t("./sign");e.exports=function(t){return Math.abs(t)<=o?t:t-a(t)*n}},{"./sign":21}],6:[function(t,e,i){e.exports=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}},{}],7:[function(t,e,i){e.exports=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}},{}],8:[function(t,e,i){e.exports=function(t){return.375*t*(1+.25*t*(1+.46875*t))}},{}],9:[function(t,e,i){e.exports=function(t){return.05859375*t*t*(1+.75*t)}},{}],10:[function(t,e,i){e.exports=function(t){return t*t*t*(35/3072)}},{}],11:[function(t,e,i){e.exports=function(t,e,i){var n=e*i;return t/Math.sqrt(1-n*n)}},{}],12:[function(t,e,i){e.exports=function(t,e,i,n,o){var a,s;a=t/e;for(var r=0;15>r;r++)if(s=(t-(e*a-i*Math.sin(2*a)+n*Math.sin(4*a)-o*Math.sin(6*a)))/(e-2*i*Math.cos(2*a)+4*n*Math.cos(4*a)-6*o*Math.cos(6*a)),a+=s,Math.abs(s)<=1e-10)return a;return NaN}},{}],13:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return 0>e?-1*n:n;for(var o,a,s,r,h=Math.asin(.5*e),l=0;30>l;l++)if(a=Math.sin(h),s=Math.cos(h),r=t*a,o=Math.pow(1-r*r,2)/(2*s)*(e/(1-t*t)-a/(1-r*r)+.5/t*Math.log((1-r)/(1+r))),h+=o,Math.abs(o)<=1e-10)return h;return NaN}},{}],14:[function(t,e,i){e.exports=function(t,e,i,n,o){return t*o-e*Math.sin(2*o)+i*Math.sin(4*o)-n*Math.sin(6*o)}},{}],15:[function(t,e,i){e.exports=function(t,e,i){var n=t*e;return i/Math.sqrt(1-n*n)}},{}],16:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e){for(var i,o,a=.5*t,s=n-2*Math.atan(e),r=0;15>=r;r++)if(i=t*Math.sin(s),o=n-2*Math.atan(e*Math.pow((1-i)/(1+i),a))-s,s+=o,Math.abs(o)<=1e-10)return s;return-9999}},{}],17:[function(t,e,i){var n=1,o=.25,a=.046875,s=.01953125,r=.01068115234375,h=.75,l=.46875,c=.013020833333333334,u=.007120768229166667,_=.3645833333333333,d=.005696614583333333,p=.3076171875;e.exports=function(t){var e=[];e[0]=n-t*(o+t*(a+t*(s+t*r))),e[1]=t*(h-t*(a+t*(s+t*r)));var i=t*t;return e[2]=i*(l-t*(c+t*u)),i*=t,e[3]=i*(_-t*d),e[4]=i*t*p,e}},{}],18:[function(t,e,i){var n=t("./pj_mlfn"),o=1e-10,a=20;e.exports=function(t,e,i){for(var s=1/(1-e),r=t,h=a;h;--h){var l=Math.sin(r),c=1-e*l*l;if(c=(n(r,l,Math.cos(r),i)-t)*(c*Math.sqrt(c))*s,r-=c,Math.abs(c)<o)return r}return r}},{"./pj_mlfn":19}],19:[function(t,e,i){e.exports=function(t,e,i,n){return i*=e,e*=e,n[0]*t-i*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}},{}],20:[function(t,e,i){e.exports=function(t,e){var i;return t>1e-7?(i=t*e,(1-t*t)*(e/(1-i*i)-.5/t*Math.log((1-i)/(1+i)))):2*e}},{}],21:[function(t,e,i){e.exports=function(t){return 0>t?-1:1}},{}],22:[function(t,e,i){e.exports=function(t,e){return Math.pow((1-t)/(1+t),e)}},{}],23:[function(t,e,i){e.exports=function(t){var e={x:t[0],y:t[1]};return t.length>3&&(e.m=t[3]),e}},{}],24:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e,i){var o=t*i,a=.5*t;return o=Math.pow((1-o)/(1+o),a),Math.tan(.5*(n-e))/o}},{}],25:[function(t,e,i){i.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},i.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},i.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},i.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},i.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},i.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},i.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},i.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},i.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},i.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},i.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},i.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},i.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},i.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},i.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},i.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},{}],26:[function(t,e,i){i.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},i.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},i.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},i.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},i.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},i.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},i.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},i.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},i.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},i.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},i.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},i.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},i.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},i.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},i.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},i.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},i.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},i.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},i.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},i.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},i.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},i.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},i.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},i.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},i.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},i.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},i.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},i.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},i.hough={a:6378270,rf:297,ellipseName:"Hough"},i.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},i.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},i.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},i.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},i.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},i.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},i.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},i.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},i.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},i.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},i.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},i.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},i.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},i.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},{}],27:[function(t,e,i){i.greenwich=0,i.lisbon=-9.131906111111,i.paris=2.337229166667,i.bogota=-74.080916666667,i.madrid=-3.687938888889,i.rome=12.452333333333,i.bern=7.439583333333,i.jakarta=106.807719444444,i.ferro=-17.666666666667,i.brussels=4.367975,i.stockholm=18.058277777778,i.athens=23.7163375,i.oslo=10.722916666667},{}],28:[function(t,e,i){i.ft={to_meter:.3048},i["us-ft"]={to_meter:1200/3937}},{}],29:[function(t,e,i){function n(t,e,i){var n;return Array.isArray(i)?(n=r(t,e,i),[n.x,n.y]):r(t,e,i)}function o(t){return t instanceof s?t:t.oProj?t.oProj:s(t)}function a(t,e,i){t=o(t);var a,s=!1;return"undefined"==typeof e?(e=t,t=h,s=!0):("undefined"!=typeof e.x||Array.isArray(e))&&(i=e,e=t,t=h,s=!0),e=o(e),i?n(t,e,i):(a={forward:function(i){return n(t,e,i)},inverse:function(i){return n(e,t,i)}},s&&(a.oProj=e),a)}var s=t("./Proj"),r=t("./transform"),h=s("WGS84");e.exports=a,window&&(window.proj4||(window.proj4=a))},{"./Proj":2,"./transform":65}],30:[function(t,e,i){var n=Math.PI/2,o=1,a=2,s=3,r=4,h=5,l=484813681109536e-20,c=1.0026,u=function(t){return this instanceof u?(this.datum_type=r,void(t&&(t.datumCode&&"none"===t.datumCode&&(this.datum_type=h),t.datum_params&&(this.datum_params=t.datum_params.map(parseFloat),(0!==this.datum_params[0]||0!==this.datum_params[1]||0!==this.datum_params[2])&&(this.datum_type=o),this.datum_params.length>3&&(0!==this.datum_params[3]||0!==this.datum_params[4]||0!==this.datum_params[5]||0!==this.datum_params[6])&&(this.datum_type=a,this.datum_params[3]*=l,this.datum_params[4]*=l,this.datum_params[5]*=l,this.datum_params[6]=this.datum_params[6]/1e6+1)),this.datum_type=t.grids?s:this.datum_type,this.a=t.a,this.b=t.b,this.es=t.es,this.ep2=t.ep2,this.datum_type===s&&(this.grids=t.grids)))):new u(t)};u.prototype={compare_datums:function(t){return this.datum_type!==t.datum_type?!1:this.a!==t.a||Math.abs(this.es-t.es)>5e-11?!1:this.datum_type===o?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]:this.datum_type===a?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]&&this.datum_params[3]===t.datum_params[3]&&this.datum_params[4]===t.datum_params[4]&&this.datum_params[5]===t.datum_params[5]&&this.datum_params[6]===t.datum_params[6]:this.datum_type===s||t.datum_type===s?this.nadgrids===t.nadgrids:!0},geodetic_to_geocentric:function(t){var e,i,o,a,s,r,h=t.x,l=t.y,c=0;if(-n>l&&l>-1.001*n)l=-n;else if(l>n&&1.001*n>l)l=n;else if(-n>l||l>n)return null;return h>Math.PI&&(h-=2*Math.PI),a=Math.sin(l),r=Math.cos(l),s=a*a,o=this.a/Math.sqrt(1-this.es*s),e=o*r*Math.cos(h),i=o*r*Math.sin(h),t.x=e,t.y=i,c},geocentric_to_geodetic:function(t){var e,i,o,a,s,r,h,l,c,u,_,d,p,m,f,g,y=1e-12,v=y*y,M=30,L=t.x,w=t.y;if(p=!1,i=e=Math.sqrt(L*L+w*w),e/this.a<y){if(p=!0,f=0,i/this.a<y)return void(g=n)}else f=Math.atan2(w,L);o=Z/i,a=e/i,s=1/Math.sqrt(1-this.es*(2-this.es)*a*a),l=a*(1-this.es)*s,c=o*s,m=0;do m++,h=this.a/Math.sqrt(1-this.es*c*c),r=this.es*h/h,s=1/Math.sqrt(1-r*(2-r)*a*a),u=a*(1-r)*s,_=o*s,d=_*l-u*c,l=u,c=_;while(d*d>v&&M>m);return g=Math.atan(_/Math.abs(u)),t.x=f,t.y=g,t},geocentric_to_geodetic_noniter:function(t){var e,i,o,a,s,r,h,l,u,_,d,p,m,f,g,y,v=t.x,M=t.y;if(v=parseFloat(v),M=parseFloat(M),y=!1,0!==v)e=Math.atan2(M,v);else if(M>0)e=n;else{if(!(0>M))return y=!0,e=0,void(i=n);e=-n}return a=v*v+M*M,o=Math.sqrt(a),s=Z*c,h=Math.sqrt(s*s+a),u=s/h,d=o/h,_=u*u*u,r=Z+this.b*this.ep2*_,g=o-this.a*this.es*d*d*d,l=Math.sqrt(r*r+g*g),p=r/l,m=g/l,f=this.a/Math.sqrt(1-this.es*p*p),y===!1&&(i=Math.atan(p/m)),t.x=e,t.y=i,t},geocentric_to_wgs84:function(t){if(this.datum_type===o)t.x+=this.datum_params[0],t.y+=this.datum_params[1];else if(this.datum_type===a){var e=this.datum_params[0],i=this.datum_params[1],n=(this.datum_params[2],this.datum_params[3]),s=this.datum_params[4],r=this.datum_params[5],h=this.datum_params[6],l=h*(t.x-r*t.y+s*t.z)+e,c=h*(r*t.x+t.y-n*t.z)+i;t.x=l,t.y=c}},geocentric_from_wgs84:function(t){if(this.datum_type===o)t.x-=this.datum_params[0],t.y-=this.datum_params[1];else if(this.datum_type===a){var e=this.datum_params[0],i=this.datum_params[1],n=(this.datum_params[2],this.datum_params[3]),s=this.datum_params[4],r=this.datum_params[5],h=this.datum_params[6],l=(t.x-e)/h,c=(t.y-i)/h;t.x=l+r*c-s*z_tmp,t.y=-r*l+c+n*z_tmp}}},e.exports=u},{}],31:[function(t,e,i){var n=1,o=2,a=3,s=5,r=6378137,h=.006694379990141316;e.exports=function(t,e,i){function l(t){return t===n||t===o}var c,u,_;if(t.compare_datums(e))return i;if(t.datum_type===s||e.datum_type===s)return i;var d=t.a,p=t.es,m=e.a,f=e.es,g=t.datum_type;if(g===a)if(0===this.apply_gridshift(t,0,i))t.a=r,t.es=h;else{if(!t.datum_params)return t.a=d,t.es=t.es,i;for(c=1,u=0,_=t.datum_params.length;_>u;u++)c*=t.datum_params[u];if(0===c)return t.a=d,t.es=t.es,i;g=t.datum_params.length>3?o:n}return e.datum_type===a&&(e.a=r,e.es=h),(t.es!==e.es||t.a!==e.a||l(g)||l(e.datum_type))&&(t.geodetic_to_geocentric(i),l(t.datum_type)&&t.geocentric_to_wgs84(i),l(e.datum_type)&&e.geocentric_from_wgs84(i),e.geocentric_to_geodetic(i)),e.datum_type===a&&this.apply_gridshift(e,1,i),t.a=d,t.es=p,e.a=m,e.es=f,i}},{}],32:[function(t,e,i){function n(t){var e=this;if(2===arguments.length){var i=arguments[1];"string"==typeof i?"+"===i.charAt(0)?n[t]=a(arguments[1]):n[t]=s(arguments[1]):n[t]=i}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?n.apply(e,t):n(t)});if("string"==typeof t){if(t in n)return n[t]}else"EPSG"in t?n["EPSG:"+t.EPSG]=t:"ESRI"in t?n["ESRI:"+t.ESRI]=t:"IAU2000"in t&&(n["IAU2000:"+t.IAU2000]=t);return}}var o=t("./global"),a=t("./projString"),s=t("./wkt");o(n),e.exports=n},{"./global":35,"./projString":38,"./wkt":66}],33:[function(t,e,i){var n=t("./constants/Datum"),o=t("./constants/Ellipsoid"),a=t("./extend"),s=t("./datum"),r=1e-10,h=.16666666666666666,l=.04722222222222222,c=.022156084656084655;e.exports=function(t){if(t.datumCode&&"none"!==t.datumCode){var e=n[t.datumCode];e&&(t.datum_params=e.towgs84?e.towgs84.split(","):null,t.ellps=e.ellipse,t.datumName=e.datumName?e.datumName:t.datumCode)}if(!t.a){var i=o[t.ellps]?o[t.ellps]:o.WGS84;a(t,i)}return t.rf&&!t.b&&(t.b=(1-1/t.rf)*t.a),(0===t.rf||Math.abs(t.a-t.b)<r)&&(t.sphere=!0,t.b=t.a),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=(t.a2-t.b2)/t.a2,t.e=Math.sqrt(t.es),t.R_A&&(t.a*=1-t.es*(h+t.es*(l+t.es*c)),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=0),t.ep2=(t.a2-t.b2)/t.b2,t.k0||(t.k0=1),t.axis||(t.axis="enu"),t.datum||(t.datum=s(t)),t}},{"./constants/Datum":25,"./constants/Ellipsoid":26,"./datum":30,"./extend":34}],34:[function(t,e,i){e.exports=function(t,e){t=t||{};var i,n;if(!e)return t;for(n in e)i=e[n],void 0!==i&&(t[n]=i);return t}},{}],35:[function(t,e,i){e.exports=function(t){t("EPSG:4326","+title=WGS 84 ( long/lat ) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 ( long/lat ) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}},{}],36:[function(t,e,i){var n=t("./core");n.defaultDatum="WGS84",n.Proj=t("./Proj"),n.WGS84=new n.Proj("WGS84"),n.Point=t("./Point"),n.toPoint=t("./common/toPoint"),n.defs=t("./defs"),n.transform=t("./transform"),n.mgrs=t("mgrs"),n.version=t("../package.json").version,t("./includedProjections")(n),e.exports=n},{"../package.json":68,"./Point":1,"./Proj":2,"./common/toPoint":23,"./core":29,"./defs":32,"./includedProjections":"./includedProjections","./transform":65,mgrs:67}],37:[function(t,e,i){function n(t){return t in h}function o(t){return"string"==typeof t}function a(t){return"+"===t[0]}function s(t){var e=["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"];return e.reduce(function(e,i){return e+1+t.indexOf(i)},0)}function r(t){return o(t)?n(t)?h[t]:s(t)?l(t):a(t)?c(t):void 0:t}var h=t("./defs"),l=t("./wkt"),c=t("./projString");e.exports=r},{"./defs":32,"./projString":38,"./wkt":66}],38:[function(t,e,i){var n=.017453292519943295,o=t("./constants/PrimeMeridian"),a=t("./constants/units");e.exports=function(t){var e={},i={};t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).forEach(function(t){var e=t.split("=");e.push(!0),i[e[0].toLowerCase()]=e[1]});var s,r,h,l={proj:"projName",datum:"datumCode",rf:function(t){e.rf=parseFloat(t)},lat_0:function(t){e.lat0=t*n},lat_1:function(t){e.lat1=t*n},lat_2:function(t){e.lat2=t*n},lat_ts:function(t){e.lat_ts=t*n},lon_0:function(t){e.long0=t*n},lon_1:function(t){e.long1=t*n},lon_2:function(t){e.long2=t*n},alpha:function(t){e.alpha=parseFloat(t)*n},lonc:function(t){e.longc=t*n},x_0:function(t){e.x0=parseFloat(t)},y_0:function(t){e.y0=parseFloat(t)},k_0:function(t){e.k0=parseFloat(t)},k:function(t){e.k0=parseFloat(t)},a:function(t){e.a=parseFloat(t)},b:function(t){e.b=parseFloat(t)},r_a:function(){e.R_A=!0},zone:function(t){e.zone=parseInt(t,10)},south:function(){e.utmSouth=!0},towgs84:function(t){e.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){e.to_meter=parseFloat(t)},units:function(t){e.units=t,a[t]&&(e.to_meter=a[t].to_meter)},from_greenwich:function(t){e.from_greenwich=t*n},pm:function(t){e.from_greenwich=(o[t]?o[t]:parseFloat(t))*n},nadgrids:function(t){"@null"===t?e.datumCode="none":e.nadgrids=t},axis:function(t){var i="ewnsud";3===t.length&&-1!==i.indexOf(t.substr(0,1))&&-1!==i.indexOf(t.substr(1,1))&&-1!==i.indexOf(t.substr(2,1))&&(e.axis=t)}};for(s in i)r=i[s],s in l?(h=l[s],"function"==typeof h?h(r):e[h]=r):e[s]=r;return"string"==typeof e.datumCode&&"WGS84"!==e.datumCode&&(e.datumCode=e.datumCode.toLowerCase()),e}},{"./constants/PrimeMeridian":27,"./constants/units":28}],39:[function(t,e,i){function n(t,e){var i=s.length;return t.names?(s[i]=t,t.names.forEach(function(t){a[t.toLowerCase()]=i}),this):!0}var o=[t("./projections/merc"),t("./projections/longlat")],a={},s=[];i.add=n,i.get=function(t){if(!t)return!1;var e=t.toLowerCase();return"undefined"!=typeof a[e]&&s[a[e]]?s[a[e]]:void 0},i.start=function(){o.forEach(n)}},{"./projections/longlat":51,"./projections/merc":52}],40:[function(t,e,i){var n=1e-10,o=t("../common/msfnz"),a=t("../common/qsfnz"),s=t("../common/adjust_lon"),r=t("../common/asinz");i.init=function(){Math.abs(this.lat1+this.lat2)<n||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=o(this.e3,this.sin_po,this.cos_po),this.qs1=a(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=o(this.e3,this.sin_po,this.cos_po),this.qs2=a(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=a(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>n?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},i.forward=function(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var n=a(this.e3,this.sin_phi,this.cos_phi),o=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,r=this.ns0*s(e-this.long0),h=o*Math.sin(r)+this.x0,l=this.rh-o*Math.cos(r)+this.y0;return t.x=h,t.y=l,t},i.inverse=function(t){var e,i,n,o,a,r;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),o=0,0!==e&&(o=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?r=Math.asin((this.c-n*n)/(2*this.ns0)):(i=(this.c-n*n)/this.ns0,r=this.phi1z(this.e3,i)),a=s(o/this.ns0+this.long0),t.x=a,t.y=r,t},i.phi1z=function(t,e){var i,o,a,s,h,l=r(.5*e);if(n>t)return l;for(var c=t*t,u=1;25>=u;u++)if(i=Math.sin(l),o=Math.cos(l),a=t*i,s=1-a*a,h=.5*s*s/o*(e/(1-c)-i/s+.5/t*Math.log((1-a)/(1+a))),l+=h,Math.abs(h)<=1e-7)return l;return null},i.names=["Albers_Conic_Equal_Area","Albers","aea"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/msfnz":15,"../common/qsfnz":20}],41:[function(t,e,i){var n=t("../common/adjust_lon"),o=Math.PI/2,a=1e-10,s=t("../common/mlfn"),r=t("../common/e0fn"),h=t("../common/e1fn"),l=t("../common/e2fn"),c=t("../common/e3fn"),u=t("../common/gN"),_=t("../common/asinz"),d=t("../common/imlfn");i.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},i.forward=function(t){var e,i,_,d,p,m,f,g,y,v,M,L,w,T,S,b,V,x,k,R,C,E,P,U=t.x,D=t.y,F=Math.sin(t.y),Z=Math.cos(t.y),W=n(U-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=a?(t.x=this.x0+this.a*(o-D)*Math.sin(W),t.y=this.y0-this.a*(o-D)*Math.cos(W),t):Math.abs(this.sin_p12+1)<=a?(t.x=this.x0+this.a*(o+D)*Math.sin(W),t.y=this.y0+this.a*(o+D)*Math.cos(W),t):(x=this.sin_p12*F+this.cos_p12*Z*Math.cos(W),b=Math.acos(x),V=b/Math.sin(b),t.x=this.x0+this.a*V*Z*Math.sin(W),t.y=this.y0+this.a*V*(this.cos_p12*F-this.sin_p12*Z*Math.cos(W)),t):(e=r(this.es),i=h(this.es),_=l(this.es),d=c(this.es),Math.abs(this.sin_p12-1)<=a?(p=this.a*s(e,i,_,d,o),m=this.a*s(e,i,_,d,D),t.x=this.x0+(p-m)*Math.sin(W),t.y=this.y0-(p-m)*Math.cos(W),t):Math.abs(this.sin_p12+1)<=a?(p=this.a*s(e,i,_,d,o),m=this.a*s(e,i,_,d,D),t.x=this.x0+(p+m)*Math.sin(W),t.y=this.y0+(p+m)*Math.cos(W),t):(f=F/Z,g=u(this.a,this.e,this.sin_p12),y=u(this.a,this.e,F),v=Math.atan((1-this.es)*f+this.es*g*this.sin_p12/(y*Z)),M=Math.atan2(Math.sin(W),this.cos_p12*Math.tan(v)-this.sin_p12*Math.cos(W)),k=0===M?Math.asin(this.cos_p12*Math.sin(v)-this.sin_p12*Math.cos(v)):Math.abs(Math.abs(M)-Math.PI)<=a?-Math.asin(this.cos_p12*Math.sin(v)-this.sin_p12*Math.cos(v)):Math.asin(Math.sin(W)*Math.cos(v)/Math.sin(M)),L=this.e*this.sin_p12/Math.sqrt(1-this.es),w=this.e*this.cos_p12*Math.cos(M)/Math.sqrt(1-this.es),T=L*w,S=w*w,R=k*k,C=R*k,E=C*k,P=E*k,b=g*k*(1-R*S*(1-S)/6+C/8*T*(1-2*S)+E/120*(S*(4-7*S)-3*L*L*(1-7*S))-P/48*T),t.x=this.x0+b*Math.sin(M),t.y=this.y0+b*Math.cos(M),t))},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,p,m,f,g,y,v,M,L,w,T,S,b,V,x,k,R,C,E,P,U,D;if(this.sphere){if(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*o*this.a)return;return i=e/this.a,p=Math.sin(i),m=Math.cos(i),f=this.long0,Math.abs(e)<=a?g=this.lat0:(g=_(m*this.sin_p12+t.y*p*this.cos_p12/e),y=Math.abs(this.lat0)-o,f=n(Math.abs(y)<=a?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*p,e*this.cos_p12*m-t.y*this.sin_p12*p))),t.x=f,t.y=g,t}return v=r(this.es),M=h(this.es),L=l(this.es),w=c(this.es),Math.abs(this.sin_p12-1)<=a?(T=this.a*s(v,M,L,w,o),e=Math.sqrt(t.x*t.x+t.y*t.y),S=T-e,g=d(S/this.a,v,M,L,w),f=n(this.long0+Math.atan2(t.x,-1*t.y)),t.x=f,t.y=g,t):Math.abs(this.sin_p12+1)<=a?(T=this.a*s(v,M,L,w,o),e=Math.sqrt(t.x*t.x+t.y*t.y),S=e-T,g=d(S/this.a,v,M,L,w),f=n(this.long0+Math.atan2(t.x,t.y)),t.x=f,t.y=g,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),x=Math.atan2(t.x,t.y),b=u(this.a,this.e,this.sin_p12),k=Math.cos(x),R=this.e*this.cos_p12*k,C=-R*R/(1-this.es),E=3*this.es*(1-C)*this.sin_p12*this.cos_p12*k/(1-this.es),P=e/b,U=P-C*(1+C)*Math.pow(P,3)/6-E*(1+3*C)*Math.pow(P,4)/24,D=1-C*U*U/2-P*U*U*U/6,V=Math.asin(this.sin_p12*Math.cos(U)+this.cos_p12*Math.sin(U)*k),f=n(this.long0+Math.asin(Math.sin(x)*Math.sin(U)/Math.cos(V))),g=Math.atan((1-this.es*D*this.sin_p12/Math.sin(V))*Math.tan(V)/(1-this.es)),t.x=f,t.y=g,t)},i.names=["Azimuthal_Equidistant","aeqd"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],42:[function(t,e,i){var n=t("../common/mlfn"),o=t("../common/e0fn"),a=t("../common/e1fn"),s=t("../common/e2fn"),r=t("../common/e3fn"),h=t("../common/gN"),l=t("../common/adjust_lon"),c=t("../common/adjust_lat"),u=t("../common/imlfn"),_=Math.PI/2,d=1e-10;i.init=function(){this.sphere||(this.e0=o(this.es),this.e1=a(this.es),this.e2=s(this.es),this.e3=r(this.es),this.ml0=this.a*n(this.e0,this.e1,this.e2,this.e3,this.lat0))},i.forward=function(t){var e,i,o=t.x,a=t.y;if(o=l(o-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(a)*Math.sin(o)),i=this.a*(Math.atan2(Math.tan(a),Math.cos(o))-this.lat0);else{var s=Math.sin(a),r=Math.cos(a),c=h(this.a,this.e,s),u=Math.tan(a)*Math.tan(a),_=o*Math.cos(a),d=_*_,p=this.es*r*r/(1-this.es),m=this.a*n(this.e0,this.e1,this.e2,this.e3,a);e=c*_*(1-d*u*(1/6-(8-u+8*p)*d/120)),i=m-this.ml0+c*s/r*d*(.5+(5-u+6*p)*d/24)}return t.x=e+this.x0,t.y=i+this.y0,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n=t.x/this.a,o=t.y/this.a;if(this.sphere){var a=o+this.lat0;e=Math.asin(Math.sin(a)*Math.cos(n)),i=Math.atan2(Math.tan(n),Math.cos(a))}else{var s=this.ml0/this.a+o,r=u(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(r)-_)<=d)return t.x=this.long0,t.y=_,0>o&&(t.y*=-1),t;var p=h(this.a,this.e,Math.sin(r)),m=p*p*p/this.a/this.a*(1-this.es),f=Math.pow(Math.tan(r),2),g=n*this.a/p,y=g*g;e=r-p*Math.tan(r)/m*g*g*(.5-(1+3*f)*g*g/24),i=g*(1-y*(f/3+(1+3*f)*f*y/15))/Math.cos(r)}return t.x=l(i+this.long0),t.y=c(e),t},i.names=["Cassini","Cassini_Soldner","cass"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],43:[function(t,e,i){var n=t("../common/adjust_lon"),o=t("../common/qsfnz"),a=t("../common/msfnz"),s=t("../common/iqsfnz");i.init=function(){this.sphere||(this.k0=a(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},i.forward=function(t){var e,i,a=t.x,s=t.y,r=n(a-this.long0);if(this.sphere)e=this.x0+this.a*r*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(s)/Math.cos(this.lat_ts);else{var h=o(this.e,Math.sin(s));e=this.x0+this.a*this.k0*r,i=this.y0+this.a*h*.5/this.k0}return t.x=e,t.y=i,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i;return this.sphere?(e=n(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=s(this.e,2*t.y*this.k0/this.a),e=n(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,
t},i.names=["cea"]},{"../common/adjust_lon":5,"../common/iqsfnz":13,"../common/msfnz":15,"../common/qsfnz":20}],44:[function(t,e,i){var n=t("../common/adjust_lon"),o=t("../common/adjust_lat");i.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},i.forward=function(t){var e=t.x,i=t.y,a=n(e-this.long0),s=o(i-this.lat0);return t.x=this.x0+this.a*a*this.rc,t.y=this.y0+this.a*s,t},i.inverse=function(t){var e=t.x,i=t.y;return t.x=n(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=o(this.lat0+(i-this.y0)/this.a),t},i.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5}],45:[function(t,e,i){var n=t("../common/e0fn"),o=t("../common/e1fn"),a=t("../common/e2fn"),s=t("../common/e3fn"),r=t("../common/msfnz"),h=t("../common/mlfn"),l=t("../common/adjust_lon"),c=t("../common/adjust_lat"),u=t("../common/imlfn"),_=1e-10;i.init=function(){Math.abs(this.lat1+this.lat2)<_||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=o(this.es),this.e2=a(this.es),this.e3=s(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=r(this.e,this.sinphi,this.cosphi),this.ml1=h(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<_?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=r(this.e,this.sinphi,this.cosphi),this.ml2=h(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=h(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},i.forward=function(t){var e,i=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var o=h(this.e0,this.e1,this.e2,this.e3,n);e=this.a*(this.g-o)}var a=this.ns*l(i-this.long0),s=this.x0+e*Math.sin(a),r=this.y0+this.rh-e*Math.cos(a);return t.x=s,t.y=r,t},i.inverse=function(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,i,n,o;this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var a=0;if(0!==i&&(a=Math.atan2(e*t.x,e*t.y)),this.sphere)return o=l(this.long0+a/this.ns),n=c(this.g-i/this.a),t.x=o,t.y=n,t;var s=this.g-i/this.a;return n=u(s,this.e0,this.e1,this.e2,this.e3),o=l(this.long0+a/this.ns),t.x=o,t.y=n,t},i.names=["Equidistant_Conic","eqdc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/imlfn":12,"../common/mlfn":14,"../common/msfnz":15}],46:[function(t,e,i){var n=Math.PI/4,o=t("../common/srat"),a=Math.PI/2,s=20;i.init=function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+n)/(Math.pow(Math.tan(.5*this.lat0+n),this.C)*o(this.e*t,this.ratexp))},i.forward=function(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+n),this.C)*o(this.e*Math.sin(i),this.ratexp))-a,t.x=this.C*e,t},i.inverse=function(t){for(var e=1e-14,i=t.x/this.C,r=t.y,h=Math.pow(Math.tan(.5*r+n)/this.K,1/this.C),l=s;l>0&&(r=2*Math.atan(h*o(this.e*Math.sin(t.y),-.5*this.e))-a,!(Math.abs(r-t.y)<e));--l)t.y=r;return l?(t.x=i,t.y=r,t):null},i.names=["gauss"]},{"../common/srat":22}],47:[function(t,e,i){var n=t("../common/adjust_lon"),o=1e-10,a=t("../common/asinz");i.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},i.forward=function(t){var e,i,a,s,r,h,l,c,u=t.x,_=t.y;return a=n(u-this.long0),e=Math.sin(_),i=Math.cos(_),s=Math.cos(a),h=this.sin_p14*e+this.cos_p14*i*s,r=1,h>0||Math.abs(h)<=o?(l=this.x0+this.a*r*i*Math.sin(a)/h,c=this.y0+this.a*r*(this.cos_p14*e-this.sin_p14*i*s)/h):(l=this.x0+this.infinity_dist*i*Math.sin(a),c=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*s)),t.x=l,t.y=c,t},i.inverse=function(t){var e,i,o,s,r,h;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(s=Math.atan2(e,this.rc),i=Math.sin(s),o=Math.cos(s),h=a(o*this.sin_p14+t.y*i*this.cos_p14/e),r=Math.atan2(t.x*i,e*this.cos_p14*o-t.y*this.sin_p14*i),r=n(this.long0+r)):(h=this.phic0,r=0),t.x=r,t.y=h,t},i.names=["gnom"]},{"../common/adjust_lon":5,"../common/asinz":6}],48:[function(t,e,i){var n=t("../common/adjust_lon");i.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},i.forward=function(t){var e,i,o,a,s,r,h,l=t.x,c=t.y,u=n(l-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),o=-u*this.alfa,a=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(o)),s=Math.asin(Math.cos(i)*Math.sin(o)/Math.cos(a)),r=this.n*s,h=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(a/2+this.s45),this.n),t.y=h*Math.cos(r)/1,t.x=h*Math.sin(r)/1,this.czech||(t.y*=-1,t.x*=-1),t},i.inverse=function(t){var e,i,n,o,a,s,r,h,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),s=Math.sqrt(t.x*t.x+t.y*t.y),a=Math.atan2(t.y,t.x),o=a/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(o)),i=Math.asin(Math.cos(n)*Math.sin(o)/Math.cos(e)),t.x=this.long0-i/this.alfa,r=e,h=0;var c=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(r))/(1-this.e*Math.sin(r)),this.e/2))-this.s45),Math.abs(r-t.y)<1e-10&&(h=1),r=t.y,c+=1;while(0===h&&15>c);return c>=15?null:t},i.names=["Krovak","krovak"]},{"../common/adjust_lon":5}],49:[function(t,e,i){var n=Math.PI/2,o=Math.PI/4,a=1e-10,s=t("../common/qsfnz"),r=t("../common/adjust_lon");i.S_POLE=1,i.N_POLE=2,i.EQUIT=3,i.OBLIQ=4,i.init=function(){var t=Math.abs(this.lat0);if(Math.abs(t-n)<a?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<a?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=s(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=s(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},i.forward=function(t){var e,i,h,l,c,u,_,d,p,m,f=t.x,g=t.y;if(f=r(f-this.long0),this.sphere){if(c=Math.sin(g),m=Math.cos(g),h=Math.cos(f),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i=this.mode===this.EQUIT?1+m*h:1+this.sinph0*c+this.cosph0*m*h,a>=i)return null;i=Math.sqrt(2/i),e=i*m*Math.sin(f),i*=this.mode===this.EQUIT?c:this.cosph0*c-this.sinph0*m*h}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(h=-h),Math.abs(g+this.phi0)<a)return null;i=o-.5*g,i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)),e=i*Math.sin(f),i*=h}}else{switch(_=0,d=0,p=0,h=Math.cos(f),l=Math.sin(f),c=Math.sin(g),u=s(this.e,c),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(_=u/this.qp,d=Math.sqrt(1-_*_)),this.mode){case this.OBLIQ:p=1+this.sinb1*_+this.cosb1*d*h;break;case this.EQUIT:p=1+d*h;break;case this.N_POLE:p=n+g,u=this.qp-u;break;case this.S_POLE:p=g-n,u=this.qp+u}if(Math.abs(p)<a)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:p=Math.sqrt(2/p),i=this.mode===this.OBLIQ?this.ymf*p*(this.cosb1*_-this.sinb1*d*h):(p=Math.sqrt(2/(1+d*h)))*_*this.ymf,e=this.xmf*p*d*l;break;case this.N_POLE:case this.S_POLE:u>=0?(e=(p=Math.sqrt(u))*l,i=h*(this.mode===this.S_POLE?p:-p)):e=i=0}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,o,s,h,l,c,u=t.x/this.a,_=t.y/this.a;if(this.sphere){var d,p=0,m=0;if(d=Math.sqrt(u*u+_*_),i=.5*d,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(m=Math.sin(i),p=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(d)<=a?0:Math.asin(_*m/d),u*=m,_=p*d;break;case this.OBLIQ:i=Math.abs(d)<=a?this.phi0:Math.asin(p*this.sinph0+_*m*this.cosph0/d),u*=m*this.cosph0,_=(p-Math.sin(i)*this.sinph0)*d;break;case this.N_POLE:_=-_,i=n-i;break;case this.S_POLE:i-=n}e=0!==_||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(u,_):0}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(u/=this.dd,_*=this.dd,l=Math.sqrt(u*u+_*_),a>l)return t.x=0,t.y=this.phi0,t;s=2*Math.asin(.5*l/this.rq),o=Math.cos(s),u*=s=Math.sin(s),this.mode===this.OBLIQ?(c=o*this.sinb1+_*s*this.cosb1/l,h=this.qp*c,_=l*this.cosb1*o-_*this.sinb1*s):(c=_*s/l,h=this.qp*c,_=l*o)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(_=-_),h=u*u+_*_,!h)return t.x=0,t.y=this.phi0,t;c=1-h/this.qp,this.mode===this.S_POLE&&(c=-c)}e=Math.atan2(u,_),i=this.authlat(Math.asin(c),this.apa)}return t.x=r(this.long0+e),t.y=i,t},i.P00=.3333333333333333,i.P01=.17222222222222222,i.P02=.10257936507936508,i.P10=.06388888888888888,i.P11=.0664021164021164,i.P20=.016415012942191543,i.authset=function(t){var e,i=[];return i[0]=t*this.P00,e=t*t,i[0]+=e*this.P01,i[1]=e*this.P10,e*=t,i[0]+=e*this.P02,i[1]+=e*this.P11,i[2]=e*this.P20,i},i.authlat=function(t,e){var i=t+t;return t+e[0]*Math.sin(i)+e[1]*Math.sin(i+i)+e[2]*Math.sin(i+i+i)},i.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},{"../common/adjust_lon":5,"../common/qsfnz":20}],50:[function(t,e,i){var n=1e-10,o=t("../common/msfnz"),a=t("../common/tsfnz"),s=Math.PI/2,r=t("../common/sign"),h=t("../common/adjust_lon"),l=t("../common/phi2z");i.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<n)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),s=o(this.e,e,i),r=a(this.e,this.lat1,e),h=Math.sin(this.lat2),l=Math.cos(this.lat2),c=o(this.e,h,l),u=a(this.e,this.lat2,h),_=a(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>n?this.ns=Math.log(s/c)/Math.log(r/u):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=s/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(_,this.ns),this.title||(this.title="Lambert Conformal Conic")}},i.forward=function(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=n&&(i=r(i)*(s-2*n));var o,l,c=Math.abs(Math.abs(i)-s);if(c>n)o=a(this.e,i,Math.sin(i)),l=this.a*this.f0*Math.pow(o,this.ns);else{if(c=i*this.ns,0>=c)return null;l=0}var u=this.ns*h(e-this.long0);return t.x=this.k0*(l*Math.sin(u))+this.x0,t.y=this.k0*(this.rh-l*Math.cos(u))+this.y0,t},i.inverse=function(t){var e,i,n,o,a,r=(t.x-this.x0)/this.k0,c=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(r*r+c*c),i=1):(e=-Math.sqrt(r*r+c*c),i=-1);var u=0;if(0!==e&&(u=Math.atan2(i*r,i*c)),0!==e||this.ns>0){if(i=1/this.ns,n=Math.pow(e/(this.a*this.f0),i),o=l(this.e,n),-9999===o)return null}else o=-s;return a=h(u/this.ns+this.long0),t.x=a,t.y=o,t},i.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],51:[function(t,e,i){function n(t){return t}i.init=function(){},i.forward=n,i.inverse=n,i.names=["longlat","identity"]},{}],52:[function(t,e,i){var n=t("../common/msfnz"),o=Math.PI/2,a=1e-10,s=57.29577951308232,r=t("../common/adjust_lon"),h=Math.PI/4,l=t("../common/tsfnz"),c=t("../common/phi2z");i.init=function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=n(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},i.forward=function(t){var e=t.x,i=t.y;if(i*s>90&&-90>i*s&&e*s>180&&-180>e*s)return null;var n,c;if(Math.abs(Math.abs(i)-o)<=a)return null;if(this.sphere)n=this.x0+this.a*this.k0*r(e-this.long0),c=this.y0+this.a*this.k0*Math.log(Math.tan(h+.5*i));else{var u=Math.sin(i),_=l(this.e,i,u);n=this.x0+this.a*this.k0*r(e-this.long0),c=this.y0-this.a*this.k0*Math.log(_)}return t.x=n,t.y=c,t},i.inverse=function(t){var e,i,n=t.x-this.x0,a=t.y-this.y0;if(this.sphere)i=o-2*Math.atan(Math.exp(-a/(this.a*this.k0)));else{var s=Math.exp(-a/(this.a*this.k0));if(i=c(this.e,s),-9999===i)return null}return e=r(this.long0+n/(this.a*this.k0)),t.x=e,t.y=i,t},i.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/tsfnz":24}],53:[function(t,e,i){var n=t("../common/adjust_lon");i.init=function(){},i.forward=function(t){var e=t.x,i=t.y,o=n(e-this.long0),a=this.x0+this.a*o,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=a,t.y=s,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e=n(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t},i.names=["Miller_Cylindrical","mill"]},{"../common/adjust_lon":5}],54:[function(t,e,i){var n=t("../common/adjust_lon"),o=1e-10;i.init=function(){},i.forward=function(t){for(var e=t.x,i=t.y,a=n(e-this.long0),s=i,r=Math.PI*Math.sin(i),h=0;!0;h++){var l=-(s+Math.sin(s)-r)/(1+Math.cos(s));if(s+=l,Math.abs(l)<o)break}s/=2,Math.PI/2-Math.abs(i)<o&&(a=0);var c=.900316316158*this.a*a*Math.cos(s)+this.x0,u=1.4142135623731*this.a*Math.sin(s)+this.y0;return t.x=c,t.y=u,t},i.inverse=function(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var o=n(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));o<-Math.PI&&(o=-Math.PI),o>Math.PI&&(o=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var a=Math.asin(i);return t.x=o,t.y=a,t},i.names=["Mollweide","moll"]},{"../common/adjust_lon":5}],55:[function(t,e,i){var n=484813681109536e-20;i.iterations=1,i.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},i.forward=function(t){var e,i=t.x,o=t.y,a=o-this.lat0,s=i-this.long0,r=a/n*1e-5,h=s,l=1,c=0;for(e=1;10>=e;e++)l*=r,c+=this.A[e]*l;var u,_,d=c,p=h,m=1,f=0,g=0,y=0;for(e=1;6>=e;e++)u=m*d-f*p,_=f*d+m*p,m=u,f=_,g=g+this.B_re[e]*m-this.B_im[e]*f,y=y+this.B_im[e]*m+this.B_re[e]*f;return t.x=y*this.a+this.x0,t.y=g*this.a+this.y0,t},i.inverse=function(t){var e,i,o,a=t.x,s=t.y,r=a-this.x0,h=s-this.y0,l=h/this.a,c=r/this.a,u=1,_=0,d=0,p=0;for(e=1;6>=e;e++)i=u*l-_*c,o=_*l+u*c,u=i,_=o,d=d+this.C_re[e]*u-this.C_im[e]*_,p=p+this.C_im[e]*u+this.C_re[e]*_;for(var m=0;m<this.iterations;m++){var f,g,y=d,v=p,M=l,L=c;for(e=2;6>=e;e++)f=y*d-v*p,g=v*d+y*p,y=f,v=g,M+=(e-1)*(this.B_re[e]*y-this.B_im[e]*v),L+=(e-1)*(this.B_im[e]*y+this.B_re[e]*v);y=1,v=0;var w=this.B_re[1],T=this.B_im[1];for(e=2;6>=e;e++)f=y*d-v*p,g=v*d+y*p,y=f,v=g,w+=e*(this.B_re[e]*y-this.B_im[e]*v),T+=e*(this.B_im[e]*y+this.B_re[e]*v);var S=w*w+T*T;d=(M*w+L*T)/S,p=(L*w-M*T)/S}var b=d,V=p,x=1,k=0;for(e=1;9>=e;e++)x*=b,k+=this.D[e]*x;var R=this.lat0+k*n*1e5,C=this.long0+V;return t.x=C,t.y=R,t},i.names=["New_Zealand_Map_Grid","nzmg"]},{}],56:[function(t,e,i){var n=t("../common/tsfnz"),o=t("../common/adjust_lon"),a=t("../common/phi2z"),s=Math.PI/2,r=Math.PI/4,h=1e-10;i.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),i=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-i*i);var a=n(this.e,this.lat0,t),s=this.bl/e*Math.sqrt((1-this.es)/(1-i*i));1>s*s&&(s=1);var r,h;if(isNaN(this.longc)){var l=n(this.e,this.lat1,Math.sin(this.lat1)),c=n(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(s+Math.sqrt(s*s-1))*Math.pow(a,this.bl):this.el=(s-Math.sqrt(s*s-1))*Math.pow(a,this.bl);var u=Math.pow(l,this.bl),_=Math.pow(c,this.bl);r=this.el/u,h=.5*(r-1/r);var d=(this.el*this.el-_*u)/(this.el*this.el+_*u),p=(_-u)/(_+u),m=o(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(d*Math.tan(.5*this.bl*m)/p)/this.bl,this.long0=o(this.long0);var f=o(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*f)/h),this.alpha=Math.asin(s*Math.sin(this.gamma0))}else r=this.lat0>=0?s+Math.sqrt(s*s-1):s-Math.sqrt(s*s-1),this.el=r*Math.pow(a,this.bl),h=.5*(r-1/r),this.gamma0=Math.asin(Math.sin(this.alpha)/s),this.long0=this.longc-Math.asin(h*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha))},i.forward=function(t){var e,i,a,l=t.x,c=t.y,u=o(l-this.long0);if(Math.abs(Math.abs(c)-s)<=h)a=c>0?-1:1,i=this.al/this.bl*Math.log(Math.tan(r+a*this.gamma0*.5)),e=-1*a*s*this.al/this.bl;else{var _=n(this.e,c,Math.sin(c)),d=this.el/Math.pow(_,this.bl),p=.5*(d-1/d),m=.5*(d+1/d),f=Math.sin(this.bl*u),g=(p*Math.sin(this.gamma0)-f*Math.cos(this.gamma0))/m;i=Math.abs(Math.abs(g)-1)<=h?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-g)/(1+g))/this.bl,e=Math.abs(Math.cos(this.bl*u))<=h?this.al*this.bl*u:this.al*Math.atan2(p*Math.cos(this.gamma0)+f*Math.sin(this.gamma0),Math.cos(this.bl*u))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+i):(e-=this.uc,t.x=this.x0+i*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-i*Math.sin(this.alpha)),t},i.inverse=function(t){var e,i;this.no_rot?(i=t.y-this.y0,e=t.x-this.x0):(i=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var n=Math.exp(-1*this.bl*i/this.al),r=.5*(n-1/n),l=.5*(n+1/n),c=Math.sin(this.bl*e/this.al),u=(c*Math.cos(this.gamma0)+r*Math.sin(this.gamma0))/l,_=Math.pow(this.el/Math.sqrt((1+u)/(1-u)),1/this.bl);return Math.abs(u-1)<h?(t.x=this.long0,t.y=s):Math.abs(u+1)<h?(t.x=this.long0,t.y=-1*s):(t.y=a(this.e,_),t.x=o(this.long0-Math.atan2(r*Math.cos(this.gamma0)-c*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},i.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},{"../common/adjust_lon":5,"../common/phi2z":16,"../common/tsfnz":24}],57:[function(t,e,i){var n=t("../common/e0fn"),o=t("../common/e1fn"),a=t("../common/e2fn"),s=t("../common/e3fn"),r=t("../common/adjust_lon"),h=t("../common/adjust_lat"),l=t("../common/mlfn"),c=1e-10,u=t("../common/gN"),_=20;i.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=o(this.es),this.e2=a(this.es),this.e3=s(this.es),this.ml0=this.a*l(this.e0,this.e1,this.e2,this.e3,this.lat0)},i.forward=function(t){var e,i,n,o=t.x,a=t.y,s=r(o-this.long0);if(n=s*Math.sin(a),this.sphere)Math.abs(a)<=c?(e=this.a*s,i=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(a),i=this.a*(h(a-this.lat0)+(1-Math.cos(n))/Math.tan(a)));else if(Math.abs(a)<=c)e=this.a*s,i=-1*this.ml0;else{var _=u(this.a,this.e,Math.sin(a))/Math.tan(a);e=_*Math.sin(n),i=this.a*l(this.e0,this.e1,this.e2,this.e3,a)-this.ml0+_*(1-Math.cos(n))}return t.x=e+this.x0,t.y=i+this.y0,t},i.inverse=function(t){var e,i,n,o,a,s,h,u,d;if(n=t.x-this.x0,o=t.y-this.y0,this.sphere)if(Math.abs(o+this.a*this.lat0)<=c)e=r(n/this.a+this.long0),i=0;else{s=this.lat0+o/this.a,h=n*n/this.a/this.a+s*s,u=s;var p;for(a=_;a;--a)if(p=Math.tan(u),d=-1*(s*(u*p+1)-u-.5*(u*u+h)*p)/((u-s)/p-1),u+=d,Math.abs(d)<=c){i=u;break}e=r(this.long0+Math.asin(n*Math.tan(u)/this.a)/Math.sin(i))}else if(Math.abs(o+this.ml0)<=c)i=0,e=r(this.long0+n/this.a);else{s=(this.ml0+o)/this.a,h=n*n/this.a/this.a+s*s,u=s;var m,f,g,y,v;for(a=_;a;--a)if(v=this.e*Math.sin(u),m=Math.sqrt(1-v*v)*Math.tan(u),f=this.a*l(this.e0,this.e1,this.e2,this.e3,u),g=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),y=f/this.a,d=(s*(m*y+1)-y-.5*m*(y*y+h))/(this.es*Math.sin(2*u)*(y*y+h-2*s*y)/(4*m)+(s-y)*(m*g-2/Math.sin(2*u))-g),u-=d,Math.abs(d)<=c){i=u;break}m=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=r(this.long0+Math.asin(n*m/this.a)/Math.sin(i))}return t.x=e,t.y=i,t},i.names=["Polyconic","poly"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/mlfn":14}],58:[function(t,e,i){var n=t("../common/adjust_lon"),o=t("../common/adjust_lat"),a=t("../common/pj_enfn"),s=20,r=t("../common/pj_mlfn"),h=t("../common/pj_inv_mlfn"),l=Math.PI/2,c=1e-10,u=t("../common/asinz");i.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=a(this.es)},i.forward=function(t){var e,i,o=t.x,a=t.y;if(o=n(o-this.long0),this.sphere){if(this.m)for(var h=this.n*Math.sin(a),l=s;l;--l){var u=(this.m*a+Math.sin(a)-h)/(this.m+Math.cos(a));if(a-=u,Math.abs(u)<c)break}else a=1!==this.n?Math.asin(this.n*Math.sin(a)):a;e=this.a*this.C_x*o*(this.m+Math.cos(a)),i=this.a*this.C_y*a}else{var _=Math.sin(a),d=Math.cos(a);i=this.a*r(a,_,d,this.en),e=this.a*o*d/Math.sqrt(1-this.es*_*_)}return t.x=e,t.y=i,t},i.inverse=function(t){var e,i,a,s;return t.x-=this.x0,a=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,a/=this.C_x*(this.m+Math.cos(e)),this.m?e=u((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=u(Math.sin(e)/this.n)),a=n(a+this.long0),e=o(e)):(e=h(t.y/this.a,this.es,this.en),s=Math.abs(e),l>s?(s=Math.sin(e),i=this.long0+t.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(e)),a=n(i)):l>s-c&&(a=this.long0)),t.x=a,t.y=e,t},i.names=["Sinusoidal","sinu"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/asinz":6,"../common/pj_enfn":17,"../common/pj_inv_mlfn":18,"../common/pj_mlfn":19}],59:[function(t,e,i){i.init=function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,n=this.rf,o=1/n,a=2*o-Math.pow(o,2),s=this.e=Math.sqrt(a);this.R=this.k0*i*Math.sqrt(1-a)/(1-a*Math.pow(e,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var r=Math.log(Math.tan(Math.PI/4+this.b0/2)),h=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+s*e)/(1-s*e));this.K=r-this.alpha*h+this.alpha*s/2*l},i.forward=function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+i)+this.K,o=2*(Math.atan(Math.exp(n))-Math.PI/4),a=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(o)+Math.cos(this.b0)*Math.cos(a))),r=Math.asin(Math.cos(this.b0)*Math.sin(o)-Math.sin(this.b0)*Math.cos(o)*Math.cos(a));return t.y=this.R/2*Math.log((1+Math.sin(r))/(1-Math.sin(r)))+this.y0,t.x=this.R*s+this.x0,t},i.inverse=function(t){for(var e=t.x-this.x0,i=t.y-this.y0,n=e/this.R,o=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(o)+Math.sin(this.b0)*Math.cos(o)*Math.cos(n)),s=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(o))),r=this.lambda0+s/this.alpha,h=0,l=a,c=-1e3,u=0;Math.abs(l-c)>1e-7;){if(++u>20)return;h=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),c=l,l=2*Math.atan(Math.exp(h))-Math.PI/2}return t.x=r,t.y=l,t},i.names=["somerc"]},{}],60:[function(t,e,i){var n=Math.PI/2,o=1e-10,a=t("../common/sign"),s=t("../common/msfnz"),r=t("../common/tsfnz"),h=t("../common/phi2z"),l=t("../common/adjust_lon");i.ssfn_=function(t,e,i){return e*=i,Math.tan(.5*(n+t))*Math.pow((1-e)/(1+e),.5*i)},i.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=o&&(this.k0=.5*(1+a(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=o&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=o&&(this.k0=.5*this.cons*s(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/r(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=s(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-n,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},i.forward=function(t){var e,i,a,s,h,c,u=t.x,_=t.y,d=Math.sin(_),p=Math.cos(_),m=l(u-this.long0);return Math.abs(Math.abs(u-this.long0)-Math.PI)<=o&&Math.abs(_+this.lat0)<=o?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*d+this.coslat0*p*Math.cos(m)),t.x=this.a*e*p*Math.sin(m)+this.x0,t.y=this.a*e*(this.coslat0*d-this.sinlat0*p*Math.cos(m))+this.y0,t):(i=2*Math.atan(this.ssfn_(_,d,this.e))-n,s=Math.cos(i),a=Math.sin(i),Math.abs(this.coslat0)<=o?(h=r(this.e,_*this.con,this.con*d),c=2*this.a*this.k0*h/this.cons,t.x=this.x0+c*Math.sin(u-this.long0),t.y=this.y0-this.con*c*Math.cos(u-this.long0),t):(Math.abs(this.sinlat0)<o?(e=2*this.a*this.k0/(1+s*Math.cos(m)),t.y=e*a):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*s*Math.cos(m))),t.y=e*(this.cosX0*a-this.sinX0*s*Math.cos(m))+this.y0),t.x=e*s*Math.sin(m)+this.x0,t))},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,a,s,r,c=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var u=2*Math.atan(c/(.5*this.a*this.k0));return e=this.long0,i=this.lat0,o>=c?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(u)*this.sinlat0+t.y*Math.sin(u)*this.coslat0/c),e=l(Math.abs(this.coslat0)<o?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(u),c*this.coslat0*Math.cos(u)-t.y*this.sinlat0*Math.sin(u))),t.x=e,t.y=i,t)}if(Math.abs(this.coslat0)<=o){if(o>=c)return i=this.lat0,e=this.long0,t.x=e,t.y=i,t;t.x*=this.con,t.y*=this.con,a=c*this.cons/(2*this.a*this.k0),i=this.con*h(this.e,a),e=this.con*l(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else s=2*Math.atan(c*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,o>=c?r=this.X0:(r=Math.asin(Math.cos(s)*this.sinX0+t.y*Math.sin(s)*this.cosX0/c),e=l(this.long0+Math.atan2(t.x*Math.sin(s),c*this.cosX0*Math.cos(s)-t.y*this.sinX0*Math.sin(s)))),i=-1*h(this.e,Math.tan(.5*(n+r)));return t.x=e,t.y=i,t},i.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],61:[function(t,e,i){var n=t("./gauss"),o=t("../common/adjust_lon");i.init=function(){n.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},i.forward=function(t){var e,i,a,s;return t.x=o(t.x-this.long0),n.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),a=Math.cos(t.x),s=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*a),t.x=s*i*Math.sin(t.x),t.y=s*(this.cosc0*e-this.sinc0*i*a),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},i.inverse=function(t){var e,i,a,s,r;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,r=Math.sqrt(t.x*t.x+t.y*t.y)){var h=2*Math.atan2(r,this.R2);e=Math.sin(h),i=Math.cos(h),s=Math.asin(i*this.sinc0+t.y*e*this.cosc0/r),a=Math.atan2(t.x*e,r*this.cosc0*i-t.y*this.sinc0*e)}else s=this.phic0,a=0;return t.x=a,t.y=s,n.inverse.apply(this,[t]),t.x=o(t.x+this.long0),t},i.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},{"../common/adjust_lon":5,"./gauss":46}],62:[function(t,e,i){var n=t("../common/e0fn"),o=t("../common/e1fn"),a=t("../common/e2fn"),s=t("../common/e3fn"),r=t("../common/mlfn"),h=t("../common/adjust_lon"),l=Math.PI/2,c=1e-10,u=t("../common/sign"),_=t("../common/asinz");i.init=function(){this.e0=n(this.es),this.e1=o(this.es),this.e2=a(this.es),this.e3=s(this.es),this.ml0=this.a*r(this.e0,this.e1,this.e2,this.e3,this.lat0)},i.forward=function(t){var e,i,n,o=t.x,a=t.y,s=h(o-this.long0),l=Math.sin(a),c=Math.cos(a);if(this.sphere){var u=c*Math.sin(s);if(Math.abs(Math.abs(u)-1)<1e-10)return 93;i=.5*this.a*this.k0*Math.log((1+u)/(1-u)),e=Math.acos(c*Math.cos(s)/Math.sqrt(1-u*u)),0>a&&(e=-e),n=this.a*this.k0*(e-this.lat0)}else{var _=c*s,d=Math.pow(_,2),p=this.ep2*Math.pow(c,2),m=Math.tan(a),f=Math.pow(m,2);e=1-this.es*Math.pow(l,2);var g=this.a/Math.sqrt(e),y=this.a*r(this.e0,this.e1,this.e2,this.e3,a);i=this.k0*g*_*(1+d/6*(1-f+p+d/20*(5-18*f+Math.pow(f,2)+72*p-58*this.ep2)))+this.x0,n=this.k0*(y-this.ml0+g*m*(d*(.5+d/24*(5-f+9*p+4*Math.pow(p,2)+d/30*(61-58*f+Math.pow(f,2)+600*p-330*this.ep2)))))+this.y0}return t.x=i,t.y=n,t},i.inverse=function(t){var e,i,n,o,a,s,r=6;if(this.sphere){var d=Math.exp(t.x/(this.a*this.k0)),p=.5*(d-1/d),m=this.lat0+t.y/(this.a*this.k0),f=Math.cos(m);e=Math.sqrt((1-f*f)/(1+p*p)),a=_(e),0>m&&(a=-a),s=0===p&&0===f?this.long0:h(Math.atan2(p,f)+this.long0)}else{var g=t.x-this.x0,y=t.y-this.y0;for(e=(this.ml0+y/this.k0)/this.a,i=e,o=0;!0&&(n=(e+this.e1*Math.sin(2*i)-this.e2*Math.sin(4*i)+this.e3*Math.sin(6*i))/this.e0-i,i+=n,!(Math.abs(n)<=c));o++)if(o>=r)return 95;if(Math.abs(i)<l){var v=Math.sin(i),M=Math.cos(i),L=Math.tan(i),w=this.ep2*Math.pow(M,2),T=Math.pow(w,2),S=Math.pow(L,2),b=Math.pow(S,2);e=1-this.es*Math.pow(v,2);var V=this.a/Math.sqrt(e),x=V*(1-this.es)/e,k=g/(V*this.k0),R=Math.pow(k,2);a=i-V*L*R/x*(.5-R/24*(5+3*S+10*w-4*T-9*this.ep2-R/30*(61+90*S+298*w+45*b-252*this.ep2-3*T))),s=h(this.long0+k*(1-R/6*(1+2*S+w-R/20*(5-2*w+28*S-3*T+8*this.ep2+24*b)))/M)}else a=l*u(y),s=this.long0}return t.x=s,t.y=a,t},i.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/mlfn":14,"../common/sign":21}],63:[function(t,e,i){
var n=.017453292519943295,o=t("./tmerc");i.dependsOn="tmerc",i.init=function(){this.zone&&(this.lat0=0,this.long0=(6*Math.abs(this.zone)-183)*n,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,o.init.apply(this),this.forward=o.forward,this.inverse=o.inverse)},i.names=["Universal Transverse Mercator System","utm"]},{"./tmerc":62}],64:[function(t,e,i){var n=t("../common/adjust_lon"),o=Math.PI/2,a=1e-10,s=t("../common/asinz");i.init=function(){this.R=this.a},i.forward=function(t){var e,i,r=t.x,h=t.y,l=n(r-this.long0);Math.abs(h)<=a&&(e=this.x0+this.R*l,i=this.y0);var c=s(2*Math.abs(h/Math.PI));(Math.abs(l)<=a||Math.abs(Math.abs(h)-o)<=a)&&(e=this.x0,i=h>=0?this.y0+Math.PI*this.R*Math.tan(.5*c):this.y0+Math.PI*this.R*-Math.tan(.5*c));var u=.5*Math.abs(Math.PI/l-l/Math.PI),_=u*u,d=Math.sin(c),p=Math.cos(c),m=p/(d+p-1),f=m*m,g=m*(2/d-1),y=g*g,v=Math.PI*this.R*(u*(m-y)+Math.sqrt(_*(m-y)*(m-y)-(y+_)*(f-y)))/(y+_);0>l&&(v=-v),e=this.x0+v;var M=_+m;return v=Math.PI*this.R*(g*M-u*Math.sqrt((y+_)*(_+1)-M*M))/(y+_),i=h>=0?this.y0+v:this.y0-v,t.x=e,t.y=i,t},i.inverse=function(t){var e,i,o,s,r,h,l,c,u,_,d,p,m;return t.x-=this.x0,t.y-=this.y0,d=Math.PI*this.R,o=t.x/d,s=t.y/d,r=o*o+s*s,h=-Math.abs(s)*(1+r),l=h-2*s*s+o*o,c=-2*h+1+2*s*s+r*r,m=s*s/c+(2*l*l*l/c/c/c-9*h*l/c/c)/27,u=(h-l*l/3/c)/c,_=2*Math.sqrt(-u/3),d=3*m/u/_,Math.abs(d)>1&&(d=d>=0?1:-1),p=Math.acos(d)/3,i=t.y>=0?(-_*Math.cos(p+Math.PI/3)-l/3/c)*Math.PI:-(-_*Math.cos(p+Math.PI/3)-l/3/c)*Math.PI,e=Math.abs(o)<a?this.long0:n(this.long0+Math.PI*(r-1+Math.sqrt(1+2*(o*o-s*s)+r*r))/2/o),t.x=e,t.y=i,t},i.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},{"../common/adjust_lon":5,"../common/asinz":6}],65:[function(t,e,i){var n=.017453292519943295,o=57.29577951308232,a=1,s=2,r=t("./datum_transform"),h=t("./adjust_axis"),l=t("./Proj"),c=t("./common/toPoint");e.exports=function u(t,e,i){function _(t,e){return(t.datum.datum_type===a||t.datum.datum_type===s)&&"WGS84"!==e.datumCode}var d;return Array.isArray(i)&&(i=c(i)),t.datum&&e.datum&&(_(t,e)||_(e,t))&&(d=new l("WGS84"),u(t,d,i),t=d),"enu"!==t.axis&&h(t,!1,i),"longlat"===t.projName?(i.x*=n,i.y*=n):(t.to_meter&&(i.x*=t.to_meter,i.y*=t.to_meter),t.inverse(i)),t.from_greenwich&&(i.x+=t.from_greenwich),i=r(t.datum,e.datum,i),e.from_greenwich&&(i.x-=e.from_greenwich),"longlat"===e.projName?(i.x*=o,i.y*=o):(e.forward(i),e.to_meter&&(i.x/=e.to_meter,i.y/=e.to_meter)),"enu"!==e.axis&&h(e,!0,i),i}},{"./Proj":2,"./adjust_axis":3,"./common/toPoint":23,"./datum_transform":31}],66:[function(t,e,i){function n(t,e,i){t[e]=i.map(function(t){var e={};return o(t,e),e}).reduce(function(t,e){return l(t,e)},{})}function o(t,e){var i;return Array.isArray(t)?(i=t.shift(),"PARAMETER"===i&&(i=t.shift()),1===t.length?Array.isArray(t[0])?(e[i]={},o(t[0],e[i])):e[i]=t[0]:t.length?"TOWGS84"===i?e[i]=t:(e[i]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(i)>-1?(e[i]={name:t[0].toLowerCase(),convert:t[1]},3===t.length&&(e[i].auth=t[2])):"SPHEROID"===i?(e[i]={name:t[0],a:t[1],rf:t[2]},4===t.length&&(e[i].auth=t[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(i)>-1?(t[0]=["name",t[0]],n(e,i,t)):t.every(function(t){return Array.isArray(t)})?n(e,i,t):o(t,e[i])):e[i]=!0,void 0):void(e[t]=!0)}function a(t,e){var i=e[0],n=e[1];!(i in t)&&n in t&&(t[i]=t[n],3===e.length&&(t[i]=e[2](t[i])))}function s(t){return t*h}function r(t){function e(e){var i=t.to_meter||1;return parseFloat(e,10)*i}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=parseFloat(t.UNIT.convert,10)*t.DATUM.SPHEROID.a):t.to_meter=parseFloat(t.UNIT.convert,10))),t.GEOGCS&&(t.GEOGCS.DATUM?t.datumCode=t.GEOGCS.DATUM.name.toLowerCase():t.datumCode=t.GEOGCS.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),("new_zealand_geodetic_datum_1949"===t.datumCode||"new_zealand_1949"===t.datumCode)&&(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),t.GEOGCS.DATUM&&t.GEOGCS.DATUM.SPHEROID&&(t.ellps=t.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=t.GEOGCS.DATUM.SPHEROID.a,t.rf=parseFloat(t.GEOGCS.DATUM.SPHEROID.rf,10)),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36")),t.b&&!isFinite(t.b)&&(t.b=t.a);var i=function(e){return a(t,e)},n=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",s],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",s],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",s],["lat0","latitude_of_origin",s],["lat0","standard_parallel_1",s],["lat1","standard_parallel_1",s],["lat2","standard_parallel_2",s],["alpha","azimuth",s],["srsCode","name"]];n.forEach(i),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=s(t.lat1>0?90:-90),t.lat_ts=t.lat1)}var h=.017453292519943295,l=t("./extend");e.exports=function(t,e){var i=JSON.parse((","+t).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),n=i.shift(),a=i.shift();i.unshift(["name",a]),i.unshift(["type",n]),i.unshift("output");var s={};return o(i,s),r(s.output),l(e,s.output)}},{"./extend":34}],67:[function(t,e,i){function n(t){return t*(Math.PI/180)}function o(t){return 180*(t/Math.PI)}function a(t){var e,i,o,a,s,h,l,c,u,_=t.lat,d=t.lon,p=6378137,m=.00669438,f=.9996,g=n(_),y=n(d);u=Math.floor((d+180)/6)+1,180===d&&(u=60),_>=56&&64>_&&d>=3&&12>d&&(u=32),_>=72&&84>_&&(d>=0&&9>d?u=31:d>=9&&21>d?u=33:d>=21&&33>d?u=35:d>=33&&42>d&&(u=37)),e=6*(u-1)-180+3,c=n(e),i=m/(1-m),o=p/Math.sqrt(1-m*Math.sin(g)*Math.sin(g)),a=Math.tan(g)*Math.tan(g),s=i*Math.cos(g)*Math.cos(g),h=Math.cos(g)*(y-c),l=p*((1-m/4-3*m*m/64-5*m*m*m/256)*g-(3*m/8+3*m*m/32+45*m*m*m/1024)*Math.sin(2*g)+(15*m*m/256+45*m*m*m/1024)*Math.sin(4*g)-35*m*m*m/3072*Math.sin(6*g));var v=f*o*(h+(1-a+s)*h*h*h/6+(5-18*a+a*a+72*s-58*i)*h*h*h*h*h/120)+5e5,M=f*(l+o*Math.tan(g)*(h*h/2+(5-a+9*s+4*s*s)*h*h*h*h/24+(61-58*a+a*a+600*s-330*i)*h*h*h*h*h*h/720));return 0>_&&(M+=1e7),{northing:Math.round(M),easting:Math.round(v),zoneNumber:u,zoneLetter:r(_)}}function s(t){var e=t.northing,i=t.easting,n=t.zoneLetter,a=t.zoneNumber;if(0>a||a>60)return null;var r,h,l,c,u,_,d,p,m,f,g=.9996,y=6378137,v=.00669438,M=(1-Math.sqrt(1-v))/(1+Math.sqrt(1-v)),L=i-5e5,w=e;"N">n&&(w-=1e7),p=6*(a-1)-180+3,r=v/(1-v),d=w/g,m=d/(y*(1-v/4-3*v*v/64-5*v*v*v/256)),f=m+(3*M/2-27*M*M*M/32)*Math.sin(2*m)+(21*M*M/16-55*M*M*M*M/32)*Math.sin(4*m)+151*M*M*M/96*Math.sin(6*m),h=y/Math.sqrt(1-v*Math.sin(f)*Math.sin(f)),l=Math.tan(f)*Math.tan(f),c=r*Math.cos(f)*Math.cos(f),u=y*(1-v)/Math.pow(1-v*Math.sin(f)*Math.sin(f),1.5),_=L/(h*g);var T=f-h*Math.tan(f)/u*(_*_/2-(5+3*l+10*c-4*c*c-9*r)*_*_*_*_/24+(61+90*l+298*c+45*l*l-252*r-3*c*c)*_*_*_*_*_*_/720);T=o(T);var S=(_-(1+2*l+c)*_*_*_/6+(5-2*c+28*l-3*c*c+8*r+24*l*l)*_*_*_*_*_/120)/Math.cos(f);S=p+o(S);var b;if(t.accuracy){var V=s({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});b={top:V.lat,right:V.lon,bottom:T,left:S}}else b={lat:T,lon:S};return b}function r(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function h(t,e){var i="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+l(t.easting,t.northing,t.zoneNumber)+i.substr(i.length-5,e)+n.substr(n.length-5,e)}function l(t,e,i){var n=c(i),o=Math.floor(t/1e5),a=Math.floor(e/1e5)%20;return u(o,a,n)}function c(t){var e=t%f;return 0===e&&(e=f),e}function u(t,e,i){var n=i-1,o=g.charCodeAt(n),a=y.charCodeAt(n),s=o+t-1,r=a+e,h=!1;s>T&&(s=s-T+v-1,h=!0),(s===M||M>o&&s>M||(s>M||M>o)&&h)&&s++,(s===L||L>o&&s>L||(s>L||L>o)&&h)&&(s++,s===M&&s++),s>T&&(s=s-T+v-1),r>w?(r=r-w+v-1,h=!0):h=!1,(r===M||M>a&&r>M||(r>M||M>a)&&h)&&r++,(r===L||L>a&&r>L||(r>L||L>a)&&h)&&(r++,r===M&&r++),r>w&&(r=r-w+v-1);var l=String.fromCharCode(s)+String.fromCharCode(r);return l}function _(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,i=t.length,n=null,o="",a=0;!/[A-Z]/.test(e=t.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+t;o+=e,a++}var s=parseInt(o,10);if(0===a||a+3>i)throw"MGRSPoint bad conversion from: "+t;var r=t.charAt(a++);if("A">=r||"B"===r||"Y"===r||r>="Z"||"I"===r||"O"===r)throw"MGRSPoint zone letter "+r+" not handled: "+t;n=t.substring(a,a+=2);for(var h=c(s),l=d(n.charAt(0),h),u=p(n.charAt(1),h);u<m(r);)u+=2e6;var _=i-a;if(_%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,g,y,v,M,L=_/2,w=0,T=0;return L>0&&(f=1e5/Math.pow(10,L),g=t.substring(a,a+L),w=parseFloat(g)*f,y=t.substring(a+L),T=parseFloat(y)*f),v=w+l,M=T+u,{easting:v,northing:M,zoneLetter:r,zoneNumber:s,accuracy:f}}function d(t,e){for(var i=g.charCodeAt(e-1),n=1e5,o=!1;i!==t.charCodeAt(0);){if(i++,i===M&&i++,i===L&&i++,i>T){if(o)throw"Bad character: "+t;i=v,o=!0}n+=1e5}return n}function p(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var i=y.charCodeAt(e-1),n=0,o=!1;i!==t.charCodeAt(0);){if(i++,i===M&&i++,i===L&&i++,i>w){if(o)throw"Bad character: "+t;i=v,o=!0}n+=1e5}return n}function m(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}var f=6,g="AJSAJS",y="AFAFAF",v=65,M=73,L=79,w=86,T=90;i.forward=function(t,e){return e=e||5,h(a({lat:t[1],lon:t[0]}),e)},i.inverse=function(t){var e=s(_(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},i.toPoint=function(t){var e=s(_(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}},{}],68:[function(t,e,i){e.exports={_args:[[{name:"proj4",raw:"proj4",rawSpec:"",scope:null,spec:"latest",type:"tag"},"D:\\WorkSpace_Eclipse_32_GitHub_TtwJavaScript\\__Node_Module_Download\\__\\node_modules - proj4"]],_from:"proj4@latest",_id:"proj4@2.3.14",_inCache:!0,_installable:!0,_location:"/proj4",_nodeVersion:"4.2.6",_npmOperationalInternal:{host:"packages-13-west.internal.npmjs.com",tmp:"tmp/proj4-2.3.14.tgz_1457689264880_0.9409773757215589"},_npmUser:{email:"andreas.hocevar@gmail.com",name:"ahocevar"},_npmVersion:"2.14.12",_phantomChildren:{},_requested:{name:"proj4",raw:"proj4",rawSpec:"",scope:null,spec:"latest",type:"tag"},_requiredBy:["#USER"],_resolved:"https://registry.npmjs.org/proj4/-/proj4-2.3.14.tgz",_shasum:"928906144388980c914c5a357fc493aba59a747a",_shrinkwrap:null,_spec:"proj4",_where:"D:\\WorkSpace_Eclipse_32_GitHub_TtwJavaScript\\__Node_Module_Download\\__\\node_modules - proj4",author:"",bugs:{url:"https://github.com/proj4js/proj4js/issues"},contributors:[{email:"madair@dmsolutions.ca",name:"Mike Adair"},{email:"rich@greenwoodmap.com",name:"Richard Greenwood"},{email:"calvin.metcalf@gmail.com",name:"Calvin Metcalf"},{name:"Richard Marsden",url:"http://www.winwaed.com"},{name:"T. Mittan"},{name:"D. Steinwand"},{name:"S. Nelson"}],dependencies:{mgrs:"~0.0.2"},description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",devDependencies:{browserify:"~12.0.1",chai:"~1.8.1",curl:"git://github.com/cujojs/curl.git",grunt:"~0.4.2","grunt-browserify":"~4.0.1","grunt-cli":"~0.1.13","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0","grunt-contrib-uglify":"~0.11.1","grunt-mocha-phantomjs":"~0.4.0",istanbul:"~0.2.4",mocha:"~1.17.1",tin:"~0.4.0"},directories:{doc:"docs",test:"test"},dist:{shasum:"928906144388980c914c5a357fc493aba59a747a",tarball:"https://registry.npmjs.org/proj4/-/proj4-2.3.14.tgz"},gitHead:"7619c8a63df1eae5bad0b9ad31ca1d87b0549243",homepage:"https://github.com/proj4js/proj4js#readme",jam:{include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"],main:"dist/proj4.js"},license:"MIT",main:"lib/index.js",maintainers:[{email:"calvin.metcalf@gmail.com",name:"cwmma"},{email:"andreas.hocevar@gmail.com",name:"ahocevar"}],name:"proj4",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},version:"2.3.14"}},{}]},{},[36]),function(t){var e,i;if("function"==typeof define&&define.amd)define(["leaflet","proj4"],t);else if("object"==typeof module&&"object"==typeof module.exports)e=require("leaflet"),i=require("proj4"),module.exports=t(e,i);else{if("undefined"==typeof window.L||"undefined"==typeof window.proj4)throw"Leaflet and proj4 must be loaded first";t(window.L,window.proj4)}}(function(t,e){return t.Proj={},t.Proj._isProj4Obj=function(t){return"undefined"!=typeof t.inverse&&"undefined"!=typeof t.forward},t.Proj.ScaleDependantTransformation=function(t){this.scaleTransforms=t},t.Proj.ScaleDependantTransformation.prototype.transform=function(t,e){return this.scaleTransforms[e].transform(t,e)},t.Proj.ScaleDependantTransformation.prototype.untransform=function(t,e){return this.scaleTransforms[e].untransform(t,e)},t.Proj.Projection=t.Class.extend({initialize:function(i,n){if(t.Proj._isProj4Obj(i))this._proj=i;else{var o=i;if(n)e.defs(o,n);else if(void 0===e.defs[o]){var a=o.split(":");if(a.length>3&&(o=a[a.length-3]+":"+a[a.length-1]),void 0===e.defs[o])throw"No projection definition for code "+o}this._proj=e(o)}},project:function(e){var i=this._proj.forward([e.lng,e.lat]);return new t.Point(i[0],i[1])},unproject:function(e,i){var n=this._proj.inverse([e.x,e.y]);return new t.LatLng(n[1],n[0],i)}}),t.Proj.CRS=t.Class.extend({includes:t.CRS,options:{transformation:new t.Transformation(1,0,-1,0)},initialize:function(e,i,n){var o,a,s,r;if(t.Proj._isProj4Obj(e)?(a=e,o=a.srsCode,r=i||{},this.projection=new t.Proj.Projection(a),this.projection.bounds=r.bounds):(o=e,s=i,r=n||{},this.projection=new t.Proj.Projection(o,s),this.projection.bounds=r.bounds),t.Util.setOptions(this,r),this.code=o,this.transformation=this.options.transformation,this.options.origin&&(this.transformation=new t.Transformation(1,-this.options.origin[0],-1,this.options.origin[1])),this.options.scales)this._scales=this.options.scales;else if(this.options.resolutions){this._scales=[];for(var h=this.options.resolutions.length-1;h>=0;h--)this.options.resolutions[h]&&(this._scales[h]=1/this.options.resolutions[h])}},scale:function(t){var e,i,n,o,a=Math.floor(t);return t===a?this._scales[t]:(e=this._scales[a],i=this._scales[a+1],n=i-e,o=t-a,e+n*o)},getSize:function(e){var i,n,o,a=this.options.bounds;return a?(i=this.scale(e),n=this.transformation.transform(a.min,i),o=this.transformation.transform(a.max,i),t.point(Math.abs(o.x-n.x),Math.abs(o.y-n.y))):(i=256*Math.pow(2,e),t.point(i,i))}}),t.Proj.CRS.TMS=t.Proj.CRS.extend({options:{tileSize:256},initialize:function(e,i,n,o){var a,s,r,h,l;t.Proj._isProj4Obj(e)?(r=e,h=t.bounds([[i[0],i[1]],[i[2],i[3]]]),l=n||{},l.origin=[n[0],n[1]],l.bounds=h,t.Proj.CRS.prototype.initialize.call(this,r,l),this.projectedBounds=i):(a=e,s=i,h=t.bounds([[n[0],n[1]],[n[2],n[3]]]),l=o||{},l.origin=[n[0],n[1]],l.bounds=h,t.Proj.CRS.prototype.initialize.call(this,a,s,l),this.projectedBounds=n),this._sizes=this._calculateSizes()},_calculateSizes:function(){var e,i,n,o,a=[],s=this.projectedBounds;for(i=this._scales.length-1;i>=0;i--)this._scales[i]&&(e=this.options.tileSize/this._scales[i],n=Math.ceil(parseFloat((s[2]-s[0])/e).toPrecision(3))*e*this._scales[i],o=Math.ceil(parseFloat((s[3]-s[1])/e).toPrecision(3))*e*this._scales[i],a[i]=t.point(n,o));return a},getSize:function(t){return this._sizes[t]}}),t.Proj.TileLayer={},t.Proj.TileLayer.TMS=t.TileLayer.extend({options:{continuousWorld:!0},initialize:function(e,i,n){var o,a,s,r,h=!0;if(!(i instanceof t.Proj.CRS.TMS))throw"CRS is not L.Proj.CRS.TMS.";for(t.TileLayer.prototype.initialize.call(this,e,n),this.options.tms=!1,this.crs=i,s=this.crs.projectedBounds,r=this.options.minZoom;r<this.options.maxZoom&&h;r++){var l=(s[3]-s[1])/this._projectedTileSize(r);h=Math.abs(l-Math.round(l))>.001}if(!h){for(o={},r=this.options.minZoom;r<this.options.maxZoom;r++)a=s[1]+Math.ceil((s[3]-s[1])/this._projectedTileSize(r))*this._projectedTileSize(r),o[this.crs.scale(r)]=new t.Transformation(1,-s[0],-1,a);this.crs=new t.Proj.CRS.TMS(this.crs.projection._proj,s,this.crs.options),this.crs.transformation=new t.Proj.ScaleDependantTransformation(o)}},_projectedTileSize:function(t){return this.options.tileSize/this.crs.scale(t)},getTileUrl:function(e){var i=this._map.getZoom(),n=Math.ceil((this.crs.projectedBounds[3]-this.crs.projectedBounds[1])/this._projectedTileSize(i));return t.Util.template(this._url,t.Util.extend({s:this._getSubdomain(e),z:this._getZoomForUrl(),x:e.x,y:n-e.y-1},this.options))}}),t.Proj.GeoJSON=t.GeoJSON.extend({initialize:function(e,i){this._callLevel=0,t.GeoJSON.prototype.initialize.call(this,null,i),e&&this.addData(e)},addData:function(e){var i;e&&(e.crs&&"name"===e.crs.type?i=new t.Proj.CRS(e.crs.properties.name):e.crs&&e.crs.type&&(i=new t.Proj.CRS(e.crs.type+":"+e.crs.properties.code)),void 0!==i&&(this.options.coordsToLatLng=function(e){var n=t.point(e[0],e[1]);return i.projection.unproject(n)})),++this._callLevel;try{t.GeoJSON.prototype.addData.call(this,e)}finally{this._callLevel--,0===this._callLevel&&delete this.options.coordsToLatLng}}}),t.Proj.geoJson=function(e,i){return new t.Proj.GeoJSON(e,i)},t.Proj.ImageOverlay=t.ImageOverlay.extend({initialize:function(e,i,n){t.ImageOverlay.prototype.initialize.call(this,e,null,n),this._projBounds=i},_animateZoom:function(e){var i=t.point(this._projBounds.min.x,this._projBounds.max.y),n=t.point(this._projBounds.max.x,this._projBounds.min.y),o=this._projectedToNewLayerPoint(i,e.zoom,e.center),a=this._projectedToNewLayerPoint(n,e.zoom,e.center).subtract(o),s=o.add(a._multiplyBy((1-1/e.scale)/2));this._image.style[t.DomUtil.TRANSFORM]=t.DomUtil.getTranslateString(s)+" scale("+this._map.getZoomScale(e.zoom)+") "},_reset:function(){var e=this._map.getZoom(),i=this._map.getPixelOrigin(),n=t.bounds(this._transform(this._projBounds.min,e)._subtract(i));this._transform(this._projBounds.max,e)._subtract(i);var o=n.getSize(),a=this._image;t.DomUtil.setPosition(a,n.min),a.style.width=o.x+"px",a.style.height=o.y+"px"},_projectedToNewLayerPoint:function(t,e,i){var n=this._map._getNewTopLeftPoint(i,e).add(this._map._getMapPanePos());return this._transform(t,e)._subtract(n)},_transform:function(t,e){var i=this._map.options.crs,n=i.transformation,o=i.scale(e);return n.transform(t,o)}}),t.Proj.imageOverlay=function(e,i,n){return new t.Proj.ImageOverlay(e,i,n)},"undefined"!=typeof t.CRS&&(t.CRS.proj4js=function(){return function(e,i,n,o){return o=o||{},n&&(o.transformation=n),new t.Proj.CRS(e,i,o)}}()),t.Proj}),function(t,e,i,n,o,a,s,r,h,l,c,u,_){t.GoogleAnalyticsObject=o,t[o]=t[o]||function(){(t[o].q=t[o].q||[]).push(arguments)},t[o].l=1*new Date,a=e.createElement(i),s=e.getElementsByTagName(i)[0],a.async=1,a.src=n,s.parentNode.insertBefore(a,s)},window.console){var t=window.console;t.assert=t.assert||{},t.cd=t.cd||{},t.clear=t.clear||{},t.count=t.count||{},t.countReset=t.countReset||{},t.debug=t.debug||{},t.dir=t.dir||{},t.dirxml=t.dirxml||{},t.error=t.error||{},t.group=t.group||{},t.groupCollapsed=t.groupCollapsed||{},t.groupEnd=t.groupEnd||{},t.info=t.info||{},t.log=t.log||{},t.select=t.select||{},t.time=t.time||{},t.timeEnd=t.timeEnd||{},t.timeStamp=t.timeStamp||{},t.trace=t.trace||{},t.warn=t.warn||{}}else{window.console={};var t=window.console;t.assert=t.assert||{},t.cd=t.cd||{},t.clear=t.clear||{},t.count=t.count||{},t.countReset=t.countReset||{},t.debug=t.debug||{},t.dir=t.dir||{},t.dirxml=t.dirxml||{},t.error=t.error||{},t.group=t.group||{},t.groupCollapsed=t.groupCollapsed||{},t.groupEnd=t.groupEnd||{},t.info=t.info||{},t.log=t.log||{},t.select=t.select||{},t.time=t.time||{},t.timeEnd=t.timeEnd||{},t.timeStamp=t.timeStamp||{},t.trace=t.trace||{},t.warn=t.warn||{}}window._$TATIC_CONST_DEBUG=window._$TATIC_CONST_DEBUG||!1,window.TtwLog=window.TtwLog||null,window.TtwPackage=function(){var k="TtwPackage",w=window,d=w.document;w._TTW_$TATIC_JS_IMPORT=function(t,e){o=d.createElement("SCRIPT"),o.type="text/javascript",o.async=!1,o.defer=!0,o.src=t,"8"==document.documentMode?o.onreadystatechange=function(){"loaded"==this.readyState&&(e?e():null)}:o.onload=function(t){e?e():null},d.getElementsByTagName("HEAD")[0].appendChild(o)},w._TTW_$TATIC_JS_IMPORT_ASYNC=function(t,e){o=d.createElement("SCRIPT"),o.type="text/javascript",o.async=!0,o.src=t,"8"==document.documentMode?o.onreadystatechange=function(){"loaded"==this.readyState&&(e?e():null)}:o.onload=function(t){e?e():null},d.getElementsByTagName("HEAD")[0].appendChild(o)},w.Lib={global:w,window:w,Ttw:{global:w,window:w,CLASS:{DisplayObject:{},Error:{},Event:{},FN:{},Google:{},Runner:{},STtw:{},UIComponent:{}}}},w.Instance={Ttw:{Google:{},UIComponent:{}}};var lt=w.Lib.Ttw;if(lt.CONST={ALPHABET_BIG:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ALPHABET_SMALL:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],B_FIRE_FOX:/Firefox/i.test(navigator.userAgent)?!0:!1},window.atob)var _f0=atob,_f1=btoa;else{!function(t){"use strict";var e,i=t.Base64,n="2.1.9";if("undefined"!=typeof module&&module.exports)try{e=require("buffer").Buffer}catch(o){}var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(t){for(var e={},i=0,n=t.length;n>i;i++)e[t.charAt(i)]=i;return e}(a),r=String.fromCharCode,h=function(t){if(t.length<2){var e=t.charCodeAt(0);return 128>e?t:2048>e?r(192|e>>>6)+r(128|63&e):r(224|e>>>12&15)+r(128|e>>>6&63)+r(128|63&e)}var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return r(240|e>>>18&7)+r(128|e>>>12&63)+r(128|e>>>6&63)+r(128|63&e)},l=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,c=function(t){return t.replace(l,h)},u=function(t){var e=[0,2,1][t.length%3],i=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),n=[a.charAt(i>>>18),a.charAt(i>>>12&63),e>=2?"=":a.charAt(i>>>6&63),e>=1?"=":a.charAt(63&i)];return n.join("")},_=t.btoa?function(e){return t.btoa(e)}:function(t){return t.replace(/[\s\S]{1,3}/g,u)},d=e?function(t){return(t.constructor===e.constructor?t:new e(t)).toString("base64")}:function(t){return _(c(t))},p=function(t,e){return e?d(String(t)).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,""):d(String(t))},m=function(t){return p(t,!0)},f=new RegExp(["[-][-]","[-][-]{2}","[-][-]{3}"].join("|"),"g"),g=function(t){switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),i=e-65536;return r((i>>>10)+55296)+r((1023&i)+56320);case 3:return r((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return r((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},y=function(t){return t.replace(f,g)},v=function(t){var e=t.length,i=e%4,n=(e>0?s[t.charAt(0)]<<18:0)|(e>1?s[t.charAt(1)]<<12:0)|(e>2?s[t.charAt(2)]<<6:0)|(e>3?s[t.charAt(3)]:0),o=[r(n>>>16),r(n>>>8&255),r(255&n)];return o.length-=[0,0,2,1][i],o.join("")},M=t.atob?function(e){return t.atob(e)}:function(t){return t.replace(/[\s\S]{1,4}/g,v)},L=e?function(t){return(t.constructor===e.constructor?t:new e(t,"base64")).toString()}:function(t){return y(M(t))},w=function(t){return L(String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},T=function(){var e=t.Base64;return t.Base64=i,e};if(t.Base64={VERSION:n,atob:M,btoa:_,fromBase64:w,toBase64:p,utob:c,encode:p,encodeURI:m,btou:y,decode:w,noConflict:T},"function"==typeof Object.defineProperty){var S=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};t.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",S(function(){return w(this)})),Object.defineProperty(String.prototype,"toBase64",S(function(t){return p(this,t)})),Object.defineProperty(String.prototype,"toBase64URI",S(function(){return p(this,!0)}))}}t.Meteor&&(Base64=t.Base64)}(lt);var _f0=lt.Base64.atob,_f1=lt.Base64.btoa}var _ab=function(t,e){for(i=0,iLen=e;i<iLen;++i)t=_f0(t);return t},_ab1=function(t){return _f0(t)};lt.ab=function(t,e){return _ab(t,e)};var _ba=function(t,e){for(i=0,iLen=e;i<iLen;++i)t=_f1(t);return t},_ba1=function(t){return _f1(t)};lt.ba=function(t,e){return _ba(t,e)};var _abt=function(t,e){for(i=0,iLen=e;i<iLen;++i)t=_f0(t).replace(_abbats,"");return t},_abt1=function(t){return t=_f0(t).replace(_abbats,"")};lt.abt=function(t,e){return _abt(t,e)};var _bat=function(t,e){for(i=0,iLen=e;i<iLen;++i){var e=t.length,n=t.substr(0,e/2),o=t.substr(e/2,e);t=n+_abbats+o,t=_f1(t)}return t},_bat1=function(t){var e=t.length,i=t.substr(0,e/2),n=t.substr(e/2,e);return t=i+_abbats+n,t=_f1(t)};lt.bat=function(t,e){return _bat(t,e)};var _abbats="VjJ0V2EySXlSWGxWYTJocVUwaENhRlZ1Y0ZkalZteFlUbFU1VGsxcmIzcFZSbEYzVUZFOVBRPT0=",gabbats=function(){return _abbats},_abt2=function(t){return _abt1(_abt1(t))},_abt3=function(t){return _abt1(_abt2(t))},_abt4=function(t){return _abt1(_abt3(t))},_abt5=function(t){return _abt1(_abt4(t))},_bat2=function(t){return _bat1(_bat1(t))},_bat3=function(t){return _bat1(_bat2(t))},_bat4=function(t){return _bat1(_bat3(t))},_bat5=function(t){return _bat1(_bat4(t))};lt.checkObjKey=function(t,e){return window.TtwLog.log("key : "+e),t[e]?!0:!1},lt.deleteKey=function(t,e){t[e]=null;try{delete t[e]}catch(i){}},lt.eval=function(name){return eval(name)},lt.hasOwnProperty=function(t){return w[t]?!0:!1},lt.getValue__CheckHasOwnProperty=function(t,e,i){return t.hasOwnProperty(e)?t[e]:i},lt.importJS=function(t,e){lt.importJS_Async(t,e,!1)},lt.importJS_Async=function(t,e,i){var n=window,o=n.document,a=o.createElement("SCRIPT");a.type="text/javascript",a.onreadystatechange=a.onload=e?e:null,a.async=i,a.src=t,o.getElementsByTagName("HEAD")[0].appendChild(a)},lt.importJS_Async_False=function(t,e){lt.importJS_Async(t,e,!1)},lt.importJS_Async_True=function(t,e){lt.importJS_Async(t,e,!0)},lt.importJSs=function(t,e){lt.importJSs_Async_False(t,e)},lt.importJSs_Async_False=function(t,e,i){i||(i="_$_DATA_importJSs"),Lib.Ttw[i]={idx:0,data:t,len:t.length,run:function(){var t=Lib.Ttw,e=t._$_DATA_importJSs;t.importJS(e.data[e.idx],function(){++e.idx,e.idx<e.len&&e.run(),e.run=null})}},Lib.Ttw._$_DATA_importJSs.run()},lt.writeJS=function(t,e){e?document.write('<script type="text/javascript" src="'+t+'"onload="javaScript:'+e+'()""onreadystatechange="javascript:'+e+'()"></script>'):document.write('<script type="text/javascript" src="'+t+'"></script>')},lt.writelnJS=function(t,e){e?document.writeln('<script type="text/javascript" src="'+t+'"onload="javaScript:'+e+'()""onreadystatechange="javascript:'+e+'()"></script>'):document.writeln('<script type="text/javascript" src="'+t+'"></script>')},lt.initialize_Console=function(){if(w.console)w.TtwLog=w.console,w.TtwLog.timeStamp=w.TtwLog.log;else{for(this.d=["assert","clear","count","debug","dir","dirxml","error","info","log","profile","profileEnd","time","timeEnd","timeStamp","trace","warn"],this.fDefault=function(){},w.console=w.console||{},this.t=w.console,this.i=0,this.iLen=this.d.length;this.i<this.iLen;++this.i)this.t[this.d[this.i]]=this.t[this.d[this.i]]||this.fDefault;w.TtwLog=this.t}w.TtwLog.logCheckSameObject=function(kT,kCT){var t=eval(kT),ct=eval(kCT);try{}catch(e){}},w.TtwLog.logCommentDash10=function(){},w.TtwLog.logCommentDash30=function(){},w.TtwLog.logCommentDash50=function(){},w.TtwLog.logCommentDash50_5=function(){var t=w.TtwLog.logCommentDash50;t(),t(),t(),t(),t()},w.TtwLog.logCommentDash100=function(){};var _logObjectInformation=function(t,e){var i=[];for(var n in t)i.push(n);i.sort();var o=0,a=i.length;if(window._$TATIC_CONST_DEBUG)for(;a>o;++o)try{"function"==typeof t[i[o]]}catch(s){}else for(;a>o;++o);};w.TtwLog.logObjectInformation=function(t,e){_logObjectInformation(t,e)};var _logObjectInformationExportLogSource=function(t,e,i){i=i||!1;var n=[];for(var o in t)n.push(o);n.sort();var a=0,s=n.length;if(window._$TATIC_CONST_DEBUG)for(;s>a;++a)try{"function"==typeof t[n[a]]||"object"==typeof t[n[a]]}catch(r){}else for(;s>a;++a);};w.TtwLog.logObjectInformationExportLogSource=function(t,e,i){_logObjectInformationExportLogSource(t,e,i)};var _f=function(){if(window.console){var t=window.console;t.assert=t.assert||{},t.cd=t.cd||{},t.clear=t.clear||{},t.count=t.count||{},t.countReset=t.countReset||{},t.debug=t.debug||{},t.dir=t.dir||{},t.dirxml=t.dirxml||{},t.error=t.error||{},t.group=t.group||{},t.groupCollapsed=t.groupCollapsed||{},t.groupEnd=t.groupEnd||{},t.info=t.info||{},t.log=t.log||{},t.select=t.select||{},t.time=t.time||{},t.timeEnd=t.timeEnd||{},t.timeStamp=t.timeStamp||{},t.trace=t.trace||{},t.warn=t.warn||{}}else{window.console={};var t=window.console;t.assert=t.assert||{},t.cd=t.cd||{},t.clear=t.clear||{},t.count=t.count||{},t.countReset=t.countReset||{},t.debug=t.debug||{},t.dir=t.dir||{},t.dirxml=t.dirxml||{},t.error=t.error||{},t.group=t.group||{},t.groupCollapsed=t.groupCollapsed||{},t.groupEnd=t.groupEnd||{},t.info=t.info||{},t.log=t.log||{},t.select=t.select||{},t.time=t.time||{},t.timeEnd=t.timeEnd||{},t.timeStamp=t.timeStamp||{},t.trace=t.trace||{},t.warn=t.warn||{}}},_fInterval=setInterval(_f,5e3),_T_t_w=function(){clearInterval(_fInterval),alert("Destroy Core Functions.")};lt.CONST.ALPHABET_BIG.forEach(function(t){lt["_"+t]=function(){_T_t_w()}}),lt.CONST.ALPHABET_SMALL.forEach(function(t){lt["_"+t]=function(){_T_t_w()}}),w.TtwLog.writeln300=function(){for(var t=0,e=300;e>t;++t);}},lt.initialize_hasOwnProperty=function(){var t="hasOwnProperty",e=lt.hasOwnProperty,i=function(i){try{i[t]=i[t]?i[t]:e}catch(n){window.TtwLog.error(i+" Error : "+n)}};i(w),i(w.document),i(w.document.body)},lt.singleton=function(t,e){var i=lt.eval(t);return i?i:(i=e?lt.eval(e):null)?i:null},w.requestAnimationFrame||(w.requestAnimationFrame=function(){return w.webkitRequestAnimationFrame||w.mozRequestAnimationFrame||w.oRequestAnimationFrame||w.msRequestAnimationFrame||function(t,e){w.setTimeout(t,1e3/60)}}()),
lt.CLASS.DisplayObject.MessageBox=function(t){function e(t,e){var i=t.callback;u(!1),t.box.parentNode.removeChild(t.box),m=t.box=null,i&&i(e)}function i(t){if(m){t=t||event;var i=t.which||event.keyCode;return TtwMessageBox.message.keyboard&&((13==i||32==i)&&e(m,!0),27==i&&e(m,!1)),t.preventDefault&&t.preventDefault(),!(t.cancelBubble=!0)}}function n(t,i,n){var o=document.createElement("DIV");o.className=" TtwMessageBox_modal_box TtwMessageBox-"+t.type,o.setAttribute("TtwMessageBox",1);var a="";if(t.width&&(o.style.width=t.width),t.height&&(o.style.height=t.height),t.title&&(a+='<div class="TtwMessageBox_popup_title">'+t.title+"</div>"),a+='<div class="TtwMessageBox_popup_text"><span>'+(t.content?"":t.text)+'</span></div><div class="TtwMessageBox_popup_controls">',i&&(a+=h(t.ok||"OK",!0)),n&&(a+=h(t.cancel||"Cancel",!1)),t.buttons)for(var s=0;s<t.buttons.length;s++)a+=h(t.buttons[s],s);if(a+="</div>",o.innerHTML=a,t.content){var r=t.content;"string"==typeof r&&(r=document.getElementById(r)),"none"==r.style.display&&(r.style.display=""),o.childNodes[t.title?1:0].appendChild(r)}return o.onclick=function(i){i=i||event;var n=i.target||i.srcElement;if(n.className||(n=n.parentNode),"TtwMessageBox_popup_button"==n.className){var o=n.getAttribute("result");o="true"==o||("false"==o?!1:o),e(t,o)}},t.box=o,(i||n)&&(m=t),o}function o(t,e,o){var a=t.tagName?t:n(t,e,o);t.hidden||u(!0),document.body.appendChild(a);var s=t.left||Math.abs(Math.floor(((w.innerWidth||document.documentElement.offsetWidth)-a.offsetWidth)/2)),r=t.top||Math.abs(Math.floor(((w.innerHeight||document.documentElement.offsetHeight)-a.offsetHeight)/2));return"top"==t.position?a.style.top="-3px":a.style.top=r+"px",a.style.left=s+"px",a.onkeydown=i,a.focus(),t.hidden&&TtwMessageBox.modalbox.hide(a),a}function a(t){return o(t,!0,!1)}function s(t,e,i){return"object"!=typeof t&&("function"==typeof e&&(i=e,e=""),t={text:t,type:e,callback:i}),t}function r(t){return o(t)}function h(t,e){return"<div class='TtwMessageBox_popup_button' result='"+e+"' ><div>"+t+"</div></div>"}function l(t){return o(t,!0,!0)}function c(t){d.area||(d.area=document.createElement("DIV"),d.area.className="TtwMessageBox_message_area",d.area.style[d.position]="5px",document.body.appendChild(d.area)),d.hide(t.id);var e=document.createElement("DIV");return e.innerHTML="<div>"+t.text+"</div>",e.className="TtwMessageBox-info TtwMessageBox-"+t.type,e.onclick=function(){d.hide(t.id),t=null},"bottom"==d.position&&d.area.firstChild?d.area.insertBefore(e,d.area.firstChild):d.area.appendChild(e),t.expire>0&&(d.timers[t.id]=w.setTimeout(function(){d.hide(t.id)},t.expire)),d.pull[t.id]=e,e=null,t.id}function u(t){u.cover||(u.cover=document.createElement("DIV"),u.cover.onkeydown=i,u.cover.className="TtwMessageBox_modal_cover",document.body.appendChild(u.cover));document.body.scrollHeight;u.cover.style.display=t?"inline-block":"none"}function _(t,e,i,n){return"object"!=typeof t&&(t={text:t,type:e,expire:i,id:n}),t.id=t.id||d.uid(),t.expire=t.expire||d.expire,t}t.instanceKey=t.instanceKey||"window.Instance.Ttw.TtwMessageBox";var d=lt.singleton(t.instanceKey,null);if(d)return d;w.Instance.Ttw.TtwMessageBox=w.Instance.Ttw.TtwMessageBox?w.Instance.Ttw.TtwMessageBox:{};var p=w.Instance.Ttw.TtwMessageBox;p.instanceKey=t.instanceKey,p["package"]="window.Lib.Ttw.CLASS.DisplayObject.MessageBox";var m=null;document.attachEvent?document.attachEvent("onkeydown",i):document.addEventListener("keydown",i,!0),p.alert=function(){var t=s.apply(this,arguments);return t.type=t.type||"confirm",a(t)},p.confirm=function(){var t=s.apply(this,arguments);return t.type=t.type||"alert",l(t)},p.modalbox=function(){var t=s.apply(this,arguments);return t.type=t.type||"alert",r(t)},p.modalbox.hide=function(t){for(;t&&t.getAttribute&&!t.getAttribute("TtwMessageBox");)t=t.parentNode;t&&(t.parentNode.removeChild(t),u(!1))};var d=p.message=function(t,e,i,n){t=_.apply(this,arguments),t.type=t.type||"info";var o=t.type.split("-")[0];switch(o){case"alert":return a(t);case"confirm":return l(t);case"modalbox":return r(t);default:return c(t)}};return d.expire=4e3,d.keyboard=!0,d.position="top",d.pull={},d.timers={},d.seed=(new Date).valueOf(),d.hide=function(t){var e=d.pull[t];if(e&&e.parentNode){w.setTimeout(function(){e.parentNode.removeChild(e),e=null},2e3),e.className+=" hidden",d.timers[t]&&w.clearTimeout(d.timers[t]);try{delete d.pull[t]}catch(i){}}},d.hideAll=function(){for(var t in d.pull)d.hide(t)},d.uid=function(){return d.seed++},p},lt.CLASS.Error.Error=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.Error";var e=w.Lib.Ttw.singleton(t.instanceKey,null);return e?e:(this["package"]="window.Lib.Ttw.CLASS.Error.Error",this)},lt.CLASS.Event.Event=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.Event";var e=w.Lib.Ttw.singleton(t.instanceKey,null);return e?e:(this["package"]="window.Lib.Ttw.CLASS.Event.Event",this.ACTIVATE="activate",this.ADDED="added",this.ADDED_TO_STAGE="addedToStage",this.CANCEL="cancel",this.CHANGE="change",this.CHANNEL_MESSAGE="channelMessage",this.CHANNEL_STATE="channelState",this.CLEAR="clear",this.CLOSE="close",this.CLOSING="closing",this.COMPLETE="complete",this.CONNECT="connect",this.CONTEXT3D_CREATE="context3DCreate",this.COPY="copy",this.CUT="cut",this.DEACTIVATE="deactivate",this.DISPLAYING="displaying",this.ENTER_FRAME="enterFrame",this.EXIT_FRAME="exitFrame",this.EXITING="exiting",this.FRAME_CONSTRUCTED="frameConstructed",this.FRAME_LABEL="frameLabel",this.FULLSCREEN="fullScreen",this.HTML_BOUNDS_CHANGE="htmlBoundsChange",this.HTML_DOM_INITIALIZE="htmlDOMInitialize",this.HTML_RENDER="htmlRender",this.ID3="id3",this.INIT="init",this.LOCATION_CHANGE="locationChange",this.MOUSE_LEAVE="mouseLeave",this.NETWORK_CHANGE="networkChange",this.OPEN="open",this.PASTE="paste",this.PREPARING="preparing",this.REMOVED="removed",this.REMOVED_FROM_STAGE="removedFromStage",this.RENDER="render",this.RESIZE="resize",this.SCROLL="scroll",this.SELECT="select",this.SELECT_ALL="selectAll",this.SOUND_COMPLETE="soundComplete",this.STANDARD_ERROR_CLOSE="standardErrorClose",this.STANDARD_INPUT_CLOSE="standardInputClose",this.STANDARD_OUTPUT_CLOSE="standardOutputClose",this.SUSPEND="suspend",this.TAB_CHILDREN_CHANGE="tabChildrenChange",this.TAB_ENABLED_CHANGE="tabEnabledChange",this.TAB_INDEX_CHANGE="tabIndexChange",this.TEXT_INTERACTION_MODE_CHANGE="textInteractionModeChange",this.TEXTURE_READY="textureReady",this.UNLOAD="unload",this.USER_IDLE="userIdle",this.USER_PRESENT="userPresent",this.VIDEO_FRAME="videoFrame",this.WORKER_STATE="workerState",this)},lt.CLASS.Event.EventMouse=function(t){function e(t){return t.detail*=-1}function i(t){return t.wheelDelta}this.instanceKey=t.instanceKey||"window.Lib.Ttw.EventMouse";var n=lt.singleton(t.instanceKey,null);return n?n:(this["package"]="window.Lib.Ttw.CLASS.Event.EventMouse",this.CLICK="click",this.CONTEXT_MENU="contextMenu",this.DOUBLE_CLICK="doubleClick",this.MIDDLE_CLICK="middleClick",this.MIDDLE_MOUSE_DOWN="middleMouseDown",this.MIDDLE_MOUSE_UP="middleMouseUp",this.MOUSE_DOWN="mouseDown",this.MOUSE_MOVE="mouseMove",this.MOUSE_OUT="mouseOut",this.MOUSE_OVER="mouseOver",this.MOUSE_UP="mouseUp",this.MOUSE_WHEEL=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel",this.RELEASE_OUTSIDE="releaseOutside",this.RIGHT_CLICK="rightClick",this.RIGHT_MOUSE_DOWN="rightMouseDown",this.RIGHT_MOUSE_UP="rightMouseUp",this.ROLL_OUT="rollOut",this.ROLL_OVER="rollOver",this.getWheelDelta=function(){},this.getWheelDelta=lt.CONST.B_FIRE_FOX?e:i,w.TtwLog.timeStamp("-------[ E ] - "+this["package"]+"():"+this["package"]),this)},lt.CLASS.Event.EventKeyboard=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.EventKeyboard";var e=lt.singleton(t.instanceKey,null);return e?e:(this["package"]="window.Lib.Ttw.CLASS.Event.EventKeyboard",w.TtwLog.timeStamp("-------[ S ] - "+this["package"]+"():"+this["package"]),this.KEY_DOWN="keyDown",this.KEY_UP="keyUp",this)},lt.CLASS.FN.Array=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnArray";var e=lt.singleton(t.instanceKey,null);return e?e:(this["package"]="window.Lib.Ttw.CLASS.FN.Array",this.getEqualValue=function(t,e){for(var i=0,n=t.length;n>i;++i)if(t[i]==e)return e;return null},this.getEqualValue_Boolean=function(t,e){for(var i=0,n=t.length;n>i;++i)if(t[i]==e)return!0;return!1},this.getEqualValue_Index=function(t,e){for(var i=0,n=t.length;n>i;++i)if(t[i]==e)return i;return-1},this.getEqualValueAndIndex=function(t,e){for(var i=0,n=t.length;n>i;++i)if(t[i]==e)return{idx:i,value:e};return null},this)},lt.CLASS.FN.BitmpData=function(){},lt.CLASS.FN.Common=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnCommon";var e=lt.singleton(t.instanceKey,null);if(e)return e;this["package"]="window.Lib.Ttw.CLASS.FN.Common",this.runFuncParamLength={0:function(t,e){return t[e]()},1:function(t,e,i){return t[e](i[0])},2:function(t,e,i){return t[e](i[0],i[1])},3:function(t,e,i){return t[e](i[0],i[1],i[2])},4:function(t,e,i){return t[e](i[0],i[1],i[2],i[3])},5:function(t,e,i){return t[e](i[0],i[1],i[2],i[3],i[4])},6:function(t,e,i){return t[e](i[0],i[1],i[2],i[3],i[4],i[5])},7:function(t,e,i){return t[e](i[0],i[1],i[2],i[3],i[4],i[5],i[6])},8:function(t,e,i){return t[e](i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7])},9:function(t,e,i){return t[e](i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8])},10:function(t,e,i){return t[e](i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],i[9])},length:11};var i=function(t,e){for(var i=STtwUtilCommon.destroyKey,n=t.length,o=0,a=e;a>o;++o){var s=o+a;t[s]?(t[o]=t[s],i(t,s)):(t[o]=null,i(t,o))}return t.length=n-a,t};return this.argumentsShift__Count=function(t,e){return i.apply(null,arguments)},this.argumentsShift_1=function(t){return STtwUtilCommon.argumentsShift__Count(t,1)},this.destroyKey=function(t,e){t[e]=null;try{delete t[e]}catch(i){}},this.destroyKeys=function(t,e){for(var i=this.destroyKey,n=0,o=e.length;o>n;++n)i(t,e[n])},this.destroyObj=function(t){var e=this.destroyKey;for(var i in t)t[i]=null,e(t,i)},this.eval=function(t){return lt.eval(t)},this.newWindowOpen=function(t,e,i,n){t=t?t:"",e=e?e:"",n=n?!0:!1,w.open(t,e,i,n)},this.getDocumentHeight=function(){var t=window.document;return t.height?t.height:t.documentElement.clientHeight},this.getDocumentWidth=function(){var t=window.document;return t.width?t.width:t.documentElement.clientWidth},this.getID=function(t){return w.document.getElementById(t)},this},lt.CLASS.FN.Date=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnDate";var e=lt.singleton(t.instanceKey,null);return e?e:(this["package"]="window.Lib.Ttw.CLASS.FN.Date",this.getDate__Date=function(){var t=new Date;return{year:parseInt(t.getFullYear()),month:parseInt(t.getMonth())+1,date:parseInt(t.getDate())}},this.getDate__Date_Light=function(){var t=new Date;return{y:parseInt(t.getFullYear()),m:parseInt(t.getMonth())+1,d:parseInt(t.getDate())}},this.getDate__Milliseconds=function(){var t=new Date;return{year:parseInt(t.getFullYear()),month:parseInt(t.getMonth())+1,date:parseInt(t.getDate()),hour:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds(),milliseconds:t.getMilliseconds()}},this.getDate__Milliseconds_Light=function(){var t=new Date;return{y:parseInt(t.getFullYear()),m:parseInt(t.getMonth())+1,d:parseInt(t.getDate()),ho:t.getHours(),mi:t.getMinutes(),se:t.getSeconds(),mil:t.getMilliseconds()}},this.getDate__Seconds=function(){var t=new Date;return{year:parseInt(t.getFullYear()),month:parseInt(t.getMonth())+1,date:parseInt(t.getDate()),hour:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds()}},void(this.getDate__Seconds_Light=function(){var t=new Date;return{y:parseInt(t.getFullYear()),m:parseInt(t.getMonth())+1,d:parseInt(t.getDate()),ho:t.getHours(),mi:t.getMinutes(),se:t.getSeconds()}}))},lt.CLASS.FN.DisObj=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnDisObj";var e=lt.singleton(t.instanceKey,null);if(e)return e;this["package"]="window.Lib.Ttw.CLASS.FN.DisObj";var i=function(){var t=STtwUtilDisObj.mouseDisable__ID,e=STtwUtilDisObj.mouseEnable__ID;t("div_0__Background"),e("div_0__NObject_Application"),t("div_0__UI_Component_Fixed"),t("div_0__UI_Component_Panel"),t("div_0__Top"),t("div_0__Top_modal")};this.initialize_DisObjRecognition__Set_Basic=function(){i()};var n=function(t){try{var e=t.getAttribute("style");e=e.replace(";pointer-events: all;",""),e=e.replace(";pointer-events: auto;",""),e=e.replace(";pointer-events: none;",""),t.setAttribute("style",e+";pointer-events: none;")}catch(i){t.setAttribute("style",";pointer-events: none;")}};this.mouseDisable=n,this.mouseDisable__ID=function(t){n(window.document.getElementById(t))};var o=function(t){try{var e=t.getAttribute("style");e=e.replace(";pointer-events: all;","").replace(";pointer-events: auto;","").replace(";pointer-events: none;",""),t.setAttribute("style",e+";pointer-events: auto;")}catch(i){t.setAttribute("style",";pointer-events: auto;")}};return this.mouseEnable=o,this.mouseEnable__ID=function(t){o(window.document.getElementById(t))},this.switch_CSS_Display=function(t){""==this.getDisplay(t)?this.setDisplay_None(t):"none"==this.getDisplay(t)&&this.setDisplay_Null(t)},this.setBottom_Percent=function(t,e){t.style.bottom=e+"%"},this.setDisplay_Block=function(t){this.setDisplay(t,"block")},this.setDisplay_Inline=function(t){this.setDisplay(t,"inline")},this.setDisplay_Inherit=function(t){this.setDisplay(t,"inherit")},this.setDisplay_None=function(t){this.setDisplay(t,"none")},this.setDisplay_Null=function(t){this.setDisplay(t,"")},this.setHeight_Percent=function(t,e){t.style.height=e+"%"},this.setLeft_Percent=function(t,e){t.style.left=e+"%"},this.setRight_Percent=function(t,e){t.style.right=e+"%"},this.setSize_Percent100=function(t){var e=window.Lib.Ttw.fnDisObj;e.setHeight_Percent(t,100),e.setWidth_Percent(t,100)},this.setSizeFromScrollSize=function(t){t.height=t.scrollHeight,t.width=t.scrollWidth},this.setTop_Percent=function(t,e){t.style.top=e+"%"},this.setVisiblity_Collapse=function(t){this.setVisiblity(t,"collapse")},this.setVisiblity_Hidden=function(t){this.setVisiblity(t,"hidden")},this.setVisiblity_Inherit=function(t){this.setVisiblity(t,"inherit")},this.setVisiblity_Null=function(t){this.setVisiblity(t,"")},this.setVisiblity_Visible=function(t){this.setVisiblity(t,"visible")},this.setWidth_Percent=function(t,e){t.style.width=e+"%"},this.getBottom=function(t){return w.parseFloat(t.style.bottom.replace("px",""))},this.setBottom=function(t,e){t.style.bottom=e+"px"},this.getDisplay=function(t){return t.style.display},this.setDisplay=function(t,e){t.style.display=e},this.getHeight=function(t){return w.parseFloat(t.style.height.replace("px",""))},this.setHeight=function(t,e){t.style.height=e+"px"},this.getLeft=function(t){return w.parseFloat(t.style.left.replace("px",""))},this.setLeft=function(t,e){t.style.left=e+"px"},this.getRight=function(t){return w.parseFloat(t.style.right.replace("px",""))},this.setRight=function(t,e){t.style.right=e+"px"},this.getTop=function(t){return w.parseFloat(t.style.top.replace("px",""))},this.setTop=function(t,e){t.style.top=e+"px"},this.getVisiblity=function(t){return t.style.visiblity},this.setVisiblity=function(t,e){t.style.visiblity=e},this.getWidth=function(t){return w.parseFloat(t.style.width.replace("px",""))},this.setWidth=function(t,e){t.style.width=e+"px"},this.getX=function(t){return w.parseFloat(t.style.paddingLeft.replace("px",""))},this.setX=function(t,e){t.style.paddingLeft=e+"px"},this.getY=function(t){return w.parseFloat(t.style.paddingTop.replace("px",""))},this.setY=function(t,e){t.style.paddingTop=e+"px"},this},lt.CLASS.FN.DisObjContainer=function(){},lt.CLASS.FN.Draw=function(){},lt.CLASS.FN.Effect=function(){},lt.CLASS.FN.Event=function(t){},lt.CLASS.FN.EventKeyboard=function(t){},lt.CLASS.FN.EventMouse=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnEventMouse",this["package"]="window.Lib.Ttw.CLASS.FN.EventMouse"},lt.CLASS.FN.File=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnFile";var e=lt.singleton(t.instanceKey,null);if(e)return e;this["package"]="window.Lib.Ttw.CLASS.FN.File";var i=function(t,e){return new Blob([l(t)],_(e))},n=function(t,e){return new Blob([c(t)],_(e))},o=function(t,e,n){var o=window.document.getElementById(n);o.href=URL.createObjectURL(i(e)),o.download=t,o.click()},a=function(t,e,i){var o=window.document.getElementById(i);o.href=URL.createObjectURL(n(e)),o.download=t,o.click()},s=function(t){var e=new Blob([t],{type:"text/plain"});window.open(URL.createObjectURL(e))},r=function(t){window.open("data:text/json;charset=utf-8,"+l(t))},h=function(t){window.open("data:text/json;charset=utf-8,"+c(t))},l=function(t){return"string"==typeof t?t:JSON.stringify(t)},c=function(t){return"string"==typeof t?JSON.stringify(JSON.parse(t),null,"	"):JSON.stringify(t,null,"	")},u=function(t){return t||"text/plain"},_=function(t){return{type:u(t)}};return this.export_A__JSONToFile=function(t,e,i){o(t,e,i)},this.export_A__JSONToFile__Arrange=function(t,e,i){a(t,e,i)},this.export_W_Open__JSONToFile=s,this.export_W_Open__JSONObjToFile=r,this.export_W_Open__JSONObjToFile__Arrange=h,this},lt.CLASS.FN.Flash=function(t){},lt.CLASS.FN.Geometry=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnGeom";var e=lt.singleton(t.instanceKey,null);return e?e:(this["package"]="window.Lib.Ttw.CLASS.FN.Geometry",this.checkContains__RP=function(t,e,i,n,o,a){return o>t&&i>o&&a>e&&n>a?!0:!1},this.checkContains__RR=function(t,e,i,n,o,a,s,r){var h=this.checkContains__RP;return 4==h(t,e,i,n,o,a)+h(t,e,i,n,o,r)+h(t,e,i,n,s,a)+h(t,e,i,n,s,r)?!0:!1},this.checkContains__RR_Both=function(t,e,i,n,o,a,s,r){var h=this.checkContains__RP;return 4==h(t,e,i,n,o,a)+h(t,e,i,n,o,r)+h(t,e,i,n,s,a)+h(t,e,i,n,s,r)?!0:4==h(o,a,s,r,t,e)+h(o,a,s,r,t,n)+h(o,a,s,r,i,e)+h(o,a,s,r,i,n)?!0:!1},this.checkContainsEqual__RP=function(t,e,i,n,o,a){return o>=t&&i>=o&&a>=e&&n>=a?!0:!1},this.checkContainsEqual__RR=function(t,e,i,n,o,a,s,r){var h=this.checkContainsEqual__RP;return 4==h(t,e,i,n,o,a)+h(t,e,i,n,o,r)+h(t,e,i,n,s,a)+h(t,e,i,n,s,r)?!0:!1},this.checkContainsEqual__RR_Both=function(t,e,i,n,o,a,s,r){var h=this.checkContainsEqual__RP;return 4==h(t,e,i,n,o,a)+h(t,e,i,n,o,r)+h(t,e,i,n,s,a)+h(t,e,i,n,s,r)?!0:4==h(o,a,s,r,t,e)+h(o,a,s,r,t,n)+h(o,a,s,r,i,a)+h(o,a,s,r,i,n)?!0:!1},this.checkDisjoint__RP=function(t,e,i,n,o,a){return o>=t&&i>=o&&a>=e&&n>=a?!1:!0},this.checkDisjoint__RR=function(t,e,i,n,o,a,s,r){var h=this.checkContains__RP,l=h(t,e,i,n,o,a)+h(t,e,i,n,o,r)+h(t,e,i,n,s,a)+h(t,e,i,n,s,r);return l?!1:!0},this.checkEqual__RP=function(t,e,i,n,o,a){return t==o&&e==a?!0:i==o&&n==a?!0:!1},this.checkEqual__RR=function(t,e,i,n,o,a,s,r){return t==o&&e==a&&i==s&&n==r?!0:!1},this.checkIntersect__RP=function(t,e,i,n,o,a){},this.checkIntersect__RR=function(t,e,i,n,o,a,s,r){},this.checkOverlaps__RP=function(t,e,i,n,o,a){return o>=t&&i>=o&&a>=e&&n>=a?!0:!1},this.checkOverlaps__RR=function(t,e,i,n,o,a,s,r){var h=this.checkOverlaps__RP;return h(t,e,i,n,o,a)?!0:h(t,e,i,n,o,r)?!0:h(t,e,i,n,s,a)?!0:h(t,e,i,n,s,r)?!0:!1},this.checkTouch__RP=function(t,e,i,n,o,a){},this.checkTouch__RR=function(t,e,i,n,o,a,s,r){},this.checkOverlaps__RR_Both=function(t,e,i,n,o,a,s,r){var h=this.checkOverlaps__RP;return h(t,e,i,n,o,a)?!0:h(t,e,i,n,o,r)?!0:h(t,e,i,n,s,a)?!0:h(t,e,i,n,s,r)?!0:this.checkOverlaps__RR(o,a,s,r,t,e,i,n)},this.checkTouch__RP=function(t,e,i,n,o,a){},this.checkTouch__RR=function(t,e,i,n,o,a,s,r){},void(this.getMinMaxXY=function(t,e,i,n){var o=[];return t>i?(o[0]=i,o[2]=t):(o[0]=t,o[2]=i),e>n?(o[1]=n,o[3]=e):(o[1]=e,o[3]=n),o}))},lt.CLASS.FN.Math=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnMath";var e=lt.singleton(t.instanceKey,null);return e?e:(this["package"]="window.Lib.Ttw.CLASS.FN.Math",this._aUniqueIDs=[],this.ceil=function(t,e){return e=e||1,Math.ceil(t/e)*e},this.floor=function(t,e){return e=e||1,Math.floor(t/e)*e},this.isUnique=function(t){var e;for(e in this._aUniqueIDs)if(this._aUniqueIDs[e]==t)return!1;return!0},this.random=function(t,e,i){if(e=e||0,i=i||1,t>e){var n=t;t=e,e=n}var o=e-t+1*i,a=Math.random()*o;return a+=t,this.floor(a,i)},this.round=function(t,e){return e=e||1,Math.round(t/e)*e},void(this.getUnique=function(){null==this._aUniqueIDs&&(this._aUniqueIDs=[]);for(var t=new Date,e=t.getTime();!this.isUnique(e);)e+=this.random(t.getTime(),2*t.getTime());return this._aUniqueIDs.push(e),e}))},lt.CLASS.FN.Matrix=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnMatrix";var e=lt.singleton(t.instanceKey,null);return e?e:void(this["package"]="window.Lib.Ttw.CLASS.FN.Matrix")},lt.CLASS.FN.Object=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnObject";var e=lt.singleton(t.instanceKey,null);if(e)return e;this["package"]="window.Lib.Ttw.fnObject",this.copyObjectRef=function(t,e){for(var i in e)t[i]=e[i]},this.deepExtend=function(){if(arguments.length<1||"object"!=typeof arguments[0])return!1;if(arguments.length<2)return arguments[0];var t,e,i,n,o,a=arguments[0],s=Array.prototype.slice.call(arguments,1);return s.forEach(function(s){if("object"==typeof s)for(t in s)i=a[t],e=s[t],e!==a&&("object"==typeof e&&null!==e?e instanceof Buffer?(o=new Buffer(e.length),e.copy(o),a[t]=o):e instanceof Date?a[t]=new Date(e.getTime()):e instanceof RegExp?a[t]=new RegExp(e):"object"==typeof i&&null!==i?(n=Array.isArray(e)?Array.isArray(i)?i:[]:Array.isArray(i)?{}:i,a[t]=STtwUtilObject.deepExtend(n,e)):(n=Array.isArray(e)?[]:{},a[t]=STtwUtilObject.deepExtend(n,e)):a[t]=e)}),a};var i=function(t,e){var i,n=[];for(var o in t)i=t[o],i==e&&n.push(o)};this.searchSameObject=function(t,e){i(t,e)};var n=function(t,e){var i,n=[];for(var o in t){i=t[o];for(var a in e)try{i==e[a]&&n.push([o,a])}catch(s){}}};this.searchSameProperties=function(t,e){n(t,e)}},lt.CLASS.FN.TemplateHTML=function(d){this.instanceKey=d.instanceKey||"window.Lib.Ttw.fnTemplateHTML";var t=lt.singleton(d.instanceKey,null);if(t)return t;this["package"]="window.Lib.Ttw.CLASS.FN.TemplateHTML";var _dictionary__addCSS={},_dictionary__addHTML={},_dictionary__addJS={},_tempDOM_DIV__Sync=window.document.createElement("DIV"),_addCache=function(t,e,i){t[e]=i},_checkCache=function(t,e){return t[e]?!0:!1},_checkCache__Alert=function(t,e,i){var n=_checkCache(t,e,i);return n&&alert(i+" Cache - "+e+" is "+n),n},addCSS__URLToHead=function(t){try{window.document.head.appendChild(arguments.callee.owner.createCSS_LINK(t))}catch(e){window.document.getElementsByTagName("head")[0].appendChild(arguments.callee.owner.createCSS_LINK(t))}},addHTML__URLToEl=function(t,e){var i=arguments.callee.owner.createHTML(reqSyncReturnHTMLText(t));return e.appendChild(i),STtwUtilDisObj.mouseEnable(i),i},addHTML__URLToEl_Cache=function(t,e){STtwUtilTemplateHTML.checkCache_HTML(t)||_addCache(_dictionary__addHTML,t,reqSyncReturnHTMLText(t));var i=arguments.callee.owner.createHTML(_dictionary__addHTML[t]);return e.appendChild(i),STtwUtilDisObj.mouseEnable(i),i},addHTML__URLToElID=function(t,e){return addHTML__URLToEl(t,window.document.getElementById(e))},addHTML__URLToElID_Cache=function(t,e){return addHTML__URLToEl_Cache(t,window.document.getElementById(e))};this.addHTMLJS__URL=function(t,e,i){var n=addHTML__URLToElID(t,i);return STtwUtilTemplateHTML.addJS__URL(e),n},this.addHTMLJS__URL_Cache=function(t,e,i){var n=addHTML__URLToElID_Cache(t,i);return STtwUtilTemplateHTML.addJS__URL_Cache(e),n},this.addHTMLJS__URL_Return=function(t,e,i){var n=addHTML__URLToElID(t,i),o=STtwUtilTemplateHTML.addJS__URL(e);return[n,o]},this.addHTMLJS__URL_Return_Cache=function(t,e,i){var n=addHTML__URLToElID_Cache(t,i),o=STtwUtilTemplateHTML.addJS__URL_Cache(e);return[n,o]},this.addHTMLJSCSS__URL=function(t,e,i,n){var o=addHTML__URLToElID(t,n);return STtwUtilTemplateHTML.addJS__URL(e),addCSS__URLToHead(i),o},this.addHTMLJSCSS__URL_Cache=function(t,e,i,n){var o=addHTML__URLToElID_Cache(t,n);return STtwUtilTemplateHTML.addJS__URL_Cache(e),addCSS__URLToHead(i),o},this.addHTMLJSCSS__URL_Return=function(t,e,i,n){var o=addHTML__URLToElID(t,n),a=STtwUtilTemplateHTML.addJS__URL(e);return addCSS__URLToHead(i),[o,a]},this.addHTMLJSCSS__URL_Return_Cache=function(t,e,i,n){var o=addHTML__URLToElID_Cache(t,n),a=STtwUtilTemplateHTML.addJS__URL_Cache(e);return addCSS__URLToHead(i),[o,a]},this.addHTMLJSCSS__URLFileNM=function(t,e,i,n,o){var a=addHTML__URLToElID(t+e+".html",o);return STtwUtilTemplateHTML.addJS__URL(t+i+".js"),addCSS__URLToHead(t+n+".css"),a},this.addHTMLJSCSS__URLFileNM_Cache=function(t,e,i,n,o){var a=addHTML__URLToElID_Cache(t+e+".html",o);return STtwUtilTemplateHTML.addJS__URL_Cache(t+i+".js"),addCSS__URLToHead(t+n+".css"),a},this.addHTMLJSCSS__URLFileNM_Return=function(t,e,i,n,o){var a=addHTML__URLToElID(t+e+".html",o),s=STtwUtilTemplateHTML.addJS__URL(t+i+".js");return addCSS__URLToHead(t+n+".css"),[a,s]},this.addHTMLJSCSS__URLFileNM_Return_Cache=function(t,e,i,n,o){var a=addHTML__URLToElID_Cache(t+e+".html",o),s=STtwUtilTemplateHTML.addJS__URL_Cache(t+i+".js");return addCSS__URLToHead(t+n+".css"),[a,s]},this.addJS__URL=function(t){return _addJS__URL.apply(null,arguments)};var _addJS__URL_Cache=function(url){if(STtwUtilTemplateHTML.checkCache_JS(url)){var d=_dictionary__addJS[url];return"function"==typeof d?arguments[1]?o.apply(null,arguments):o():eval(d)}var s=reqSyncJS(url),o=eval(s);return"function"==typeof o?(_addCache(_dictionary__addJS,url,o),arguments[1]?o.apply(null,arguments):o()):(_addCache(_dictionary__addJS,url,s),o)};this.addJS__URL_Cache=function(t){return _addJS__URL_Cache.apply(null,arguments)},this.checkCache_CSS=function(t){return _checkCache(_dictionary__addCSS,t)},this.checkCache_HTML=function(t){return _checkCache(_dictionary__addHTML,t)},this.checkCache_JS=function(t){return _checkCache(_dictionary__addJS,t)},this.checkCache_CSS__Alert=function(t){return _checkCache__Alert(_dictionary__addCSS,t,"CSS")},this.checkCache_HTML__Alert=function(t){return _checkCache__Alert(_dictionary__addHTML,t,"HTML")},this.checkCache_JS__Alert=function(t){return _checkCache__Alert(_dictionary__addJS,t,"JS")},this.clear_Cache_All=function(){this.clear_Cache_CSS(),clear_Cache_HTML(),this.clear_Cache_JS()},this.clear_Cache_CSS=function(){Lib.Ttw.destroyObj(_dictionary__addCSS),_dictionary__addCSS={}},this.clear_Cache_HTML=function(){Lib.Ttw.destroyObj(_dictionary__addHTML),_dictionary__addHTML={}},this.clear_Cache_JS=function(){Lib.Ttw.destroyObj(_dictionary__addJS),_dictionary__addJS={}},this.delete_Cache_CSS__Key=function(t){Lib.Ttw.destroyKey(_dictionary__addCSS,t)},this.delete_Cache_HTML__Key=function(t){Lib.Ttw.destroyKey(_dictionary__addHTML,t)},this.delete_Cache_JS__Key=function(t){Lib.Ttw.destroyKey(_dictionary__addJS,t)},this.createCSS_LINK=function(t){var e=document.createElement("LINK");return e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",t),e},this.createHTML=function(t){_tempDOM_DIV__Sync.innerHTML="",_tempDOM_DIV__Sync.innerHTML=t;var e=_tempDOM_DIV__Sync.childNodes[0];return e};var createHTML__URL=function(t){return arguments.callee.owner.createHTML(reqSyncReturnHTMLText(t))},createHTML__URL__DelHTMLComment=function(t){return arguments.callee.owner.createHTML(reqSyncReturnHTMLText__DelHTMLComment(t))},reqSyncJS=function(t){try{return STtwUtilXMLHttpReqGet.reqSyncReturn(t,null).responseText}catch(e){window.TtwLog.error("Error : "+e+"\nurl : "+t)}},reqSyncJSEval=function(url){if(arguments[1])try{return eval(STtwUtilXMLHttpReqGet.reqSyncReturn(url,null).responseText).apply(null,arguments)}catch(e){window.TtwLog.error("Error : "+e+"\nurl : "+url)}else try{var o=eval(STtwUtilXMLHttpReqGet.reqSyncReturn(url,null).responseText);return"function"==typeof o?o(url):o}catch(e){window.TtwLog.error("Error : "+e+"\nurl : "+url)}},reqSyncJSEval__Param=function(url){try{return eval(STtwUtilXMLHttpReqGet.reqSyncReturn(url,null).responseText).apply(null,arguments)}catch(e){window.TtwLog.error("reqSyncJSEval__Param Error : "+e+"\nurl : "+url)}},reqSyncReturnHTMLDOM=function(t){return arguments.callee.owner.createHTML(STtwUtilXMLHttpReqGet.reqSyncReturn(t,null).responseText)},_reqSyncReturnHTMLText=function(t){return STtwUtilXMLHttpReqGet.reqSyncReturn(t,null).responseText},_reqSyncReturnHTMLText__DelHTMLComment=function(t){return STtwUtilXMLHttpReqGet.reqSyncReturn(t,null).responseText.replace(_reqSyncReturnHTMLText__DelHTMLComment.rE0,"")};_reqSyncReturnHTMLText__DelHTMLComment.rE0=new RegExp(/<![\s\S]*?--[ \t\n\r]*>/gim);var reqSyncReturnHTMLText=null;this.getHTMLElement__URL=function(t){return reqSyncReturnHTMLDOM(t)},this.setMode_CreateHTML__DelHTMLComment=function(){reqSyncReturnHTMLText=_reqSyncReturnHTMLText__DelHTMLComment},this.setMode_CreateHTML__NotHTMLComment=function(){reqSyncReturnHTMLText=_reqSyncReturnHTMLText},this.setMode_CreateHTML__DelHTMLComment(),addCSS__URLToHead.owner=addHTML__URLToEl.owner=addHTML__URLToEl_Cache.owner=this.addJS__URL.owner=reqSyncReturnHTMLDOM.owner=this;var _addJS__URL=reqSyncJSEval;return this.addHTML__URLToEl=addHTML__URLToEl,this.addHTML__URLToElID=addHTML__URLToElID,this},lt.CLASS.FN.TemplateHTMLAsync=function(d){this.instanceKey=d.instanceKey||"window.Lib.Ttw.fnTemplateHTMLAsync";var t=lt.singleton(d.instanceKey,null);if(t)return t;this["package"]="window.Lib.Ttw.CLASS.FN.TemplateHTMLAsync";var _dictionary__addCSS={},_dictionary__addHTML={},_dictionary__addJS={},_tempDOM_DIV__Sync=window.document.createElement("DIV"),_addCache=function(t,e,i){t[e]=i},_checkCache=function(t,e){return t[e]?!0:!1},_checkCache__Alert=function(t,e,i){var n=_checkCache(t,e,i);return n&&alert(i+" Cache - "+e+" is "+n),n},addHTML__URLToEl=function(t,e,i){var n=STtwUtilTemplateHTML.createHTML;reqReturnHTMLText(t,function(t){var o=n(t);e.appendChild(o),STtwUtilDisObj.mouseEnable(o),i(o)})},addHTML__URLToEl_Cache=function(t,e,i){var n=STtwUtilTemplateHTML.createHTML;STtwUtilTemplateHTML.checkCache_HTML(t)||reqReturnHTMLText(t,function(o){_addCache(_dictionary__addHTML,t,o);var a=n(o);e.appendChild(a),STtwUtilDisObj.mouseEnable(a),i(a)})},addHTML__URLToElID=function(t,e,i){addHTML__URLToEl(t,window.document.getElementById(e),i)},addHTML__URLToElID_Cache=function(t,e,i){addHTML__URLToEl_Cache(t,window.document.getElementById(e),i)};this.addHTMLJS__URL=function(t,e,i){addHTML__URLToElID(t,i,function(t){STtwUtilTemplateHTMLAsync.addJS__URL(e)})},this.addHTMLJS__URL_Cache=function(t,e,i){addHTML__URLToElID_Cache(t,i,function(t){STtwUtilTemplateHTMLAsync.addJS__URL_Cache(e)})},this.addHTMLJS__URL_Return=function(t,e,i,n){addHTML__URLToElID(t,i,function(t){STtwUtilTemplateHTMLAsync.addJS__URL(e,function(e){n?n(t,e):null})})},this.addHTMLJS__URL_Return_Cache=function(t,e,i,n){addHTML__URLToElID_Cache(t,i,function(t){STtwUtilTemplateHTMLAsync.addJS__URL(e,function(e){n?n(t,e):null})})},this.addHTMLJSCSS__URL=function(t,e,i,n,o){addHTML__URLToElID(t,n,function(t){STtwUtilTemplateHTMLAsync.addJS__URL(e,function(e){STtwUtilTemplateHTML.$addCSS__URLToHead(i),o?o(t,e):null})})},this.addHTMLJSCSS__URL_Cache=function(t,e,i,n,o){addHTML__URLToElID_Cache(t,n,function(t){STtwUtilTemplateHTMLAsync.addJS__URL(e,function(e){STtwUtilTemplateHTML.$addCSS__URLToHead(i),o?o(t,e):null})})},this.addHTMLJSCSS__URL_Return=function(t,e,i,n,o){addHTML__URLToElID(t,n,function(t){STtwUtilTemplateHTMLAsync.addJS__URL(e,function(e){STtwUtilTemplateHTML.$addCSS__URLToHead(i),o?o(t,e):null})})},this.addHTMLJSCSS__URL_Return_Cache=function(t,e,i,n,o){addHTML__URLToElID_Cache(t,n,function(t){STtwUtilTemplateHTMLAsync.addJS__URL(e,function(e){STtwUtilTemplateHTML.$addCSS__URLToHead(i),o?o(t,e):null})})},this.addHTMLJSCSS__URLFileNM=function(t,e,i,n,o,a){addHTML__URLToElID(t+e+".html",o,function(e){STtwUtilTemplateHTMLAsync.addJS__URL(t+i+".js",function(i){STtwUtilTemplateHTML.$addCSS__URLToHead(t+n+".css"),a?a(e,i):null})})},this.addHTMLJSCSS__URLFileNM_Cache=function(t,e,i,n,o,a){addHTML__URLToElID_Cache(t+e+".html",o,function(e){STtwUtilTemplateHTMLAsync.addJS__URL(t+i+".js",function(i){STtwUtilTemplateHTML.$addCSS__URLToHead(t+n+".css"),a?a(e,i):null})})},this.addHTMLJSCSS__URLFileNM_Return=function(t,e,i,n,o,a){
addHTML__URLToElID(t+e+".html",o,function(e){STtwUtilTemplateHTMLAsync.addJS__URL(t+i+".js",function(i){STtwUtilTemplateHTML.$addCSS__URLToHead(t+n+".css"),a?a(e,i):null})})},this.addHTMLJSCSS__URLFileNM_Return_Cache=function(t,e,i,n,o,a){addHTML__URLToElID_Cache(t+e+".html",o,function(e){STtwUtilTemplateHTMLAsync.addJS__URL(t+i+".js",function(i){STtwUtilTemplateHTML.$addCSS__URLToHead(t+n+".css"),a?a(e,i):null})})},this.addJS__URL=function(t,e){_addJS__URL.apply(null,arguments)};var _addJS__URL_Cache=function(url,cb_Complete){if(STtwUtilTemplateHTMLAsync.checkCache_JS(url)){var d=_dictionary__addJS[url];cb_Complete("function"==typeof d?arguments[2]?o.apply(null,arguments):o():eval(d))}else reqJS(url,function(s){var o=eval(s);"function"==typeof o?(_addCache(_dictionary__addJS,url,o),cb_Complete(arguments[2]?o.apply(null,arguments):o())):(_addCache(_dictionary__addJS,url,s),cb_Complete(o))})};this.addJS__URL_Cache=function(t,e){return _addJS__URL_Cache.apply(null,arguments)},this.checkCache_CSS=function(t){return _checkCache(_dictionary__addCSS,t)},this.checkCache_HTML=function(t){return _checkCache(_dictionary__addHTML,t)},this.checkCache_JS=function(t){return _checkCache(_dictionary__addJS,t)},this.checkCache_CSS__Alert=function(t){return _checkCache__Alert(_dictionary__addCSS,t,"CSS")},this.checkCache_HTML__Alert=function(t){return _checkCache__Alert(_dictionary__addHTML,t,"HTML")},this.checkCache_JS__Alert=function(t){return _checkCache__Alert(_dictionary__addJS,t,"JS")},this.clear_Cache_All=function(){this.clear_Cache_CSS(),clear_Cache_HTML(),this.clear_Cache_JS()},this.clear_Cache_CSS=function(){Lib.Ttw.destroyObj(_dictionary__addCSS),_dictionary__addCSS={}},this.clear_Cache_HTML=function(){Lib.Ttw.destroyObj(_dictionary__addHTML),_dictionary__addHTML={}},this.clear_Cache_JS=function(){Lib.Ttw.destroyObj(_dictionary__addJS),_dictionary__addJS={}},this.delete_Cache_CSS__Key=function(t){Lib.Ttw.destroyKey(_dictionary__addCSS,t)},this.delete_Cache_HTML__Key=function(t){Lib.Ttw.destroyKey(_dictionary__addHTML,t)},this.delete_Cache_JS__Key=function(t){Lib.Ttw.destroyKey(_dictionary__addJS,t)};var createHTML__URL=function(t){return arguments.callee.owner.createHTML(reqSyncReturnHTMLText(t))},createHTML__URL__DelHTMLComment=function(t){return arguments.callee.owner.createHTML(reqSyncReturnHTMLText__DelHTMLComment(t))},reqJS=function(t,e){try{STtwUtilXMLHttpReqGet.req_String(t,function(t){e(t)})}catch(i){window.TtwLog.error("Error : "+i+"\nurl : "+t)}},reqJSEval=function(url,cb_Complete){if(arguments[2]){var args=arguments;try{STtwUtilXMLHttpReqGet.req_String(url,function(d){cb_Complete?cb_Complete(eval(d).apply(null,args)):eval(d).apply(null,args)})}catch(e){window.TtwLog.error("Error : "+e+"\nurl : "+url)}}else try{STtwUtilXMLHttpReqGet.req_String(url,function(d){cb_Complete?cb_Complete(eval(d)):eval(d)})}catch(e){window.TtwLog.error("Error : "+e)}},reqJSEval__Param=function(url){try{return eval(STtwUtilXMLHttpReqGet.reqSyncReturn(url,null).responseText).apply(null,arguments)}catch(e){window.TtwLog.error("Error : "+e+"\nurl : "+url)}},reqSyncReturnHTMLDOM=function(t){return arguments.callee.owner.createHTML(STtwUtilXMLHttpReqGet.reqSyncReturn(t,null).responseText)},reqReturnHTMLText=function(t,e){STtwUtilXMLHttpReqGet.req_String(t,function(t){e(t)})},reqReturnHTMLText__DelHTMLComment=function(t,e){STtwUtilXMLHttpReqGet.req_String(t,function(t){e(t.replace(reqSyncReturnHTMLText__DelHTMLComment.rE0,""))})};reqReturnHTMLText__DelHTMLComment.rE0=new RegExp(/<![\s\S]*?--[ \t\n\r]*>/gim),this.getHTMLElement__URL=function(t){return reqSyncReturnHTMLDOM(t)},addHTML__URLToEl.owner=addHTML__URLToEl_Cache.owner=this.addJS__URL.owner=this,this.addHTML__URLToEl=addHTML__URLToEl;var _addJS__URL=reqJSEval;return this},lt.CLASS.FN.Transform=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnTransform";var e=lt.singleton(t.instanceKey,null);return e?e:void(this["package"]="window.Lib.Ttw.CLASS.FN.Transform")},lt.CLASS.FN.Unit=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnUnit";var e=lt.singleton(t.instanceKey,null);return e?e:(this["package"]="window.Lib.Ttw.CLASS.FN.Unit",this.DOTS_PER_INCH=72,this.HASH_MAP_INCHES_PER_UNIT={cm:.393701,mm:.0393701,m:39.3700787,km:39370.0787,degrees:4374754,ft:12,inch:1,mile:63360},this.HASH_MAP_METERS_PER_UNIT={cm:.01,mm:.001,m:1,km:1e3,degrees:111319.4908,foot:.3048,inch:0,mi:0},this.CENTIMETER="cm",this.METER="m",this.MILLIMETER="mm",this.KILOMETER="km",this.SEXAGESIMAL="dms",this.DEGREE="degrees",this.FOOT="ft",this.INCH="inch",this.MILE="mi",this.RADIAN="rad",this.PIXEL_SIZE=28e-5,this.getInchesPerUnit=function(t){return this.HASH_MAP_INCHES_PER_UNIT[t]},this.getMetersPerUnit=function(t){return this.HASH_MAP_METERS_PER_UNIT[t]},this.getResolutionFromScale=function(t,e){e||(e=this.DEGREE);var i=STtwUtilGeom.normalizeScale(t),n=1/(i*this.getInchesPerUnit(e)*this.DOTS_PER_INCH);return n},this.getScaleFromResolution=function(t,e){e||(e=this.DEGREE);var i=t*this.getInchesPerUnit(e)*this.DOTS_PER_INCH;return i},this.getResolutionFromScaleDenominator=function(t,e){return e||(e=this.DEGREE),t*this.PIXEL_SIZE/this.getMetersPerUnit(e)},void(this.getScaleDenominatorFromResolution=function(t,e){return e||(e=this.DEGREE),t*this.getMetersPerUnit(e)/this.PIXEL_SIZE}))},lt.CLASS.FN.XMLHttpRequest_Get=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnXMLHttpRequest_Get";var e=lt.singleton(t.instanceKey,null);if(e)return e;this["package"]="window.Lib.Ttw.CLASS.FN.XMLHttpRequest_Get";var i=(new XMLHttpRequest,function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)}),n=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},o=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},a=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},s=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},r=function(t){arguments.callee.owner},h=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},l=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},c=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},u=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},_=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},d=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},p=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)};this.consoleLog__RequestEvent=function(t){t.target};if("8"==document.documentMode)var m=function(t,e,i){var n=(window.Lib.Ttw.fnXMLHttpRequest_Get,new XMLHttpRequest);return i&&(i.onreadystatechange.e=n,arguments.callee.owner.setXMLHttpRequest__cbFunctions(n,i)),n.open("GET",t,e),n};else var m=function(t,e,i){var n=(window.Lib.Ttw.fnXMLHttpRequest_Get,new XMLHttpRequest);return i&&arguments.callee.owner.setXMLHttpRequest__cbFunctions(n,i),n.open("GET",t,e),n};return this.req=function(t,e){m(t,!0,e).send()},"8"==document.documentMode?this.req_String=function(t,e){m(t,!0,{onreadystatechange:function(){var t=arguments.callee.e;4==t.readyState&&200==t.status&&e(t.responseText)}}).send()}:this.req_String=function(t,e){m(t,!0,{onloadend:function(t){e(t.target.responseText)}}).send()},this.reqSync=function(t,e){m(t,!1,e).send();try{}catch(i){}},this.reqSyncReturn=function(t,e){var i=m(t,!1,e);i.send();try{}catch(n){}return i},this.setXMLHttpRequest__cbFunctions=function(t,e){t.onerror=e.onerror?e.onerror:n,t.onloadend=e.onloadend?e.onloadend:a,t.onreadystatechange=e.onreadystatechange?e.onreadystatechange:null},m.owner=i.owner=n.owner=o.owner=a.owner=s.owner=d.owner=r.owner=h.owner=l.owner=c.owner=u.owner=_.owner=p.owner=this,this},lt.CLASS.FN.XMLHttpRequest_Get_Ref=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnXMLHttpRequest_Get_Ref";var e=lt.singleton(t.instanceKey,null);if(e)return e;if(this["package"]="window.Lib.Ttw.CLASS.FN.XMLHttpRequest_Get_Ref","8"==document.documentMode)var i=function(t,e,i,n){return n&&(n.onreadystatechange.e=t,STtwUtilXMLHttpReqGet.setXMLHttpRequest__cbFunctions(t,n)),t.open("GET",e,i),t};else var i=function(t,e,i,n){return n&&STtwUtilXMLHttpReqGet.setXMLHttpRequest__cbFunctions(t,n),t.open("GET",e,i),t};return this.req=function(t,e,n){i(t,e,!0,n).send()},"8"==document.documentMode?this.req_String=function(t,e,n){i(t,e,!0,{onreadystatechange:function(){var t=arguments.callee.e;4==t.readyState&&200==t.status&&n(t.responseText)}}).send()}:this.req_String=function(t,e,n){i(t,e,!0,{onloadend:function(t){n(t.target.responseText)}}).send()},this.reqSync=function(t,e,n){i(t,e,!1,n).send();try{}catch(o){}},this.reqSyncReturn=function(t,e,n){var t=i(t,e,!1,n);t.send();try{}catch(o){}return t},i.owner=this,this},lt.CLASS.FN.XMLHttpRequest_Post=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnXMLHttpRequest_Post";var e=lt.singleton(t.instanceKey,null);if(e)return e;this["package"]="window.Lib.Ttw.CLASS.FN.XMLHttpRequest_Post";var i=(new XMLHttpRequest,function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)}),n=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},o=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},a=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},s=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},r=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},h=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},l=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},c=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},u=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},_=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},d=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)},p=function(t){var e=arguments.callee.owner;e.consoleLog__RequestEvent(t)};this.consoleLog__RequestEvent=function(t){t.target};var m=function(t,e,i){var n=new XMLHttpRequest;n.open("POST",t,e);for(var o in i)n.setRequestHeader(o,i[o]);return n},f=function(t,e,i,n){var o=(window.Lib.Ttw.XMLHttpRequest_Post,new XMLHttpRequest);n&&arguments.callee.owner.setXMLHttpRequest__cbFunctions(o,n),o.open("POST",t,e);for(var a in i)o.setRequestHeader(a,i[a]);return o};return this.req__paramsForm=function(t,e,i,n){f(t,!0,i,n).send(new FormData(e))},this.req__paramsForm_useAction=function(t,e,i){f(t.action,!0,e,i).send(new FormData(t))},this.req__paramsObj=function(t,e,i,n){var o=new FormData;for(var a in e)o.append(a,e[a]);f(t,!0,i,n).send(o)},this.req__paramsStr=function(t,e,i,n){f(t,!0,i,n).send(e)},this.reqSync__paramsForm=function(t,e,i,n){f(t,!1,i,n).send(new FormData(e))},this.reqSync__paramsForm_useAction=function(t,e,i){f(t.action,!1,e,i).send(new FormData(t))},this.reqSync__paramsObj=function(t,e,i,n){var o=new FormData;for(var a in e)o.append(a,e[a]);f(t,!1,i,n).send(o)},this.reqSync__paramsStr=function(t,e,i){f(t,!1,i,cbFunctions).send(e)},this.reqSyncReturn__paramsForm=function(t,e,i,n){var o=m(t,!1,i,n);o.send(new FormData(e));try{}catch(a){}return o},this.reqSync__paramsForm_useAction=function(t,e,i){var n=m(t.action,!1,e,i);return n.send(new FormData(t)),n},this.reqSync__paramsObj=function(t,e,i,n){var o=new FormData;for(var a in e)o.append(a,e[a]);var s=m(t,!1,i,n);return s.send(o),s},this.reqSync__paramsStr=function(t,e,i){var n=m(t,!1,i,cbFunctions);return n.send(e),n},this.setXMLHttpRequest__cbFunctions=function(t,e){t.onerror=e.onerror?e.onerror:n,t.onloadend=e.onloadend?e.onloadend:a,t.onreadystatechange=e.onreadystatechange?e.onreadystatechange:r},f.owner=i.owner=n.owner=o.owner=a.owner=s.owner=d.owner=r.owner=h.owner=l.owner=c.owner=u.owner=_.owner=p.owner=this,this},lt.CLASS.Runner.AsyncRuns_SelfAsync=function(t,e){this["package"]="window.Lib.Ttw.CLASS.Runner.AsyncRuns_SelfAsync";var i=!1,n=null,o=null,a=null,s=0,r=0,h=10;return this.idx=0,this.idxLen=0,this.looper=null,this.ttwDestroy=function(){this.destroyLooper(),n=null,o=null,a=null,s=NaN,r=NaN,h=NaN,this.idx=NaN,this.idxLen=NaN},this.evt_Interval=function(){for(var t=(new Date).getTime(),e=t+h,i=arguments.callee;(new Date).getTime()<e;){if(r>s){i.cbParams.length?n.apply(null,i.cbParams):n(),++s;break}i.owner.destroyLooper(),null!=o&&o();break}},this.evt_Interval.owner=this,this.destroyLooper=function(){i=!0,clearInterval(this.looper)},this.run=function(t,e,a,s,l){n=a,o=s,l=l?l:null,r=t,h=e,i=!1,this.looper=setInterval(this.evt_Interval,30),this.evt_Interval.cbParams=l},this},lt.CLASS.Runner.AsyncRuns_SelfSync=function(t){},lt.CLASS.Runner.AsyncRuns_SelfAsync_MultyFN=function(t){},lt.CLASS.Runner.AsyncRuns_SelfSync_MultyFN=function(t){},lt.initialize_Console(),lt.initialize_hasOwnProperty()}(),window.TtwPackageInitialize=function(){var t="TtwPackageInitialize",e=window,i=e.Lib.Ttw,n=i.CLASS,o="window.Lib.Ttw.";i.Error=new n.Error.Error({instanceKey:o+"Error"});var a=n.Event;i.Event=new a.Event({instanceKey:o+"Event"}),i.EventMouse=new a.EventMouse({instanceKey:o+"EventMouse"}),i.EventKeyboard=new a.EventKeyboard({instanceKey:o+"EventKeyboard"}),e.STtwUtilEvent=i.Event,e.STtwUtilEventKeyboard=i.EventMouse,e.STtwUtilEventMouse=i.EventKeyboard;var s=n.FN;i.fnArray=new s.Array({instanceKey:o+"fnArray"}),i.fnCommon=new s.Common({instanceKey:o+"fnCommon"}),i.fnDate=new s.Date({instanceKey:o+"fnDate"}),i.fnDisObj=new s.DisObj({instanceKey:o+"fnDisObj"}),i.fnFile=new s.File({instanceKey:o+"fnFile"}),i.fnFlash=new s.Flash({instanceKey:o+"fnFlash"}),i.fnGeom=new s.Geometry({instanceKey:o+"fnGeom"}),i.fnMath=new s.Math({instanceKey:o+"fnMath"}),i.fnObject=new s.Object({instanceKey:o+"fnObject"}),i.fnTemplateHTML=new s.TemplateHTML({instanceKey:o+"fnTemplateHTML"}),i.fnTemplateHTMLAsync=new s.TemplateHTMLAsync({instanceKey:o+"fnTemplateHTMLAsync"}),i.fnUnit=new s.Unit({instanceKey:o+"fnUnit"}),i.fnXMLHttpRequest_Get=new s.XMLHttpRequest_Get({instanceKey:o+"fnXMLHttpRequest_Get"}),i.fnXMLHttpRequest_Get_Ref=new s.XMLHttpRequest_Get_Ref({instanceKey:o+"fnXMLHttpRequest_Get_Ref"}),i.fnXMLHttpRequest_Post=new s.XMLHttpRequest_Post({instanceKey:o+"fnXMLHttpRequest_Post"}),e.STtwUtilCommon=i.fnCommon,e.STtwUtilDate=i.fnDate,e.STtwUtilDisObj=i.fnDisObj,e.STtwUtilFile=i.fnFile,e.STtwUtilFlash=i.fnFlash,e.STtwUtilGeom=i.fnGeom,e.STtwUtilMath=i.fnMath,e.STtwUtilObject=i.fnObject,e.STtwUtilTemplateHTML=i.fnTemplateHTML,e.STtwUtilTemplateHTMLAsync=i.fnTemplateHTMLAsync,e.STtwUtilUnit=i.fnUnit,e.STtwUtilXMLHttpReqGet=i.fnXMLHttpRequest_Get,e.STtwUtilXMLHttpReqGetRef=i.fnXMLHttpRequest_Get_Ref,e.STtwUtilXMLHttpReqPost=i.fnXMLHttpRequest_Post,i.fnCommon.destroyKeys(n.FN,["Array","BitmapData","Common","Date","DisObj","DisObjContainer","Draw","Effect","Event","EventKeyboard","EventMouse","File","Geometry","Math","Matrix","Object","TemplateHTML","TemplateHTMLAsync","Transform","Unit","XMLHttpRequest_Get","XMLHttpRequest_Post"]),e.TtwMessageBox=new i.CLASS.DisplayObject.MessageBox({instanceKey:"window.Instance.Ttw.TtwMessageBox"}),i.fnCommon.destroyKeys(i.CLASS.DisplayObject,["MessageBox"]),e.Ttw=i;var r=STtwUtilCommon.destroyKey;r(e,t),r(e,"TtwPackage")}(),window.TtwPackageLeaflet=function(){var t=window;t.Lib=t.Lib||{},t.Lib.Ttw=t.Lib.Ttw||{};var e=t.Lib.Ttw;e.CLASS.FN=e.CLASS.FN||{},e.CLASS.FN.GIS=e.CLASS.FN.GIS||{},t.Instance=t.Instance||{},t.Instance.Ttw=t.Instance.Ttw||{};var e=t.Lib.Ttw;e.CONST=e.CONST||{},e.CLASS.FN.GIS_Leaflet=function(t){this.instanceKey=t.instanceKey||"window.Lib.Ttw.fnGIS_Leaflet";var i=e.singleton(t.instanceKey,null);if(i)return i;this["package"]="window.Lib.Ttw.CLASS.FN.GIS_Leaflet";for(var n=(STtwUtilDisObj.mouseEnable,e.abt("VjJ0V2IxVXhXWGxTYmtwcFRUSlNXRmxYZEhkU01YQlhWMnM1V0ZZd2NFaFdSM2h2VlRBd2VXRkdiRmROVm5CVVZYcEtTbVZXVW5OYVJtUllVakZLZGxaWGVGWk5WMGw0Vm01U2JGSXdXazlXYlRFd1RURlplVTFVUW1oU01IQklWbTB4ZDFNd01VZFhXR3hUVjBkNFZWWXdaRFJXUmxsM1drUlNWMDFYZUZaVk1qQTFZV3hhYzFacVRscFdWbHBRV1ZWYVMyTXhaSEZTYkhCT1VtNUNlVmRXWkRSWlZscHhVMnBDVjAxclZqVlZNV2h6VlRGa1NHVkdaRnBXUlhCMldURmFWbVF5UmtaVWJXaFRZa1p2ZUZkVVFtRmhNa1p6Vm1wS01GWXlSWGxUV0d4VFYwZDRWMWxVU205alZsVjNZVVZPYUZKc1dqRlpNRnByWVd4YVZqSjBWMkV5U1hsU1dHeFdZVEpvY1ZVd2FFTmhSbFoxWTBaa2FsWnRlRmxVYkZVMVZHc3hjbUl6Y0ZaU2JFWXpWVVpGT1ZCUlBUMD1kR1ZHYkZWaVJsVXhWa2R6ZUdOdFNYcGpSbHBUWWtWWmVsWlZXa1pQVmtKU1VGUXdQVmR1VW14U2JYaFdXV3RhVmsxV1draGpNMmhxWWxWc05sa3dXbUZWTWtwR1YxaHdWMVpXY0VkVU1WcERWV3hDVlUxRU1XdFNNVnBJV1d0YVYyRldTbk5XV0doWFlUSlNObHBWWkU5a1JrNVpZMGR3VTJKSVFsVlhWM1JYVjIxV2MxZHNXbGhoTVhCUlZtMTBTMVV4VmtkVldHUlJWMFZHTTFZeWVGZFpWMDE0VjJ4b1ZHRXlVbGhXYTFaaFYwWldjVlJyT1U5U2JYUTFWRlpXZDJKSFNsWk9WV2hYVFc1b1VGbFdXa3RXTWtwRlYyeGthVkpzY0c5V1Z6RjZUbFpaZUZKdVRsUmlSVnBZVld0V1JrNVdjRVZTYTBwcldub3dPUT09",5)),o={resolutions:[156543.03390625],scales:[559081145.7863648]},a=0,s=25;s>a;++a)o.resolutions.push(o.resolutions[a]/2);for(var a=0,s=25;s>a;++a)o.scales.push(o.scales[a]/2);this.resAndScales=o;var r=function(t,e){var i=ttw.gisPack.control[e](t);return t.map.addControl(i),i};this.addControl_Attribution=function(t){return r(t,"attribution")},this.addControl_Layers=function(t){return r(t,"layers")},this.addControl_ScaleLine=function(t){return r(t,"scale")},this.addControl_Zoom=function(t){return r(t,"zoom")};var h=function(t){var e=ttw.gisPack.featureGroup();return e.addTo(t.map),e._map=e.map=t.map,t.map.DIC_FEATURE_GROUP[t.k]=e,E(e),e};this.addFeatureGroup=function(t){return h(t)};var l=function(t){var e=ttw.gisPack(t.url,t.g);return t.map.DIC_IMAGEOVERLAY[t.k]=e,e.addTo(t.map),e};this.addImageOverlay=function(t){return l(t)},this.addImageOverlay_XY=function(t){return C(t.g),l(t)};var c=function(t,e,i,n){return t.addLayer(e),e.kLayer=n,i[n]=e,e};this.addLayer_Dictionary=function(t,e,i,n){return c(t,e,i,n)};this.addLayer_Dictionary__Target=function(t,e,i,n){return addLayer_Dictionary__Target(t,e,i,n)};var u=function(t){t.map.DIC_LAYERS=t.map.DIC_LAYERS||{};var i=null;t.subdomains="01234567";var n=e.abt("VjFaV2IxVXdNVWhVYTFacFRURndUbFJYZEdGbFZsSklUVlpPVDFZd2NEQlZiVFZUWVVaWmQwMVVSbUZTVjJkM1dsY3hZVlpGTlZWUmJXaFhUVEpvZWxadE1IaGtNVTEzVFZWa1dGZEhlRlJXTUdRMFZsWlpkMXBFVWxkU2JHd3pWMnRTVTFZd01WaGxSbHBXVFdwQk1WbFhlR0ZqTVZweFZHeHdWMVpzY0ZGWFZsWmhVekpOZUZwSVJsTmlTRUpQVlcwMVEyVldaRmRhUkZKYVZteHdlRlV5Y0VOV01ERnlWbXBXVmsxWGFIcFdWRVpyVTBkV1IxcEdjRmRTV0VJeVYxUkdZVlp0VVhsU2ExcFZZbGRvVkZsclduWmxSbVJWVVcxR2FFMXJXbnBXYlhCTFRVWlplVkpZYkZSWFIzaFVWakJrTkZZeGJGVlRiVGxxVm14V00xbFZWazloUmtwelYycEdXazFHY0hKWlYzaGhWbXBLTUZZeVJYbFRXR3hUVjBkNFYxbFVTbTlqVmxWM1lVVk9hRkpzV2pGWk1GcHJZV3hhVmpKMFYyRXlTWGxTV0d4V1lUSm9jVlV3YUVOaFJsWjFZMFprYWxadGVGbFViRlUxVkdzeGNtSXpjRlpTYkVZelZVWkZPVkJSUFQwPWRHVkdiRlZpUmxVeFZrZHplR050U1hwalJscFRZa1ZaZWxaVldrWlBWa0pTVUZRd1BXUkhWa2RpUmxacFVteFZlRlpyWkhwbFIwNTBVMWh3YWxKc2NGUlphMVphWld4YVZsZHJXbEJXYTBwVFZVWlJkMUJXWkhWVmJYaFRZbGhvVjFkWGRHRldhekZYVjJ0b2FrMHlhSEZaYkZaelRteHJkMWR0UmxaTmEzQkhWakZvZDFZeFdsZGpSV1JWVFZad1JGWlhlRU5XVlRGRlRWZDBVMDFXY0VsWFYzUmhWakpHVjFOdVRsZFhSMmhZV1ZSS1UwNXNjRlphUlRsclVtczFXbGt3WkhkVk1rcEpVV3hXV0ZZelVsaFdNakZYWXpGa2MxZHNhR2hOV0VKU1ZtMHhNRk14VlhoV2EyUldWMGRTVWxZd1ZYaE5WbkJJVFZoT2JGWXhTa3BXYlRGdllWWkplRmR0T1ZwTmFsWlVXV3BDTkdSRk5WaGxSM1JTWlcxNGVGZFhjRXBsUjFGM1pETnNWV0pVYkU1YVNHOTNUMUU5UFE9PQ==",5),o="/{z}/{y}/{x}";"Street"==t.layerType?i=ttw.gisPack.tileLayer(n+e.abt("VmxWU1MyTXdNVWRSYkZwYVRUQTFXRmxVUmxkbGJGWllaVWMxYWsxV1NrVmFWVlY0Vld4YWMyTklhRlpOYmtKRVZtcEJlR05zV25GV2JGcE9WakpvTmxac1VrZGhNVTVJVm10a1lWSnVRbGhWYkdoRFRXeGtWVkp0UmxkaVZrWTFWVzEwWVZaWFNsaGhSbEphWVRGd01scFZXbXRXVmtaMFVtMW9UbUV4Y0RaV2JURjNVekF4UjFkWWJGTlhSM2hWVmpCa05GWkdXWGRhUkZKWFRWZDRWbFV5TURWaGJGcHpWbXBPV2xaV1dsQlpWVnBMWXpGa2NWSnNjRTVTYmtKNVYxWmtORmxXV25GVGFrSlhUV3RXTlZVeGFITlZNV1JJWlVaa1dsWkZjSFpaTVZwV1pESkdSbFJ0YUZOaVJtOTRWMVJDWVdFeVJuTldha293VmpKRmVWTlliRk5YUjNoWFdWUktiMk5XVlhkaFJVNW9VbXhhTVZrd1dtdGhiRlZqSjBWMkV5U1hsU1dHeFdZVEpvY1ZVd2FFTmhSbFoxWTBaa2FsWnRlRmxVYkZVMVZHc3hjbUl6Y0ZaU2JFWXpWVVpGT1ZCUlBUMD1wMFpVWnNWV0pHVlRGV1IzTjRZMjFKZW1OR1dsTmlSVmw2VmxWYVJrOVdRbEpRVkRBOVYyNVNiRkp0ZUZaWmExcFdUVlphU0dNemFHcGlWV3cyV1RCYVlWVXlTa1pYV0hCWFZsWndSMVF4V2tOVmJFSlZUVVF4YTFJeFdraFphMXBYWVZaS2MxWllhRmRoTWxJMldsVmtUMlJHVGxsalIzQlRZa2hDVlZkWGRGZFhiVlp6VjJ4YVdHRXhjRkZXYlhSTFZURldSMVZZWkZGV2JWSXhWbGN4TkZVeVNsbGhSbVJZVmpOU2FGWnRjM2hXTVdSeVlVZHdUazF0YUhoWFYzaFhZekExYzJFelpGaGlWVnBYVkZkMGQxSXhXWGhoU0dSWFRWWndXRmt3Vm10V1ZURlhZMFZTVjFZemFFUldiRlY0VWxVeFNFMVhiRmROTVVZelZsVmFhMDFIVW5KbFJtaHJVMGQ0VEZsdGVHRk9WbFpIVm1wQ1ZtUjZNRGs9",5)+o,t):"Satellite"==t.layerType?f0=tt:"Terrain"==t.layerType?f0=et:"Hybrid"==t.layerType&&(f0=$);var a=c(t.map,i,t.map.DIC_LAYERS,t.layerType.toLowerCase());return a};this.addLayer_Tile__Bing=function(t){return u(t)};var _=function(t){t.map.DIC_LAYERS=t.map.DIC_LAYERS||{};var i=null;t.continuousWorld=!1,t.reuseTiles=!0,t.maxZoom=14,t.minZoom=0,t.zoomReverse=!0,t.subdomains="0123",t.attribution="",t.tms=!0,"Street"==t.layerType?i=new ttw.gisPack.Proj.TileLayer.TMS(e.abt("VjFaV2IxVXdNVWhVYTFacFRURndUbFJYTVROTk1XdzJWRmhrYTFZd2NGbFZiVFZyWVcxV1ZWWnVTbGhXYldoWVdrVldORmRIU2tsVmJVWnNWa1paZUZZeWVHOVZiVkowVTJ4b1UySnRVbGhaYkdoRFZFWlNWbGRzY0d4V2EzQmFXV3RhVTFkR1NYcGhSbFpYWVd0S2NsUnJXbHBsUjBwSFZteFNhVlpIZUhoV2JURTBWakF3ZUdKR1dsZGhlbXh2VlcxMGQyVnNXWGxqUldSWVlYcEdTRmt3YUV0WGJGbDZZVWRvVjJKWVFreFVWVnBhWlZaS1dXSkdVbGhTTTJoVlZtcENhMDVHV1hoaVJsWlVZbFJzY1ZadGVGZE5NV3hXVm1zNWFGSnJjSHBXTW5CSFYyc3hSMk5JU2xwV00yaG9WbTF3UzAxR1dYbFNXR3hVVjBkNFZGWXdaRFJXTVd4VlUyMDVhbFpzVmpOWlZWWlBZVVpLYzFkcVJscE5SbkJ5V1ZkNFlWWnFTakJXTWtWNVUxaHNVMWRIZUZkWlZFcHZZMVpWZDJGRlRtaFNiRm94V1RCYWEyRnNWakowVjJFeVNYbFNXR3hXWVRKb2NWVXdhRU5oUmxaMVkwWmthbFp0ZUZsVWJGVTFWR3N4Y21JemNGWlNiRVl6VlVaRk9WQlJQVDA9V25SbFJteFZZa1pWTVZaSGMzaGpiVWw2WTBaYVUySkZXWHBXVlZwR1QxWkNVbEJVTUQxa1IxWkhZa1pXYVZKc1ZYaFdhMlI2WlVkT2RGTlljR3BTYkhCVVdXdFdXbVZzV2xaWGExcFFWbXRLVTFWR1VYZFFWMUpJVm10a2FWSnNXbkJWYlhoV1pVWmFjbHBJY0d4U01EVXdWVEZvZDJGc1NuTmpSbEphWVRGYVlWcFhlR0ZXYkdSeVYyeENWMkV3Y0ZSV1ZWcFNaREZDV0ZWcmFGZGhNbEp3VlcxNFlXTkdWblJsUmxwc1VteHdlVmRyYUhkaVJrbDNUbFJDVmsxWGFETlpWM2hMWXpKT1IxVnNjR2hOVm5Cb1YyeGtORmxXV25OYVNFcFlZa1ZLV0ZsVVFuZFdSbHBXVjJ4S2EwMVZTbFZVTVdoRFlWWlpkMWR1VmxoaVJUQXhWVEJWZUZKV1VsbFhiV2hXWlcxbk1GWkZaSGRUYlZGM1pETmtiRkpIVW5OWmJYQkRUV3h3VlZSdVRsQldXR1EyV2tWU1UySldWalpXYWs1YVlsUkdjVlZHUlRsUVVUMDk=",5),t.crs,t):"Satellite"==t.layerType?i=new ttw.gisPack.Proj.TileLayer.TMS(e.abt("",5),t.crs,t):"Hybrid"==t.layerType&&(i=new ttw.gisPack.Proj.TileLayer.TMS(e.abt("",5),t.crs,t));var n=c(t.map,i,t.map.DIC_LAYERS,t.layerType.toLowerCase());return n};this.addLayer_Tile__Daum=function(t){return _(t)};var d=function(t){t.map.DIC_LAYERS=t.map.DIC_LAYERS||{};var i=null;t.continuousWorld=!1,t.reuseTiles=!0,t.maxZoom=15,t.minZoom=0,t.zoomReverse=!1,t.subdomains="1234",t.attribution="",t.tms=!0,"Street"==t.layerType?i=new ttw.gisPack.Proj.TileLayer.TMS("http://onetile{s}.map.naver.net/get/135/0/0/{z}/{x}/{y}/bl_vc_bg/ol_vc_an",t.crs,t):"Satellite"==t.layerType?i=new ttw.gisPack.Proj.TileLayer.TMS(e.abt("VjFaV2IxVXdNVWhVYTFacFRURndUbFJYY0hOTlZtUnpZVVpPYWxJd2NFbFdiWEJyWVdzeE5sRnFSbHBpUjFKSVdrUkNOR1JGTlZoaFIzUnBWbXh2TVZaRlkzZE5WMHBJVld0U1VGWjZWbWhXTUZwSFRXeGFkRTFZWkZSTlJFWklWakZvYzFVeFpFaGxSbFpYVFVkUk1GWnJXbHBrTVhCRlZXeGtUbFl6YUZkV1ZFbDNUbGRHYzFkdVRsZGhhelZoVm14YVlWVkdiRlpYYTNScVRWZFNlRlZ0ZUhkVWJFcDFVVzVzV0ZadFVUQlhWbHBoWTFaT2NWRnNaRTVoTVZreFZsUkdiMk14VlhoYVJXaHNVbTFTWVZaclZuZGtiR3Q0VjJ4YWEwMXJXa2RXUnpGdlZUSktSMkl6YUZoV1JVcG9XVlJLUjJNeFduRlRha0pYVFd0V05WVXhhSE5WTVdSSVpVWmtXbFpGY0haWk1WcFdaREpHUmxSdGFGTmlSbTk0VjFSQ1lXRXlSbk5XYWtvd1ZqSkZlVk5ZYkZOWFIzaFhXVlJLYjJOV1ZYZGhSVTVvVW14YU1Wa3dXbXRoYkZWakowVjJFeVNYbFNXR3hXWVRKb2NWVXdhRU5oUmxaMVkwWmthbFp0ZUZsVWJGVTFWR3N4Y21JemNGWlNiRVl6VlVaRk9WQlJQVDA9cDBaVVpzVldKR1ZURldSM040WTIxSmVtTkdXbE5pUlZsNlZsVmFSazlXUWxKUVZEQTlWMjVTYkZKdGVGWlphMXBXVFZaYVNHTXphR3BpVld3MldUQmFZVlV5U2taWFdIQlhWbFp3UjFReFdrTlZiRUpWVFVReFdHSnNTbk5WYlRFMFZteHNjbGRzV2s1V2JIQkpXWHBPYjJGdFNsWmlSRnBhVFVad2FGWlVTa3RTYkdSWlkwWmtWMVp1UWtoV1JFWmhVVEZXYzFGc1ZrNVNSRVp5VldwR1lWTkdiSEpYYkdSb1ZtdHdlbFpzYUc5V01rVjVWV3BhWVZaWFVsQmFSVnBQVjFkT1NHTkdUbWxUUlVwV1ZqRmtNRll4WkhSV2JrNVlZa1p3V1ZsVVJuZFZWbHAwWkVWMFZrMVdXa2hXVm1oclZWWmFSbUY2UmxWVFNFSkRXa2R6ZUZKRk9WVmFSM2hwWVd0SmVWZHNVazlpTURsV1pETndhMUpHV25SV1dIQnpZMFpzY2xkVVZteGlWa3BJVkRGa2MxbFhWbFZpUkVwYVlURnJNVnBYTVZOU01EbFlZVWRzWVdWcVFUVT0=",5),t.crs,t):"Cadastral"==t.layerType?i=new ttw.gisPack.Proj.TileLayer.TMS(e.abt("VjFaV2IxVXdNVWhVYTFacFRURndUbFJYY0hOTlZtUnpZVVpPYWxJd2NFbFdiWEJyWVdzeE5sRnFSbHBpUjFKSVdrUkNOR1JGTlZoaFIzUnBWbXh2TVZaRlkzZE5WMHBJVld0U1VGWjZWbWhXTUZwSFRXeGFkRTFZWkZSTlJFWklWakZvYzFVeFpFaGxSbFpYVFVkUk1GWnJXbHBrTVhCRlZXeGtUbFl6YUZkV1ZFbDNUbGRHYzFkdVRsZGhhelZoVm14YVlWVkdiRlpYYTNScVRWZFNlRlZ0ZUhkVWJFcDFVVzVzV0ZadFVUQlhWbHBoWTFaT2NWRnNaRTVoTVZreFZsUkdiMk14VlhoYVJXaHNVbTFTWVZaclZuZGtiR3Q0VjJ4YWEwMXJXa2RXUnpGdlZUSktSMkl6YUZoV1JVcG9XVlJLUjJNeFduRlRha0pYVFd0V05WVXhhSE5WTVdSSVpVWmtXbFpGY0haWk1WcFdaREpHUmxSdGFGTmlSbTk0VjFSQ1lXRXlSbk5XYWtvd1ZqSkZlVk5ZYkZOWFIzaFhXVlJLYjJOV1ZYZGhSVTVvVW14YU1Wa3dXbXRoYkZWakowVjJFeVNYbFNXR3hXWVRKb2NWVXdhRU5oUmxaMVkwWmthbFp0ZUZsVWJGVTFWR3N4Y21JemNGWlNiRVl6VlVaRk9WQlJQVDA9cDBaVVpzVldKR1ZURldSM040WTIxSmVtTkdXbE5pUlZsNlZsVmFSazlXUWxKUVZEQTlWMjVTYkZKdGVGWlphMXBXVFZaYVNHTXphR3BpVld3MldUQmFZVlV5U2taWFdIQlhWbFp3UjFReFdrTlZiRUpWVFVReFdHSnNTbk5WYlRFMFZteHNjbGRzV2s1V2JIQkpXWHBPYjJGdFNsWmlSRnBhVFVad2FGWlVTa3RTYkdSWlkwWmtWMVp1UWtoV1JFWmhVVEZXYzFGc1ZrNVNSRVp5VldwR1lWTkdiSEpYYkdSb1ZtdHdlbFpzYUc5V01rVjVWV3BhWVZaWFVsQmFSVnBQVjFkT1NHTkdUbWxUUlVwV1ZqRmtNRll4WkhSV2JrNVlZa1p3V1ZsVVJuZFZWbHAwWkVWMFZrMVdXa2hXVm1oclZWWmFSbUY2UmxWVFNFSkRXa2R6ZUZKRk9WVmFSM2hwWVd0SmVWZHNVazlpTURsV1pETndhMUpHV25SV1dIQnpZMFpzY2xkVVZrNWlSM1EwVkRGa2MxbFhWbFZpUkVwYVlURnJNVmw2U2s5U01EbFlZMGRzWVdWcVFUVT0=",5),t.crs,t):"Hybrid"==t.layerType&&(i=new ttw.gisPack.Proj.TileLayer.TMS(e.abt("VjFaV2IxVXdNVWhVYTFacFRURndUbFJYY0hOTlZtUnpZVVpPYWxJd2NFbFdiWEJyWVdzeE5sRnFSbHBpUjFKSVdrUkNOR1JGTlZoaFIzUnBWbXh2TVZaRlkzZE5WMHBJVld0U1VGWjZWbWhXTUZwSFRXeFNXR05JU210aGVrWklWakkxUjFaSFJuSlRiR2hWVmpOU1dGUnNXbFpsUjBaSlZHeGFUbFl4U2twWGJGWmhZVEZrYzFkcldtcFRSbkJoVkZaYWQxWXhjRVZUYTJSVFlrWktNRmxWV2s5aFZrcDBUMVJTVjAxV1NrUlhWbVJHWlZaS2RWUnNhR2xpUm5CNFZUSndRMVl3TVhKV2FsWldUVmRvZWxaVVJtdFRSMVpIV2tad1YxSllRakpYVkVaaFZtMVJlVkpyV2xWaVYyaFVXV3RhZG1WR1pGVlJiVVpvVFd0YWVsWnRjRXROUmxsNVVsaHNWRmRIZUZSV01HUTBWakZzVlZOdE9XcFdiRll6V1ZWV1QyRkdTbk5YYWtaYVRVWndjbGxYZUdGV2Frb3dWakpGZVZOWWJGTlhSM2hYV1ZSS2IyTldWWGRoUlU1b1VteGFNVmt3V210aGJGVmpKMFYyRXlTWGxTV0d4V1lUSm9jVlV3YUVOaFJsWjFZMFprYWxadGVGbFViRlUxVkdzeGNtSXpjRlpTYkVZelZVWkZPVkJSUFQwPXAwWlVac1ZXSkdWVEZXUjNONFkyMUplbU5HV2xOaVJWbDZWbFZhUms5V1FsSlFWREE5WkVkV1IySkdWbWxTYkZWNFZtdGtlbVZIVG5SVFdIQnFVbXh3VkZsclZscGxiRnBXVjJ0YVVGWnJTbE5WUmxGM1VGWmtkVlZ0ZUZOaVdHaFhWMWQwWVZack1WZFhhMmhxVFRKb2NWbHNWbk5PYkd0M1YyMUdWazFyY0VkV01XaDNWakZhVjJORlpGVk5WbkJFVmxkNFExWlZNVVZOVms1cFVtdHdNRnBWV21GWGJVVjRZMFprVlZac2NHaFZNR1JPWlcxR1NHTkhiRmRXTTJONVZqRlNRMWxXYkZkV1dHeFVZVEZ3V1ZZd2FFTlhSbHB6VjI1a1UwMVdSalJXTW5SUFZtMUtSbE5zV2xWV1ZrWXpXa2R6ZUZKRk9WVmFSM2hwWVd0SmVWZHNVazlpTURsV1pETndhMUpHV25SV1dIQnpZMFpzY2xkVVZteGlWa3BJVkRGa2MxbFhWbFZpUkVwYVlURnJNVnBYTVZOU01EbFpZa2RHVW1WdGQzbFhWM1JhVGxkV2RGVnJaRkJXTW1od1YyNXZkMDlSUFQwPQ==",5),t.crs,t));var n=c(t.map,i,t.map.DIC_LAYERS,t.layerType.toLowerCase());return n};this.addLayer_Tile__NHN=function(t){return d(t)};var p=function(t){t.map.DIC_LAYERS=t.map.DIC_LAYERS||{};var i=null;"Street"==t.layerType&&(i=ttw.gisPack.tileLayer(e.abt("VjFaV2IxVXdNVWhVYTFacFRURndUbFJVVGxOT2JIQnpWRlJHVGxJd1dsbGFWV1EwVkZkS1ZXSkVXbHBpUm5Cb1dURmFUMk5XUm5OYVJUVm9UVlpyZUZac1VrZGlNazE0Vmxob1lWSlhhSE5WYlRGVFdWWmFjbFp1Wkd0aVIzUTBWako0WVdFd01YSlhhMlJYVW5wR2RsWlVTa3RTTWtsNllVWm9WMUpWY0c5WFZsSkxVakpOZUZwSVZsZGlXRUpNVkZWYVdtVldTbGxpUmxKWVVqTm9WVlpxUW10T1JsbDRZa1pXVkdKVWJIRldiWGhYVFRGc1ZsWnJPV2hTYTNCNlZqSndSMWRyTVVkalNFcGFWak5vYUZadGNFdE5SbGw1VWxoc1ZGZEhlRlJXTUdRMFZqRnNWVk50T1dwV2JGWXpXVlZXVDJGR1NuTlhha1phVFVad2NsbFhlR0ZXYWtvd1ZqSkZlVk5ZYkZOWFIzaFhXVlJLYjJOV1ZYZGhSVTVvVW14YU1Wa3dXbXRoYkZWakowVjJFeVNYbFNXR3hXWVRKb2NWVXdhRU5oUmxaMVkwWmthbFp0ZUZsVWJGVTFWR3N4Y21JemNGWlNiRVl6VlVaRk9WQlJQVDA9cDBaVVpzVldKR1ZURldSM040WTIxSmVtTkdXbE5pUlZsNlZsVmFSazlXUWxKUVZEQTlaRWRXUjJKR1ZtbFNiRlY0Vm10a2VtVkhUblJUV0hCcVVteHdWRmxyVmxwbGJGcFdWMnRhVUZaclNsTlZSbEYzVUZkU1NGWnJaR2xTYkZwd1ZXMTRWbVZHV25KYVNIQnNVakExTUZVeGFIZGhiRXB6WTBaU1dtRXhXbUZhVjNoaFZteGtjbGRzUWxkaE1IQlVWbFZhVW1ReFFsZFRiazVXWWxSRk1GWnRlSE5qYkdSelYyczFWMkpJUWtwWFdIQlBZakpHZEZOc1dtbFNSbkJoVkZWYWQyRkdXbFZUYTNSVFlrZFNXbGt3V210V01WcDFVV3RvVjFKRldtaFZWRVpYWXpGR2MxWnJOVk5TUlVsNFYxZHdUMU15U25Ka00zQnJVa1p3ZEZaWWNISk5NWEJXV2pOa2EySldWalpaYTFKelZGZEtjbE5xUmxoaWJVMDFWVVpGT1ZCUlBUMD0=",5),t)),"Gray"==t.layerType&&(i=ttw.gisPack.tileLayer(e.abt("VjFaV2IxVXdNVWhVYTFacFRURndUbFJYTlc5ak1XUlhXa2RHYWsxWVFscFdWbWhUV1Zaa1NGb3paRnBOYWtaSVdsZDBOR1JHY0VsUmJYUlRUVzFrTkZZeFpISk5WbGw1VW01S2FVMHlVbGhaVjNSM1VqRndWMWRyT1ZoV01IQklWa2Q0YjFVd01IbGhSbXhYVFZad1ZGVjZTa3BsVmxKeldrWmtXRkl4U25aV1YzaFdUVmRKZUZadVVteFNNRnBQVm0weE1FMHhXWGxOVkVKb1VqQndTRlp0TVhkVE1ERkhWMWhzVTFkSGVGVldNR1EwVmtaWmQxcEVVbGROVjNoV1ZUSXdOV0ZzV25OV2FrNWFWbFphVUZsVldrdGpNV1J4VW14d1RsSnVRbmxYVm1RMFdWWmFjVk5xUWxkTmExWTFWVEZvYzFVeFpFaGxSbVJhVmtWd2Rsa3hXbFprTWtaR1ZHMW9VMkpHYjNoWFZFSmhZVEpHYzFacVNqQldNa1Y1VTFoc1UxZEhlRmRaVkVwdlkxWlZkMkZGVG1oU2JGb3hXVEJhYTJGc1ZqSjBWMkV5U1hsU1dHeFdZVEpvY1ZVd2FFTmhSbFoxWTBaa2FsWnRlRmxVYkZVMVZHc3hjbUl6Y0ZaU2JFWXpWVVpGT1ZCUlBUMD1XblJsUm14VllrWlZNVlpIYzNoamJVbDZZMFphVTJKRldYcFdWVnBHVDFaQ1VsQlVNRDFYYmxKc1VtMTRWbGxyV2xaTlZscElZek5vYW1KVmJEWlpNRnBoVlRKS1JsZFljRmRXVm5CSFZERmFRMVZzUWxWTlJERnJVakZhU0ZscldsZGhWa3B6Vmxob1YyRXlValphVldSUFpFWk9XV05IY0ZOaVNFSlZWMWQwVjFkdFZuTlhiRnBZWVRGd1VWWnRkRXRWTVZaSFZWaGtVVmRGUmpOV01uaFhXVmROZUZkc2FGUmhNbEpZVm10V1lWZEdWbkZVYXpsUFVtMTBOVlJXVm5kaVIwcFdUbFZvVjAxdWFGQlpWbHBMVmpKS1JWZHNaR2xTYkhCdlZsY3hlazVXV1hoU2JrNVVZa1ZhV0ZWclZrWk9WbXhYV1hwU2EySlZjRWxXYlRGdldWZEtXV0ZJVG1GU1ZURTBXa1JLVDJSRk9WVlRiV2hYVFZWd2VsZFVTVEZVYlZKMFZHdHNWR0pZYUhKWmJHUTBZekZ3U1dGNlVsRlZWREE1",5),t));var n=c(t.map,i,t.map.DIC_LAYERS,t.layerType.toLowerCase());return n};this.addLayer_Tile__OSM=function(t){return p(t)};var m=function(t){t.map.DIC_LAYERS=t.map.DIC_LAYERS||{};var i=null;t.continuousWorld=!0,t.reuseTiles=!0,"Street"==t.layerType?i=ttw.gisPack.tileLayer(n+e.abt("VjJ4V2ExVXdNSGxUV0hCVVltczFhRlZZY0ZabFZuQkZVMVJXYkZZd2NFbFdWbWhYWVVVd2QyRjZTbFZOUmtwRFZHdFZlRkpGT1VsaVIwWlNaVzE0V1ZkV1pEQmtiVkY0VjI1R1ZHRXhjSE5XYlhNeFYyeHNjbGRyT1ZoU2EydzJXVlZhYjFkR1duTlRhM2hhWVd0d1VGWnFSbUZYVm5CSVlVWk9WMVpHV2pKV2JHTjRUa1pzVmsxV1pHaE5NbEpaV1d4b1UySXhiSEpYYkdSb1lUSTVNMVp0Y0V0U2JWWlhWR3hzYVZKck5WbFZhazV2VjBaa1YxVnJkR2xOYXpWWVZteG9hMkZHU2xaT1Z6bFdZbGhvYUZSV1duSmtNV1IwWkVkb2FWSnNXbkZUYWtKWFRXdFdOVlV4YUhOVk1XUklaVVprV2xaRmNIWlpNVnBXWkRKR1JsUnRhRk5pUm05NFYxUkNZV0V5Um5OV2Frb3dWakpGZVZOWWJGTlhSM2hYV1ZSS2IyTldWWGRoUlU1b1VteGFNVmt3V210aGJGVmpKMFYyRXlTWGxTV0d4V1lUSm9jVlV3YUVOaFJsWjFZMFprYWxadGVGbFViRlUxVkdzeGNtSXpjRlpTYkVZelZVWkZPVkJSUFQwPXAwWlVac1ZXSkdWVEZXUjNONFkyMUplbU5HV2xOaVJWbDZWbFZhUms5V1FsSlFWREE5VjI1U2JGSnRlRlpaYTFwV1RWWmFTR016YUdwaVZXdzJXVEJhWVZVeVNrWlhXSEJYVmxad1IxUXhXa05WYkVKVlRVUXhkMDFHY0ZaWGJrNVhWakJ3U0Zac1VrZFdNVWw2VkdwU1drMXFSa3RhVnpGUFVqRmtjMVJ0YkZOV2JYY3lWbTE0VjFsV1NuSlBWbVJTWWtWd1VsWnJVa0pQVjA1RlVXMUdWMVp1UWpaV2JYaHJVekZKZUZkc1ZsTmlSMUpVVkZSQk1FMUdaRlZUV0doVVlsWmFNRlpIZEd0WFIwcEdUbGhDVm1KR2NIcFViWGhoWXpGYWRGSnNUbWhsYlhoWlZsWmtORk14VmxkWGExWlNWa2Q0VTFsc1ZtRk9iR1J6VkZSU2JGWlVSa1pWYkdoM1ZHeGFSbEpxU21GV1JUVXpWREZXTTJWdFVrVlZiVEZXWlcxemVsZHNXbTVrTWxKWVZHdG9UMVo2VVRrPQ==",5),t):"Satellite"==t.layerType?i=ttw.gisPack.tileLayer(n+e.abt("VjJ4V2ExVXdNSGxUV0hCVVltczFhRlZZY0ZabFZuQkZVMVJXYkZZd2NFbFdWbWhYWVVVd2QyRjZTbFZOUmtwRFZHdFZlRkpGT1VsaVIwWlNaVzE0VmxZeFdtOVZNVmw1VW01S2FVMHlVbGhaVjNSM1VqRndWMWRyT1ZoV01IQklWa2Q0YjFVd01IbGhSbXhYVFZad1ZGVjZTa3BsVmxKeldrWmtXRkl4U25aV1YzaFdUVmRKZUZadVVteFNNRnBQVm0weE1FMHhXWGxOVkVKb1VqQndTRlp0TVhkVE1ERkhWMWhzVTFkSGVGVldNR1EwVmtaWmQxcEVVbGROVjNoV1ZUSXdOV0ZzV25OV2FrNWFWbFphVUZsVldrdGpNV1J4VW14d1RsSnVRbmxYVm1RMFdWWmFjVk5xUWxkTmExWTFWVEZvYzFVeFpFaGxSbVJhVmtWd2Rsa3hXbFprTWtaR1ZHMW9VMkpHYjNoWFZFSmhZVEpHYzFacVNqQldNa1Y1VTFoc1UxZEhlRmRaVkVwdlkxWlZkMkZGVG1oU2JGb3hXVEJhYTJGc1ZqSjBWMkV5U1hsU1dHeFdZVEpvY1ZVd2FFTmhSbFoxWTBaa2FsWnRlRmxVYkZVMVZHc3hjbUl6Y0ZaU2JFWXpWVVpGT1ZCUlBUMD1XblJsUm14VllrWlZNVlpIYzNoamJVbDZZMFphVTJKRldYcFdWVnBHVDFaQ1VsQlVNRDFYYmxKc1VtMTRWbGxyV2xaTlZscElZek5vYW1KVmJEWlpNRnBoVlRKS1JsZFljRmRXVm5CSFZERmFRMVZzUWxWTlJERnJVakZhU0ZscldsZGhWa3B6Vmxob1YyRXlValphVldSUFpFWk9XV05IY0ZOaVNFSlZWMWQwVjFkdFZuTlhiRnBZWVRGd1VWWnRkRXRWTVZaSFZWaGtVVmRGUmpOV01uaFhXVmROZUZkc2FGUmhNbEpZVm10V1lWZEdWbkZVYXpsUFVtMTBOVlJXVm5kaVIwcFdUbFZvVjAxdWFGQlpWbHBMVmpKS1JWZHNaR2xTYkhCdlZsY3hlazVXV1hoU2JrNVVZa1ZhV0ZWclZrWk9WbVJ6V2tSU2FrMXJXbHBXVnpFMFZGZFdjbUpFVGxWV2JFcFBXa1JCZUZaRk9WVmFSM2hwWVd0SmVWZHNVazlpTURsV1pETndhMUpHV25SV1dIQlhaVVpyZDFwR1pHbGFlakE1",5),t):"Hybrid"==t.layerType&&(i=ttw.gisPack.tileLayer(n+e.abt("VjJ4V2ExVXdNSGxUV0hCVVltczFhRlZZY0ZabFZuQkZVMVJXYkZZd2NFbFdWbWhYWVVVd2QyRjZTbFZOUmtwRFZHdFZlRkpGT1VsaVIwWlNaVzE0UzFadE1IaGtNVTEzVFZWa1dGZEhlRlJXTUdRMFZsWlpkMXBFVWxkU2JHd3pWMnRTVTFZd01WaGxSbHBXVFdwQk1WbFhlR0ZqTVZweFZHeHdWMVpzY0ZGWFZsWmhVekpOZUZwSVJsTmlTRUpQVlcwMVEyVldaRmRhUkZKYVZteHdlRlV5Y0VOV01ERnlWbXBXVmsxWGFIcFdWRVpyVTBkV1IxcEdjRmRTV0VJeVYxUkdZVlp0VVhsU2ExcFZZbGRvVkZsclduWmxSbVJWVVcxR2FFMXJXbnBXYlhCTFRVWlplVkpZYkZSWFIzaFVWakJrTkZZeGJGVlRiVGxxVm14V00xbFZWazloUmtwelYycEdXazFHY0hKWlYzaGhWbXBLTUZZeVJYbFRXR3hUVjBkNFYxbFVTbTlqVmxWM1lVVk9hRkpzV2pGWk1GcHJZV3hhVmpKMFYyRXlTWGxTV0d4V1lUSm9jVlV3YUVOaFJsWjFZMFprYWxadGVGbFViRlUxVkdzeGNtSXpjRlpTYkVZelZVWkZPVkJSUFQwPWRHVkdiRlZpUmxVeFZrZHplR050U1hwalJscFRZa1ZaZWxaVldrWlBWa0pTVUZRd1BXUkhWa2RpUmxacFVteFZlRlpyWkhwbFIwNTBVMWh3YWxKc2NGUlphMVphWld4YVZsZHJXbEJXYTBwVFZVWlJkMUJXWkhWVmJYaFRZbGhvVjFkWGRHRldhekZYVjJ0b2FrMHlhSEZaYkZaelRteHJkMWR0UmxaTmEzQkhWakZvZDFZeFdsZGpSV1JWVFZad1JGWlhlRU5XVlRGRlRWZDBVMDFXY0VsWFYzUmhWakpHVjFOdVRsZFhSMmhZV1ZSS1UwNXNjRlphUlRsclVtczFXbGt3WkhkVk1rcEpVV3hXV0ZZelVsaFdNakZYWXpGa2MxZHNhR2hOV0VKU1ZtMHhNRk14VlhoV2EyUldWMGRTVWxZd1pEUmpSbXQ1VFZoT2FFMUlaekpWTVdoclZHeGFSazFVVWxWV1ZUQXhWR3BLVjJSVk1VbFhiWGhPVFcxak1WWkZVazlOUlRWWVYyeFNUMWRIVW5CWmJHUk9UMUU5UFE9PQ==",5),t));
var o=c(t.map,i,t.map.DIC_LAYERS,t.layerType.toLowerCase());return o};this.addLayer_Tile__VWorld=function(t){return m(t)};var f=function(t){return c(t.map,new ttw.gisPack.circle(t.c,t),t.map.DIC_LAYERS_VECTOR_CIRCLE,t.k)};this.addLayer_Vector__Circle=function(t){return f(t)},this.addLayer_Vector__Circle_XY=function(t){return R(t.c),f(t)};var g=function(t){return c(t.map,new ttw.gisPack.circleDash(t.c,t),t.map.DIC_LAYERS_VECTOR_CIRCLE,t.k)};this.addLayer_Vector__CircleDash=function(t){return g(t)},this.addLayer_Vector__CircleDash_XY=function(t){return R(t.c),g(t)};var y=function(t){return c(t.map,new ttw.gisPack.circleMarker(t.c,t),t.map.DIC_LAYERS_VECTOR_CIRCLE_MARKER,t.k)};this.addLayer_Vector__CircleMarker=function(t){return y(t)},this.addLayer_Vector__CircleMarker_XY=function(t){return R(t.c),y(t)};var v=function(t){return c(t.map,new ttw.gisPack.circleMarkeDash(t.c,t),t.map.DIC_LAYERS_VECTOR_CIRCLE_MARKER,t.k)};this.addLayer_Vector__CircleMarkerDash=function(t){return v(t)},this.addLayer_Vector__CircleMarkerDash_XY=function(t){return R(t.c),v(t)};var M=function(t){return c(t.map,new ttw.gisPack.polygon(t.g,t),t.map.DIC_LAYERS_VECTOR_POLYGON,t.k)};this.addLayer_Vector__Polygon=function(t){return M(t)},this.addLayer_Vector__Polygon_XY=function(t){return C(t.g),M(t)};var w=function(t){return c(t.map,new ttw.gisPack.polygonDash(t.g,t),t.map.DIC_LAYERS_VECTOR_POLYGON,t.k)};this.addLayer_Vector__PolygonDash=function(t){return w(t)},this.addLayer_Vector__PolygonDash_XY=function(t){return C(t.g),w(t)};var T=function(t){return c(t.map,new ttw.gisPack.polyline(t.g,t),t.map.DIC_LAYERS_VECTOR_POLYLINE,t.k)};this.addLayer_Vector__Polyline=function(t){return T(t)},this.addLayer_Vector__Polyline_XY=function(t){return C(t.g),T(t)};var S=function(t){return c(t.map,new ttw.gisPack.polylineDash(t.g,t),t.map.DIC_LAYERS_VECTOR_POLYLINE,t.k)};this.addLayer_Vector__PolylineDash=function(t){return S(t)},this.addLayer_Vector__PolylineDash_XY=function(t){return C(t.g),S(t)};var b=function(t){return c(t.map,new ttw.gisPack.rectangle(t.g,t),t.map.DIC_LAYERS_VECTOR_RECTANGLE,t.k)};this.addLayer_Vector__Rectangle=function(t){return b(t)},this.addLayer_Vector__Rectangle_XY=function(t){return C(t.g)};var V=function(t){return c(t.map,new ttw.gisPack.rectangleDash(t.g,t),t.map.DIC_LAYERS_VECTOR_RECTANGLE,t.k)};this.addLayer_Vector__RectangleDash=function(t){return V(t)},this.addLayer_Vector__RectangleDash_XY=function(t){return C(t.g)};var x=function(t){var e=ttw.gisPack.layerGroup();return e.addTo(t.map),e._map=e.map=t.map,t.map.DIC_LAYER_GROUP[t.k]=e,P(e),e};this.addLayerGroup=function(t){return x(t)};var k=function(t){var e=ttw.gisPack.marker(t.c,{icon:t.map.DIC_ICON[t.kIcon]});return e.addTo(t.map),t.map.DIC_MARKER[t.k]=e,e};this.addMarker_Icon=function(t){return k(t)},this.addMarker_Icon_XY=function(t){return R(t.c),k(t)};var R=function(t){var e=t[0];return t[0]=t[1],t[1]=e,t},C=function(t){for(var e,i,n=0,o=t.length;o>n;++n)e=t[n],i=e[0],e[0]=e[1],e[1]=i;return t},E=function(t){t.__removeLayer=t.removeLayer},P=function(t){t.__removeLayer=t.removeLayer,t.removeLayer=function(e,i){t.__removeLayer(e);try{delete i[e.kLayer]}catch(n){}}},U=function(t){t.DIC_FEATURE_GROUP={},t.DIC_ICON={},t.DIC_IMAGEOVERLAY={},t.DIC_LAYER_GROUP={},t.DIC_LAYERS={},t.DIC_LAYERS_VECTOR_CIRCLE={},t.DIC_LAYERS_VECTOR_CIRCLE_MARKER={},t.DIC_LAYERS_VECTOR_POLYGON={},t.DIC_LAYERS_VECTOR_POLYLINE={},t.DIC_LAYERS_VECTOR_RECTANGLE={},t.DIC_MARKER={},t.DIC_STYLE_CIRCLE={},t.DIC_STYLE_FILL={},t.DIC_STYLE_ICON={},t.DIC_STYLE_IMAGE={},t.DIC_STYLE_REGULARSHAPE={},t.DIC_STYLE_STROKE={},t.DIC_STYLE_STYLE={},t.DIC_STYLE_TEXT={}},D=function(t){var e=ttw.gisPack.icon(t);return t.map.DIC_ICON[t.k]=e,e};this.createIcon=function(t){return D(t)};var F=function(t){var e=ttw.gisPack(t.url,t.g);return t.map.DIC_IMAGEOVERLAY[t.k]=e,e};this.createImageOverlay=function(t){return F(t)};var Z=function(t){var e=ttw.gisPack.marker(t.c,{icon:t.map.DIC_ICON[t.kIcon]});return t.map.DIC_MARKER[t.k]=e,e};this.createMarker_Icon=function(t){return Z(t)};var W=function(t,e,i){return t.kLayer=i,e[i]=t,t};this.createLayer_Dictionary=function(t,e,i){return W(t,e,i)};var I=function(t){return W(new ttw.gisPack.circle(t.c,t),t.map.DIC_LAYERS_VECTOR_CIRCLE,t.k)};this.createLayer_Vector__Circle=function(t){return I(t)},this.createLayer_Vector__Circle_XY=function(t){return R(t.c),I(t)};var O=function(t){return W(new ttw.gisPack.circleDash(t.c,t),t.map.DIC_LAYERS_VECTOR_CIRCLE,t.k)};this.createLayer_Vector__CircleDash=function(t){return O(t)},this.createLayer_Vector__CircleDash_XY=function(t){return R(t.c),O(t)};var N=function(t){return W(new ttw.gisPack.circleMarker(t.c,t),t.map.DIC_LAYERS_VECTOR_CIRCLE_MARKER,t.k)};this.createLayer_Vector__CircleMarker=function(t){return N(t)},this.createLayer_Vector__CircleMarker_XY=function(t){return R(t.c),N(t)};var G=function(t){return W(new ttw.gisPack.circleMarkerDash(t.c,t),t.map.DIC_LAYERS_VECTOR_CIRCLE_MARKER,t.k)};this.createLayer_Vector__CircleMarkerDash=function(t){return G(t)},this.createLayer_Vector__CircleMarkerDash_XY=function(t){return R(t.c),G(t)};var A=function(t){return W(new ttw.gisPack.polygon(t.g,t),t.map.DIC_LAYERS_VECTOR_POLYGON,t.k)};this.createLayer_Vector__Polygon=function(t){return A(t)},this.createLayer_Vector__Polygon_XY=function(t){return C(t.g),A(t)};var B=function(t){return W(new ttw.gisPack.polygonDash(t.g,t),t.map.DIC_LAYERS_VECTOR_POLYGON,t.k)};this.createLayer_Vector__PolygonDash=function(t){return B(t)},this.createLayer_Vector__PolygonDash_XY=function(t){return C(t.g),B(t)};var H=function(t){return W(new ttw.gisPack.polyline(t.g,t),t.map.DIC_LAYERS_VECTOR_POLYLINE,t.k)};this.createLayer_Vector__Polyline=function(t){return H(t)},this.createLayer_Vector__Polyline_XY=function(t){return C(t.g),H(t)};var j=function(t){return W(new ttw.gisPack.polylineDash(t.g,t),t.map.DIC_LAYERS_VECTOR_POLYLINE,t.k)};this.createLayer_Vector__PolylineDash=function(t){return j(t)},this.createLayer_Vector__PolylineDash_XY=function(t){return C(t.g),j(t)};var z=function(t){return W(new ttw.gisPack.rectangle(t.g,t),t.map.DIC_LAYERS_VECTOR_RECTANGLE,t.k)};this.createLayer_Vector__Rectangle=function(t){return z(t)},this.createLayer_Vector__Rectangle_XY=function(t){return C(t.g),z(t)};var Y=function(t){return W(new ttw.gisPack.rectangleDash(t.g,t),t.map.DIC_LAYERS_VECTOR_RECTANGLE,t.k)};this.createLayer_Vector__RectangleDash=function(t){return Y(t)},this.createLayer_Vector__RectangleDash_XY=function(t){return C(t.g),Y(t)};var J=function(t){t.renderer_Canvas_A=ttw.gisPack.canvas_Fast(),t.renderer_Canvas_L=ttw.gisPack.canvas_Fast(),t.renderer_Canvas_P=ttw.gisPack.canvas_Fast()},X=function(t){t.CANVAS=!0,t.renderer=ttw.gisPack.canvas();var e=ttw.gisPack.map(t.id,t);return e.attributionControl.remove(),e.zoomControl.remove(),U(e),J(e),e};this.create_Map=function(t){return X(t)};var q=function(t){t.continuousWorld=!0,t.worldCopyJump=!1,t.zoomControl=!0,t.CANVAS=!0,t.renderer=ttw.gisPack.canvas();var e=ttw.gisPack.map(t.id,t);return e.attributionControl.remove(),e.zoomControl.remove(),U(e),J(e),e};this.create_Map__EPSG5179=function(t){return q(t)};var K=function(t){t.continuousWorld=!0,t.worldCopyJump=!1,t.zoomControl=!0,t.CANVAS=!0,t.renderer=ttw.gisPack.canvas();var e=ttw.gisPack.map(t.id,t);return e.attributionControl.remove(),e.zoomControl.remove(),U(e),J(e),e};this.create_Map__EPSG5181=function(t){return K(t)};var Q=function(t){for(var e=[t[0],t[1],-t[2]-1],i=[],n=e[0];n>0;--n){var o=0,a=1<<n-1;0!=(e[1]&a)&&o++,0!=(e[2]&a)&&(o++,o++),i.push(o)}return i.join("")},$=function(t){var i=_create_source_OSM__getParamsObj(t);return i.url=n+e.abt("VjJ4V2ExVXdNSGxUV0hCVVltczFhRlZZY0ZabFZuQkZVMVJXYkZZd2NFbFdWbWhYWVVVd2QyRjZTbFZOUmtwRFZHdFZlRkpGT1VsaVIwWlNaVzE0UzFadE1IaGtNVTEzVFZWa1dGZEhlRlJXTUdRMFZsWlpkMXBFVWxkU2JHd3pWMnRTVTFZd01WaGxSbHBXVFdwQk1WbFhlR0ZqTVZweFZHeHdWMVpzY0ZGWFZsWmhVekpOZUZwSVJsTmlTRUpQVlcwMVEyVldaRmRhUkZKYVZteHdlRlV5Y0VOV01ERnlWbXBXVmsxWGFIcFdWRVpyVTBkV1IxcEdjRmRTV0VJeVYxUkdZVlp0VVhsU2ExcFZZbGRvVkZsclduWmxSbVJWVVcxR2FFMXJXbnBXYlhCTFRVWlplVkpZYkZSWFIzaFVWakJrTkZZeGJGVlRiVGxxVm14V00xbFZWazloUmtwelYycEdXazFHY0hKWlYzaGhWbXBLTUZZeVJYbFRXR3hUVjBkNFYxbFVTbTlqVmxWM1lVVk9hRkpzV2pGWk1GcHJZV3hhVmpKMFYyRXlTWGxTV0d4V1lUSm9jVlV3YUVOaFJsWjFZMFprYWxadGVGbFViRlUxVkdzeGNtSXpjRlpTYkVZelZVWkZPVkJSUFQwPWRHVkdiRlZpUmxVeFZrZHplR050U1hwalJscFRZa1ZaZWxaVldrWlBWa0pTVUZRd1BXUkhWa2RpUmxacFVteFZlRlpyWkhwbFIwNTBVMWh3YWxKc2NGUlphMVphWld4YVZsZHJXbEJXYTBwVFZVWlJkMUJXWkhWVmJYaFRZbGhvVjFkWGRHRldhekZYVjJ0b2FrMHlhSEZaYkZaelRteHJkMWR0UmxaTmEzQkhWakZvZDFZeFdsZGpSV1JWVFZad1JGWlhlRU5XVlRGRlRWZDBVMDFXY0VsWFYzUmhWakpHVjFOdVRsZFhSMmhZV1ZSS1UwNXNjRlphUlRsclVtczFXbGt3WkhkVk1rcEpVV3hXV0ZZelVsaFdNakZYWXpGa2MxZHNhR2hOV0VKU1ZtMHhNRk14VlhoV2EyUldWMGRTVWxZd1pEUmpSbXQ1VFZoT2FFMUlaekpWTVdoclZHeGFSazFVVWxWV1ZUQXhWR3BLVjJSVk1VbFhiWGhPVFcxak1WWkZVazlOUlRWWVYyeFNUMWRIVW5CWmJHUk9UMUU5UFE9PQ==",5),new ttw.gisPack.source.OSM(i)},tt=function(t){var i=_create_source_OSM__getParamsObj(t);_create_source_OSM__Bing__getCommonParams_URLs(i);var n=e.abt("VmxWU1MyTXdNVWRSYkZwVFYwVTFWRnBXYUc5VWJFNTBUVWhvYW1KR2NEQlpNRll3Vkd4S2MySkVWbFppUjJoNlZtdGFhMU5IVmtkVmJHUk9VakZGZDFadGNFZGpNVnBYVkc1U1VGWXpRbGhaYTFwYVpXeGtWMVpzWkZWTmExcElWVEkxVDFkSFJuSlhiVVpWVmxad00xa3llSE5YUjFaSVVteGthR0V5T1ROV2JYQkxVbTFXVjFSc2JHbFNhelZaVldwT2IxZEdaRmRWYTNScFRXczFXRlpzYUd0aFJrcFdUbGM1Vm1KWWFHaFVWbHB5WkRGa2RHUkhhR2xTYkZweFUycENWMDFyVmpWVk1XaHpWVEZrU0dWR1pGcFdSWEIyV1RGYVZtUXlSa1pVYldoVFlrWnZlRmRVUW1GaE1rWnpWbXBLTUZZeVJYbFRXR3hUVjBkNFYxbFVTbTlqVmxWM1lVVk9hRkpzV2pGWk1GcHJZV3hhVmpKMFYyRXlTWGxTV0d4V1lUSm9jVlV3YUVOaFJsWjFZMFprYWxadGVGbFViRlUxVkdzeGNtSXpjRlpTYkVZelZVWkZPVkJSUFQwPWRHVkdiRlZpUmxVeFZrZHplR050U1hwalJscFRZa1ZaZWxaVldrWlBWa0pTVUZRd1BWZHVVbXhTYlhoV1dXdGFWazFXV2toak0yaHFZbFZzTmxrd1dtRlZNa3BHVjFod1YxWldjRWRVTVZwRFZXeENWVTFFTVhkTlJuQldWMjVPVjFZd2NFaFdiRkpIVmpGSmVsUnFVbHBOYWtaTFdsY3hUMUl4WkhOVWJXeFRWbTEzTWxadGVGZFpWa3B5VDFaa1VtSkZjRkpXYTFKQ1QxWndSbHBHWkZOTmEzQklWbTB4YzFVeVNrZFdhbEpYWWxoU2NscFhNVmRUUmxKMVZXeFNXRk5GU25oV1Z6RTBaREZhUjJKSVNsZGlTRUp6V1d0YWQxWXhXWGxrUjBaV1VteHdlVlV5ZUU5V2JFcHpVbXBPVmxKdGFGTlVNV1JHWlZVNVNWVnRhRTVOUjNnd1YydGFiMU5yT1ZkVVdHaFVWa1JCT1E9PQ==",5);return i.tileLoadFunction=function(t,e){var o=Q(t.getTileCoord());""==o&&(t.getImage().src=null),t.getImage().src=i.urls._getUrls()+o+n},new ttw.gisPack.source.OSM(i)},et=function(t){var i=_create_source_OSM__getParamsObj(t);_create_source_OSM__Bing__getCommonParams_URLs(i);var n=e.abt("VmxWU1MyTXdNVWRSYkZwYVRUQTFXRmxVUmxkbGJGWllaVWMxYWsxV1NrVmFWVlY0Vld4VmVHTkVRbHBXUlRWVFZERmtSbVZHWkhWU2JGSm9ZVEJ3V1ZaR1pEQldNRFZYVmxob2FGTkZOVmRVVm1SVFUxWndWbGR0ZEZoaVJuQkhXVEJvWVZkck1WZGpSbVJoVWtWd1NGVnRlRk5rUjBaSFZHMXNVMkpVYXpCV2FrWlRVVEZzV0ZKWWJGTmlhelZaV1cxNFlXTldUbkZSYkdST1lURlpNVlpVUm05ak1WVjRXa1ZvYkZKdFVtRldhMVozWkd4cmVGZHNXbXROYTFwSFZrY3hiMVV5U2tkaU0yaFlWa1ZLYUZsVVNrZGpNVnB4VTJwQ1YwMXJWalZWTVdoelZURmtTR1ZHWkZwV1JYQjJXVEZhVm1ReVJrWlViV2hUWWtadmVGZFVRbUZoTWtaelZtcEtNRll5UlhsVFdHeFRWMGQ0VjFsVVNtOWpWbFYzWVVWT2FGSnNXakZaTUZwcllXeGFWakowVjJFeVNYbFNXR3hXWVRKb2NWVXdhRU5oUmxaMVkwWmthbFp0ZUZsVWJGVTFWR3N4Y21JemNGWlNiRVl6VlVaRk9WQlJQVDA9ZEdWR2JGVmlSbFV4VmtkemVHTnRTWHBqUmxwVFlrVlplbFpWV2taUFZrSlNVRlF3UFZkdVVteFNiWGhXV1d0YVZrMVdXa2hqTTJocVlsVnNObGt3V21GVk1rcEdWMWh3VjFaV2NFZFVNVnBEVld4Q1ZVMUVNVmhpYkVwelZXMHhORlpzYkhKWGJGcE9WbXh3U1ZsNlRtOWhiVXBXWWtSYVdrMUdjR2hXVkVwTFVteGtXV05HWkZkV2JrSklWa1JHWVZFeFZuTlJiRlpPVWtSR1ZGbHJXa3RrUjFaSFYyeHdhRTFZUWxoV1JscGhXVlpPU0ZSWWNHaFNNMEp3Vm14a00wMXNaRlZSYlVaYVZteFdOVlV5ZEdGWFJtUkpVV3hvVjJKR2NETlZha1pTWlVaa2NsUnNXbWxTVlhCWFZrWldVbVZIVW5KbFJtaHJVMGQ0VEZsdGVHRk9WbFpIVm1wQ1ZrMUlRakZXUnpBMVYyeFplRk51WkZwaVZFWnhWREZrUjFOSFNrbFViV3hTVmtSQk5RPT0=",5);return i.tileLoadFunction=function(t,e){var o=Q(t.getTileCoord());""==o&&(t.getImage().src=null),t.getImage().src=i.urls._getUrls()+o+n},new ttw.gisPack.source.OSM(i)},it=function(t){var e=t.map,i=ttw.gis.addFeatureGroup({map:e,k:t.k?t.k:"FeatureGroup_Editor",renderer:L.canvas()}),n=t.control,o=n.draw,a=n.edit,a=n.event,s=new L.Control.Draw({position:n.position?n.position:"topright",draw:{polyline:o.polyline?o.polyline:!1,polygon:o.polygon?o.polygon:!1,circle:o.circle?o.circle:!1,marker:o.marker?o.marker:!1},edit:{featureGroup:i,remove:a.remove?a.remove:!1}});e.addControl(s),e.on("draw:created",a.draw_created?a.draw_created:function(t){var e=(t.layerType,t.layer);i.addLayer(e)}),e.on("draw:edited",a.draw_edited?a.draw_edited:function(t){var e=t.layers,i=0;e.eachLayer(function(t){i++})})};this.initialize_GeometryEditor=function(t){return it(t)};var nt=function(t){t.tileLayer||(t.tileLayer={});var e=t.tileLayer;return e.map=X(t),e.layerType="Street",u(e),{map:t.map,layers:t.map.DIC_LAYERS}};this.initialize_Map__Tile__Bing=function(t){return nt(t)};var ot=function(t){var e=new ttw.gisPack.Proj.CRS.TMS("EPSG:5181","+proj=tmerc +lat_0=38 +lon_0=127 +k=1 +x_0=200000 +y_0=500000 +ellps=GRS80 +units=m +no_defs",[-3e4,-6e4,494288,464288],{resolutions:[2048,1024,512,256,128,64,32,16,8,4,2,1,.5,.25]});t.tileLayer||(t.tileLayer={});var i=t.tileLayer;return t.crs=i.crs=e,i.map=K(t),t.bStreet&&(i.layerType="Street",_(i)),t.bSatellite&&(i.layerType="Satellite",_(i)),t.bHybrid&&(i.layerType="Hybrid",_(i)),i.map.setView([38,127],0),{map:i.map,layers:i.map.DIC_LAYERS}};this.initialize_Map__Tile__Daum=function(t){return ot(t)};var at=function(t){var e=new ttw.gisPack.Proj.CRS.TMS("EPSG:5179","+proj=tmerc +lat_0=38 +lon_0=127.5 +k=0.9996 +x_0=1000000 +y_0=2000000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",[90112,1192896,1990673,2761664],{resolutions:[4096,2048,1024,512,256,128,64,32,16,8,4,2,1,.5,.25,.125]});t.tileLayer||(t.tileLayer={});var i=t.tileLayer;return t.crs=i.crs=e,i.map=q(t),t.bStreet&&(i.layerType="Street",d(i)),t.bSatellite&&(i.layerType="Satellite",d(i)),t.bCadastral&&(i.layerType="Cadastral",d(i)),t.bHybrid&&(i.layerType="Hybrid",d(i)),i.map.setView([38,127],0),{map:i.map,layers:i.map.DIC_LAYERS}};this.initialize_Map__Tile__NHN=function(t){return at(t)};var st=function(t){t.tileLayer||(t.tileLayer={});var e=t.tileLayer;return e.map=X(t),e.layerType="Street",p(e),{map:e.map,layers:e.map.DIC_LAYERS}};this.initialize_Map__Tile__OSM=function(t){return st(t)};var rt=function(t){t.tileLayer||(t.tileLayer={});var e=t.tileLayer;return e.map=X(t),t.bStreet&&(e.layerType="Street",m(e)),t.bSatellite&&(e.layerType="Satellite",m(e)),t.bHybrid&&(e.layerType="Hybrid",m(e)),{map:e.map,layers:e.map.DIC_LAYERS}};this.initialize_Map__Tile__VWorld=function(t){return rt(t)},this.getValue__CheckHasOwnProperty=function(t,e,i){return t.hasOwnProperty(e)?t[e]:i};var ht=function(t){n=t};this.setURL_Proxy=function(t){ht(t)};for(var lt=[],a=0,s=lt.length;s>a;++a)lt[a].owner=this;return this}}(),window.TtwPackageLeafletInitialize=function(){var t="TtwPackageLeafletInitialize",e=window,i=e.Lib.Ttw,n=i.CLASS,o="window.Lib.Ttw.",a=n.FN;i.fnLeaflet=new a.GIS_Leaflet({instanceKey:o+"fnGIS_Leaflet"}),e.STtwUtilGISLeaflet=i.fnLeaflet,e.ttw=e.ttw||{};var s=e.ttw;s.gisPack=e.L,s.gis=e.STtwUtilGISLeaflet,e.TT=s.template=STtwUtilTemplateHTML,i.fnCommon.destroyKeys(n.FN,["GIS_Leaflet"]);var r=STtwUtilCommon.destroyKey,h=function(t){r(window,t)};h(t),h("TtwPackageLeaflet")}(),window.Lib_Ttw_CLASS_Tile__Creator=function(){var t=window;t.Lib=t.Lib||{},t.Lib.Ttw=t.Lib.Ttw||{},t.Lib.Ttw.CLASS=t.Lib.Ttw.CLASS||{};var e=t.Lib.Ttw;e.CLASS.Tile=e.CLASS.Tile||{},e.CLASS.Tile.Creator=function(t){"use strict";this.instanceKey=this.instanceKey||"window.Instance.Ttw.Tile.Creator";this["package"]="window.Lib.Ttw.CLASS.Tile.Creator";return this.getTiles_Extent=function(t){var e=[],i=Math.ceil(t.h/t.th)+Math.max(1,2*t.b),n=Math.ceil(t.w/t.tw)+Math.max(1,2*t.b),o=t.resolution*t.tw,a=t.resolution*t.th,s=t.minX-t.tox,r=Math.floor(s/o)-t.b,h=-(s/o-r)*t.tw,l=t.tox+r*o,c=t.maxY-(t.toy+a),u=Math.ceil(c/a)+t.b,_=-(u-c/a)*t.th,d=t.toy+u*a;h=Math.round(h),_=Math.round(_);var p=h,m=l,f=0;do{var g;e.length==f?(g=[],e.push(g)):g=e[f],++f,l=m,h=p;var y=0;do g.length==y&&g.push([l,d,l+o,d+a]),++y,l+=o,h+=t.tw;while(l<=t.maxX+o*t.b||n>y);d-=a,_+=t.th}while(d>=t.minY-a*t.b||i>f);t.tiles=e;var v=e.length;if(v){var M=e[0].length;t.outputSize=[M*t.tw,v*t.tw],t.outputExtent=[e[0][0][0],e[v-1][M-1][1],e[v-1][M-1][2],e[0][0][3]]}return t},this.getTiles_Extent__LonLat=function(t){var e=[],i=Math.ceil(t.h/t.th)+Math.max(1,2*t.b),n=Math.ceil(t.w/t.tw)+Math.max(1,2*t.b),o=t.resolution*t.tw,a=t.resolution*t.th,s=t.minX-t.tox,r=Math.floor(s/o)-t.b,h=-(s/o-r)*t.tw,l=t.tox+r*o,c=t.maxY-(t.toy+a),u=Math.ceil(c/a)+t.b,_=-(u-c/a)*t.th,d=t.toy+u*a;h=Math.round(h),_=Math.round(_);var p=h,m=l,f=0;do{var g;e.length==f?(g=[],e.push(g)):g=e[f],++f,l=m,h=p;var y=0;do{var v=swf.r("Map","MapCoordinates","coordConvt_Points",[[l,d,l+o,d+a],"EPSG:5181","EPSG:4326"]);g.length==y&&g.push(v),++y,l+=o,h+=t.tw}while(l<=t.maxX+o*t.b||n>y);d-=a,_+=t.th}while(d>=t.minY-a*t.b||i>f);t.tiles=e;var M=e.length;if(M){var L=e[0].length;t.outputSize=[L*t.tw,M*t.tw],t.outputExtent=[e[0][0][0],e[M-1][L-1][1],e[M-1][L-1][2],e[0][0][3]]}return t},this.getTiles_Extent_XY=function(t){var e=[],i=Math.ceil(t.h/t.th)+Math.max(1,2*t.b),n=Math.ceil(t.w/t.tw)+Math.max(1,2*t.b),o=t.resolution*t.tw,a=t.resolution*t.th,s=t.minX-t.tox,r=Math.floor(s/o)-t.b,h=-(s/o-r)*t.tw,l=t.tox+r*o,c=t.maxY-(t.toy+a),u=Math.ceil(c/a)+t.b,_=-(u-c/a)*t.th,d=t.toy+u*a;h=Math.round(h),_=Math.round(_);var p=h,m=l,f=0;do{var g;e.length==f?(g=[],e.push(g)):g=e[f],++f,l=m,h=p;var y=0;do g.length==y&&g.push({e:[l,d,l+o,d+a],x:h-t.x,y:_-t.y}),++y,l+=o,h+=t.tw;while(l<=t.maxX+o*t.b||n>y);d-=a,_+=t.th}while(d>=t.minY-a*t.b||i>f);t.tiles=e;var v=e.length;if(v){var M=e[0].length;t.outputSize=[M*t.tw,v*t.tw],t.outputExtent=[e[0][0].e[0],e[v-1][M-1].e[1],e[v-1][M-1].e[2],e[0][0].e[3]]}return t},this}}(),window.GISMap=window.GISMap||{},window.GISMap.CLASS=window.GISMap.CLASS||{},window.GISMap.CLASS.Class_GISMapSpatialDB__LoadFeatureFromDocDictionary_A=function(t){var e=(this.instanceKey=t.instanceKey,this["package"]="window.GISMap.CLASS.Class_GISMapSpatialDB__LoadFeatureFromDocDictionary_A",t.dictionary),i=t.dictionary_Object,n=(t.fRemoveChildren_1_Clear,t.fRemoveChildren_1_Restart,0),o=1,a=(t.url__HTTP_Doc,t.url__HTTP_Doc_Folder,new XMLHttpRequest,t.mapLayerGroup),s=function(t,e){var i=r._p;if("string"==typeof i.points)try{s.p0.k=i.id,s.p0.g=L.PolylineUtil.decode(i.points),a.addLayer(ttw.gis.createLayer_Vector__Polygon(s.p0))}catch(h){}else for(var l=0,c=i.points.length;c>l;++l)s.p0.k=i.id,s.p0.g=L.PolylineUtil.decode(i.points[l]),a.addLayer(ttw.gis.createLayer_Vector__Polygon(s.p0));e&&(n=setTimeout(r,o))};s.p0={k:"",g:null,map:map,stroke:!0,color:"#ffffff",weight:.5,opacity:1,fill:!1,fillColor:"#ffffff",fillOpacity:.2,fillRule:"evenodd",dashArray:null,lineCap:null,lineJoin:null,noClip:!1,clickable:!0,pointerEvents:null,renderer:a.map.renderer_Canvas_A,smoothFactor:.9},this.clear__TimeOut=function(){clearTimeout(n)};var r=function(){var t=r._p,a=e;for(var h in a){try{if(a[h].length){var l=a[h].shift();t.id=h+"_"+l[0],i[t.id]?n=setTimeout(r,o):(t.points=l[1],s(0,1))}else STtwUtilCommon.destroyKey(a,h),n=setTimeout(r,o);if(a[h].length){var l=a[h].pop();t.id=h+"_"+l[0],i[t.id]||(t.points=l[1],s(0,1))}else STtwUtilCommon.destroyKey(a,h)}catch(c){}break}};return r._p={id:"",points:0},this.start=function(t){e=null,e=t,r()},this},window.GISMap=window.GISMap||{},window.GISMap.CLASS=window.GISMap.CLASS||{},window.GISMap.CLASS.Class_GISMapSpatialDB__LoadFeatureFromDocDictionary_L=function(t){var e=(this.instanceKey=t.instanceKey,this["package"]="window.GISMap.CLASS.Class_GISMapSpatialDB__LoadFeatureFromDocDictionary_L",t.dictionary),i=t.dictionary_Object,n=(t.fRemoveChildren_1_Clear,t.fRemoveChildren_1_Restart,0),o=1,a=t.url__HTTP_Doc,s=t.url__HTTP_Doc_Folder,r=s+"L_G/",h=(new XMLHttpRequest,t.mapLayerGroup),l=h.map,c=function(t,e){var i=u._p;if(i.points[0].length>3)try{c.p1.k=i.id,c.p1.g=L.PolylineUtil.decode(i.points),h.addLayer(ttw.gis.createLayer_Vector__Polyline(c.p0))}catch(a){}else c.p0.k=i.id,c.p0.g=L.PolylineUtil.decode(i.points),h.addLayer(ttw.gis.createLayer_Vector__Polyline(c.p0));e&&(n=setTimeout(u,o))};c.p0={k:"",g:null,map:l,stroke:!0,color:"#FF0000",weight:1,opacity:1,fill:!1,fillColor:"#00ff00",fillOpacity:1,fillRule:"evenodd",dashArray:null,lineCap:null,lineJoin:null,noClip:!1,clickable:!0,pointerEvents:null,renderer:h.map.renderer_Canvas_L,smoothFactor:.9},c.p1={k:"",g:null,map:l,stroke:!0,color:"#00ff00",weight:1,opacity:1,fill:!0,fillColor:"#00ff00",fillOpacity:1,fillRule:"evenodd",dashArray:null,lineCap:null,lineJoin:null,noClip:!1,clickable:!0,pointerEvents:null,renderer:h.map.renderer_Canvas_L,smoothFactor:.9},this.clear__TimeOut=function(){clearTimeout(n)};var u=function(){var t=u._p,a=e;for(var s in a){try{if(a[s].length){var r=a[s].shift();t.id=s+"_"+r[0],i[t.id]?n=setTimeout(u,o):(t.points=r[1],c(0,1))}else STtwUtilCommon.destroyKey(a,s),n=setTimeout(u,o);if(a[s].length){var r=a[s].pop();t.id=s+"_"+r[0],i[t.id]||(t.points=r[1],c(0,1))}else STtwUtilCommon.destroyKey(a,s)}catch(h){}break}};return u._p={id:"",points:0},u._sURL=a+r,this.start=function(t){e=null,e=t,u()},this},window.GISMap=window.GISMap||{},window.GISMap.CLASS=window.GISMap.CLASS||{},window.GISMap.CLASS.Class_GISMapSpatialDB__LoadFeatureFromDocDictionary_P=function(t){var e=(this.instanceKey=t.instanceKey,this["package"]="window.GISMap.CLASS.Class_GISMapSpatialDB__LoadFeatureFromDocDictionary_P",t.dictionary),i=t.dictionary_Object,n=(t.fRemoveChildren_1_Clear,t.fRemoveChildren_1_Restart,0),o=1,a=t.url__HTTP_Doc,s=t.url__HTTP_Doc_Folder,r=s+"P_G/",h=(new XMLHttpRequest,t.mapLayerGroup),l=h.map,c=function(t,e){var i=u._p;c.p0.k=i.id,c.p0.c=i.points;var a=ttw.gis.createLayer_Vector__CircleMarker(c.p0);h.addLayer(a),e&&(n=setTimeout(u,o))};c.p0={k:"",map:l,radius:1,stroke:!0,color:"#FF0000",weight:1,opacity:1,lineCap:null,lineJoin:null,fill:!1,fillColor:"#00ff00",fillOpacity:1,fillRule:"evenodd",_dashArray:[5,5,5],clickable:!0,pointerEvents:null,renderer:h.map.renderer_Canvas_P},c.p1={k:"",map:l,kIcon:"icon0"},ttw.gis.createIcon({k:"icon0",map:l,iconUrl:"icon/GIS/mapbox-maki-korea/03107.png",iconSize:[18,18],iconAnchor:[0,0]}),this.clear__TimeOut=function(){clearTimeout(n)};var u=function(){var t=u._p,a=e;for(var s in a){try{if(a[s].length){var r=a[s].shift();t.id=s+"_"+r.shift(),i[t.id]?n=setTimeout(u,o):(t.points=r,c(0,1))}else STtwUtilCommon.destroyKey(a,s),n=setTimeout(u,o);if(a[s].length){var r=a[s].pop();t.id=s+"_"+r.shift(),i[t.id]||(t.points=r,c(0,1))}else STtwUtilCommon.destroyKey(a,s)}catch(h){}break}};return u._p={id:"",points:0},u._sURL=a+r,this.start=function(t){e=null,e=t,u()},this},window.GISMap=window.GISMap||{},window.GISMap.CLASS=window.GISMap.CLASS||{},window.GISMap.CLASS.Class_GISMapSpatialDB__MouseOver__ToolTip__kName=function(t){var e=this.instanceKey=t.instanceKey,i=(this["package"]="window.GISMap.CLASS.Class_GISMapSpatialDB__MouseOver__ToolTip__kName",t.kGroup_MapOS),n=t.kName_MapOS,o=(t.owner,t.s_URL__HTTP_Doc,t.s_URL__HTTP_Doc_Folder,t.s_URL__HTTP_Doc_Type,this.swf=window.document.getElementById(t.idSwf));new XMLHttpRequest;return this.addEvent_Mouse=function(){this.removeEvent_Mouse();var t=this.addEvent_Mouse._p;o.sf(i,n,"addEventMouse_External"),t.bUseEventObj=!1,t.evtType="mouseOut",t.evtFunc=e+".evt_mOut",o.rp(t),t.bUseEventObj=!0,t.evtType="mouseOver",t.evtFunc=e+".evt_mOver",o.rp(t)},this.addEvent_Mouse._p={evtType:"",evtFunc:"",useCapture:!1,priority:0,useWeakReference:!0,json:null,bJSONString:!1,bUseEventObj:!1},this.removeEvent_Mouse=function(){var t=this.removeEvent_Mouse._p;o.sf(i,n,"removeEventMouse_External"),t.bUseEventObj=!1,t.evtType="mouseOut",t.evtFunc=e+".evt_mOut",o.rp(t),t.bUseEventObj=!0,t.evtType="mouseOver",t.evtFunc=e+".evt_mOver",o.rp(t)},this.removeEvent_Mouse._p={evtType:"",evtFunc:"",useCapture:!1,priority:0,useWeakReference:!0,json:null,bJSONString:!1,bUseEventObj:!1},this.evt_mOut=function(t){o.r(i,n,"setProperty",this.evt_mOut._p)},this.evt_mOut._p=["toolTip",null],this.evt_mOut._kName="",this.evt_mOver=function(t){var e=t.target;e.kName.split("_");try{this.evt_mOver._p[1]=e.kName,o.r(i,n,"setProperty",this.evt_mOver._p)}catch(t){}},this.evt_mOver._p=["toolTip",""],this.activeButtonMode=function(){o.r(i,n,"setProperties",{buttonMode:!0,useHandCursor:!0})},this.deactiveButtonMode=function(){o.r(i,n,"setProperties",{buttonMode:!1,useHandCursor:!1})},this},window.GISMap=window.GISMap||{},window.GISMap.CLASS=window.GISMap.CLASS||{},window.GISMap.CLASS.Class_GISMapSpatialDB__RemoveAllChildren_CheckLength=function(t){var e=(this.instanceKey=t.instanceKey,this["package"]="window.GISMap.CLASS.Class_GISMapSpatialDB__RemoveAllChildren_CheckLength",t.checkLength),i=t.dictionary,n=t.mapLayerGroup;return n._dictionary=i,n.removeAllLayers_Dic=function(){var t=this.getLayers(),e=this.removeLayer,n=0,o=t.length;try{for(;o>n;++n)e(t[n],i)}catch(a){}},this.removeAllChildren_MapOS=function(){var t=n.getLayers();n.removeLayer,t.length;try{}catch(e){}},this.removeAllChildren_MapOS__checkLength=function(){e<n.getLayers().length&&this.removeAllChildren_MapOS()},this},window.GISMap=window.GISMap||{},window.GISMap.CLASS=window.GISMap.CLASS||{},window.GISMap.CLASS.Class_GISMapSpatialDB__RemoveChildren_1=function(t){function e(){window.Worker?(d&&d.terminate(),d=new Worker("libs/Ttw/Leaflet/TtwSpatialDB/GISMapTtwSpatialDB//Class_GISMapSpatialDB__RemoveChildren_1__Worker_OverlapsBounds.js"),d.onmessage=function(t){var e=t.data;if(0==e[0]){var i=c[e[1]];s.removeLayer(i,a)}}):alert("     ")}var i,n=(this.instanceKey=t.instanceKey,this["package"]="window.GISMap.CLASS.Class_GISMapSpatialDB__RemoveChildren_1",this),o=t.nIntervalTime;this.element_log=t.element_log;var a=t.dictionary,s=t.mapLayerGroup,r=s.map,h=r.getBounds(),l=s._aLayers,c=s.getLayers_Obj();this.clear__Interval=function(){clearTimeout(i)};var u=function(){var t,e,a=u;try{for(var s=0,r=5;r>s;++s){var c=a._a0;t=l.shift(),t&&(e=t.getBounds(),c[0]=h._southWest.lat,c[1]=h._southWest.lng,c[2]=h._northEast.lat,c[3]=h._northEast.lng,c[4]=e._southWest.lat,c[5]=e._southWest.lng,c[6]=e._northEast.lat,c[7]=e._northEast.lng,c[8]=t._leaflet_id,d.postMessage(c)),t=l.pop(),t&&(e=t.getBounds(),c[0]=h._southWest.lat,c[1]=h._southWest.lng,c[2]=h._northEast.lat,c[3]=h._northEast.lng,c[4]=e._southWest.lat,c[5]=e._southWest.lng,c[6]=e._northEast.lat,c[7]=e._northEast.lng,c[8]=t._leaflet_id,d.postMessage(c))}}catch(_){}var p=l.length;n.element_log.innerHTML=p,p&&(i=setTimeout(u,o))};u._a0=[],this.reStart=function(){n.clear__Interval(),s.renewal__aLayers(),n.start()},this.start=function(){clearTimeout(i),_(),i=setTimeout(u,o)},this.setElement__Log=function(t){this.element_log=window.document.getElementById(t)};_setKey_RemoveTarget=function(){var t=s.getLayers_Obj(),e=0;for(var i in t){if(e){u._idx_n=i;break}u._idx=i,++e}},_setKey_RemoveTarget__idx1__InNext=function(){var t=s.getLayers_Obj(),e=0;for(var i in t)if(parseInt(i)>u._idx_in){if(e){u._idx_n=i;break}u._idx=i,++e}},_setKey_RemoveTarget__idx2=function(){var t=s.getLayers_Obj(),e=0;for(var i in t){if(e){u._idx_n=i;break}++e}};var _=function(){h=r.getBounds()};u.owner=this.reStart.owner=this;var d;return e(),this},window.GISMap=window.GISMap||{},window.GISMap.CLASS=window.GISMap.CLASS||{},window.GISMap.CLASS.Class_GISMapSpatialDB__RequestFromMBR=function(t){var e=(this.instanceKey=t.instanceKey,this["package"]="window.GISMap.CLASS.Class_GISMapSpatialDB__RequestFromMBR",t.dbNm),i=(t.dbNm,t.dbFuncNm),n={},o=(t.f__removeAllChildren_MapOS__checkLength,t.f_get_n__nMaxDistanceFromExtent),a=t.f_setDictionary__Dic,s=t.f_start_loadAndDraw__Dic,r=t.map,h=(t.owner,t.url_DB),l=h+"f?dbNm="+e+"&q=return "+i+"(",c=new XMLHttpRequest,u=function(){STtwUtilCommon.destroyObj(n)},_=function(){c.abort(),u();var t=d();STtwUtilXMLHttpReqGetRef.req(c,l+p(t)+",0,"+o()+")",_._cbFunctions)};_._cbFunctions={onloadend:function(t){n=JSON.parse(t.target.responseText),a(n),s()}},this.start=function(){_()};var d=function(){var t=r.getBounds();return[t.getWest(),t.getSouth(),t.getEast(),t.getNorth()]},p=function(t){return t[1]+","+t[0]+","+t[3]+","+t[2]};return this},window.GISMap=window.GISMap||{},window.GISMap.CLASS=window.GISMap.CLASS||{},window.GISMap.CLASS.Class_GISMapSpatialDB__RequestFromMBR__Tile=function(t){var e=(this.instanceKey=t.instanceKey,this["package"]="window.GISMap.CLASS.Class_GISMapSpatialDB__RequestFromMBR__Tile",[]),i=t.dbNm,n=(t.dbNm,t.dbFuncNm),o={},a=(t.f__removeAllChildren_MapOS__checkLength,t.f_setDictionary__Dic),s=t.f_start_loadAndDraw__Dic,r=t.map,h=(t.owner,new window.Lib.Ttw.CLASS.Tile.Creator({instanceKey:"_tiler"})),l=1,c=0,u=t.url_DB,_=u+"f?dbNm="+i+"&q=return "+n+"(",d=(new XMLHttpRequest,function(){STtwUtilCommon.destroyObj(o)}),p=function(){clearTimeout(c),d();var t=g(),i=y();e.length=0,e=h.getTiles_Extent({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],resolution:v(),tox:-180,toy:-90,x:0,y:0,b:0,w:i.x/4,h:i.y/2,tw:512,th:512}).tiles,c=setTimeout(m,l)};p._cbFunctions={onloadend:function(t){o=JSON.parse(t.target.responseText),a(o),s()}};var m=function(){if(clearTimeout(c),!e.length)return void s();if(e[0].length){for(var t=(m._p0.e,e[0]),i=0,n=t.length-1;n>i;++i){var o=t.shift();STtwUtilXMLHttpReqGet.req(_+M(o)+",0,"+(o[2]-o[0])/2+")",m._cbFunctions_Tile__NoLoop)}var o=t.shift();STtwUtilXMLHttpReqGet.req(_+M(o)+",0,"+(o[2]-o[0])/2+")",m._cbFunctions_Tile),e.shift(),m()}};m._cbFunctions_Tile={onloadend:function(t){clearTimeout(c),a(JSON.parse(t.target.responseText)),s(),c=setTimeout(m,l)}},m._cbFunctions_Tile__NoLoop={onloadend:function(t){a(JSON.parse(t.target.responseText))}},m._p0={k:"",map:map,stroke:!0,color:"#000000",weight:6,opacity:1,fill:!1,fillColor:"#00ff00",fillOpacity:1,fillRule:"evenodd",dashArray:"20,20",lineCap:null,lineJoin:null,clickable:!0,pointerEvents:null,renderer:map.renderer_Canvas_L,e:[[],[]]};var f;this.start=function(){clearTimeout(f),f=setTimeout(p,300)};var g=function(){var t=r.getBounds();return[t.getWest(),t.getSouth(),t.getEast(),t.getNorth()]},y=function(){return r.getSize()},v=function(){var t=window.ttw.gis.resAndScales.scales[r.getZoom()],e=t>1?1/t:t,i=1/(4374754*e*72);return i},M=function(t){return t[1]+","+t[0]+","+t[3]+","+t[2]};return this},window.GISMap=window.GISMap||{},window.GISMap.CLASS=window.GISMap.CLASS||{},window.GISMap.CLASS.Class_GISMapSpatialDB__RequestFromMouseClick=function(t){var e=(this.instanceKey=t.instanceKey,this["package"]="window.GISMap.CLASS.Class_GISMapSpatialDB__RequestFromMouseClick",t.dbNm_Class),i=t.dbNm,n=t.dbFuncNm,o={},a=t.f__removeAllChildren_MapOS__checkLength,s=t.f_get_n__nMaxDistanceFromExtent,r=t.f_setDictionary__Dic,h=t.f_start_loadAndDraw__Dic,l=(t.kGroup_MapOS,t.kName_MapOS,t.owner,this.swf=window.document.getElementById(t.idSwf)),c=t.url_DB,u=c+"f?dbNm="+e+"&q=return "+n+'("'+i+'",',_=new XMLHttpRequest,d=function(){STtwUtilCommon.destroyObj(o)},p=function(){d(),a();var t=m();STtwUtilXMLHttpReqGetRef.req(_,u+f(t)+",0,"+s()+")",p._cbFunctions)};p._cbFunctions={onloadend:function(t){o=JSON.parse(t.target.responseText),r(o),h()}},this.start=function(){p()};var m=function(){var t=l.r("Map","Map","getCoordinates_Mouse",null),e=m._p;return e[1]=t[0],e[2]=t[1],l.r("Map","Map","coordConvtMapProjToCustomProjection_Point",e)};m._p=["EPSG:4326",0,0];var f=function(t){return t[0]+","+t[1]+","+t[0]+","+t[1]};return this},window.GISMap=window.GISMap||{},window.GISMap.CLASS=window.GISMap.CLASS||{},window.GISMap.CLASS.Class_GISMapSpatialDB__RequestFromMouseOver__ToolTip=function(t){var e=this.instanceKey=t.instanceKey,i=(this["package"]="window.GISMap.CLASS.Class_GISMapSpatialDB__RequestFromMouseOver__ToolTip",t.kGroup_MapOS),n=t.kName_MapOS,o=(t.owner,t.s_URL__HTTP_Doc),a=t.s_URL__HTTP_Doc_Folder,s=t.s_URL__HTTP_Doc_Type,r=this.swf=window.document.getElementById(t.idSwf);new XMLHttpRequest;return this.addEvent_Mouse=function(){this.removeEvent_Mouse();var t=this.addEvent_Mouse._p;r.sf(i,n,"addEventMouse_External"),t.bUseEventObj=!1,t.evtType="mouseOut",t.evtFunc=e+".evt_mOut",r.rp(t),t.bUseEventObj=!0,t.evtType="mouseOver",t.evtFunc=e+".evt_mOver",r.rp(t)},this.addEvent_Mouse._p={evtType:"",evtFunc:"",useCapture:!1,
priority:0,useWeakReference:!0,json:null,bJSONString:!1,bUseEventObj:!1},this.removeEvent_Mouse=function(){var t=this.removeEvent_Mouse._p;r.sf(i,n,"removeEventMouse_External"),t.bUseEventObj=!1,t.evtType="mouseOut",t.evtFunc=e+".evt_mOut",r.rp(t),t.bUseEventObj=!0,t.evtType="mouseOver",t.evtFunc=e+".evt_mOver",r.rp(t)},this.removeEvent_Mouse._p={evtType:"",evtFunc:"",useCapture:!1,priority:0,useWeakReference:!0,json:null,bJSONString:!1,bUseEventObj:!1},this.evt_mOut=function(t){r.r(i,n,"setProperty",this.evt_mOut._p)},this.evt_mOut._p=["toolTip",null],this.evt_mOut._kName="",this.evt_mOver=function(t){var e=t.target,h=e.kName.split("_");try{var l=JSON.parse(STtwUtilXMLHttpReqGet.reqSyncReturn(o+a+s+h[0]+"/"+h[1]+".s").responseText);this.evt_mOver._p[1]=e.kName+"\n"+JSON.stringify(l,null,"	"),r.r(i,n,"setProperty",this.evt_mOver._p)}catch(t){}},this.evt_mOver._p=["toolTip",""],this.activeButtonMode=function(){r.r(i,n,"setProperties",{buttonMode:!0,useHandCursor:!0})},this.deactiveButtonMode=function(){r.r(i,n,"setProperties",{buttonMode:!1,useHandCursor:!1})},this},window.GISMap=window.GISMap||{},window.GISMap.CLASS=window.GISMap.CLASS||{},window.GISMap.Instance=window.GISMap.Instance||{},window.GISMap.CLASS.Class_GISMapSpatialDB__E4326_ISO410_StreetNameMap__MBR=function(t){var e=this.instanceKey=t.instanceKey||"window.GISMap.Instance.gisMapSpatialDB__E4326_ISO410_StreetNameMap__MBR",i=(this["package"]="window.GISMap.CLASS.Class_GISMapSpatialDB__E4326_ISO410_StreetNameMap__MBR",this),n=5,o="A",a="L",s="P",r="getDocs_e_Cols_G",h="getDocs_e_Cols_G",l="getDocs_e_Cols_G";this.oCheckAllowValue={level:8,scale:1733375.127607265},this.s_URL_DB="./ttwP/localhost/",this.s_URL__HTTP_Doc="./ttwP/map.u3cnc.com:10010/",this.s_kGroup_A="VG_A",this.s_kGroup_L="VG_L",this.s_kGroup_P="VG_P";var c=window.map;window.mapVectorLayerGroups={};var u=ttw.gis.addLayerGroup({k:"MapOS_A",map:c}),_=ttw.gis.addLayerGroup({k:"MapOS_L",map:c}),d=ttw.gis.addLayerGroup({k:"MapOS_P",map:c});window.mapVectorLayerGroups.a=u,window.mapVectorLayerGroups.l=_,window.mapVectorLayerGroups.p=d;for(var p={},m={},f={},g=1,y=1,v=1,M=600,L=300,w=550,T=this.s_URL__HTTP_Doc,S=this.s_URL__HTTP_Doc_Folder,b=window.GISMap.CLASS,V=b.Class_GISMapSpatialDB__RemoveAllChildren_CheckLength,x=e+"._removeAllChildren_",k=1,R=new V({checkLength:k,instanceKey:x+"A",mapLayerGroup:u,dictionary:c.DIC_LAYERS_VECTOR_POLYGON}),C=new V({checkLength:k,instanceKey:x+"L",mapLayerGroup:_,dictionary:c.DIC_LAYERS_VECTOR_POLYLINE}),E=new V({checkLength:k,instanceKey:x+"P",mapLayerGroup:d,dictionary:c.DIC_LAYERS_VECTOR_CIRCLE_MARKER}),V=b.Class_GISMapSpatialDB__RemoveChildren_1,x=e+"._removeChildren_1_",k=1,P=new V({instanceKey:x+"A",mapLayerGroup:u,nIntervalTime:k,dictionary:c.DIC_LAYERS_VECTOR_POLYGON}),U=new V({instanceKey:x+"L",mapLayerGroup:_,nIntervalTime:k,dictionary:c.DIC_LAYERS_VECTOR_POLYLINE}),D=new V({instanceKey:x+"P",mapLayerGroup:d,nIntervalTime:k,dictionary:c.DIC_LAYERS_VECTOR_CIRCLE_MARKER}),F=function(){P.clear__Interval(),U.clear__Interval(),D.clear__Interval()},Z=function(){P.reStart(),U.reStart(),D.reStart()},W=function(){P.start(),U.start(),D.start()},V=b.Class_GISMapSpatialDB__LoadFeatureFromDocDictionary_A,x=e+"._loadFeatureFromDocDictionary_A",I={instanceKey:0,url__HTTP_Doc:T,url__HTTP_Doc_Folder:S,fRemoveChildren_1_Clear:F,fRemoveChildren_1_Restart:Z,dictionary:p,mapLayerGroup:u,dictionary_Object:c.DIC_LAYERS_VECTOR_POLYGON},O={},N=0,G=g;G>N;++N)I.instanceKey=x+N,O[N]=new V(I);for(var V=b.Class_GISMapSpatialDB__LoadFeatureFromDocDictionary_L,x=e+"._loadFeatureFromDocDictionary_L",I={instanceKey:0,url__HTTP_Doc:T,url__HTTP_Doc_Folder:S,fRemoveChildren_1_Clear:F,fRemoveChildren_1_Restart:Z,dictionary:m,mapLayerGroup:_,dictionary_Object:c.DIC_LAYERS_VECTOR_POLYLINE},A={},N=0,G=y;G>N;++N)I.instanceKey=x+N,A[N]=new V(I);for(var V=b.Class_GISMapSpatialDB__LoadFeatureFromDocDictionary_P,x=e+"._loadFeatureFromDocDictionary_P",I={instanceKey:0,url__HTTP_Doc:T,url__HTTP_Doc_Folder:S,fRemoveChildren_1_Clear:F,fRemoveChildren_1_Restart:Z,dictionary:f,mapLayerGroup:d,dictionary_Object:c.DIC_LAYERS_VECTOR_CIRCLE_MARKER},B={},N=0,G=v;G>N;++N)I.instanceKey=x+N,B[N]=new V(I);var H,j=0,z=0,Y=0;this.addEvent=function(){this.removeEvent(),map.on("moveend",this.evt_GISMap_MoveEnd),map.on("movestart",this.evt_GISMap_MoveStart),map.on("zoomend",this.evt_GISMap_ZoomEnd),map.on("zoomstart",this.evt_GISMap_ZoomStart)},this.removeEvent=function(){map.off("moveend",this.evt_GISMap_MoveEnd),map.off("movestart",this.evt_GISMap_MoveStart),map.off("zoomend",this.evt_GISMap_ZoomEnd),map.off("zoomstart",this.evt_GISMap_ZoomStart)},this.evt_GISMap_MoveEnd=function(t){t.map;i.clearTimeout__reqFromMBR(),Z(),i.checkAllowLevel()&&(H=i.getMaxDistanceFromExtent(),H=H>n?n:H,i.setTimeout__reqFromMBR())},this.evt_GISMap_MoveStart=function(t){i.clearTimeout__reqFromMBR(),F()},this.evt_GISMap_ZoomEnd=function(t){i.clearTimeout__reqFromMBR(),W()},this.evt_GISMap_ZoomStart=function(t){i.clearTimeout__reqFromMBR(),F()},this.evt_mClick=function(t){i.checkAllowLevel()&&(H=i.getMaxDistanceFromExtent(),H=H>n?n:H,_requestFromMouseClick_A.start())},this.evt_Complete=function(t){},this.checkAllowLevel=function(){return this.oCheckAllowValue.level<=c.getZoom()?1:0},this.checkAllowScale=function(){return this.oCheckAllowValue.scale>=c.getZoomScale(c.getZoom(),0)?1:0},this.clear__Dic=function(){this.clear__Dic__A(),this.clear__Dic__L(),this.clear__Dic__P()},this.clear__Dic__A=function(){STtwUtilCommon.destroyObj(p)},this.clear__Dic__L=function(){STtwUtilCommon.destroyObj(m)},this.clear__Dic__P=function(){STtwUtilCommon.destroyObj(f)},this.clearTimeout__reqFromMBR=function(){clearTimeout(j),clearTimeout(z),clearTimeout(Y)},this.removeAllChildren_MapOS__checkLength_A=function(){R.removeAllChildren_MapOS__checkLength()},this.removeAllChildren_MapOS__checkLength_L=function(){C.removeAllChildren_MapOS__checkLength()},this.removeAllChildren_MapOS__checkLength_P=function(){E.removeAllChildren_MapOS__checkLength()},this.start_loadAndDraw__Dic=function(){},this.start_loadAndDraw__Dic__A=function(){for(var t=0,e=g;e>t;++t)O[t].start(p)},this.start_loadAndDraw__Dic__L=function(){for(var t=0,e=y;e>t;++t)A[t].start(m)},this.start_loadAndDraw__Dic__P=function(){for(var t=0,e=v;e>t;++t)B[t].start(f)};this.start_removeChildren_1=function(){for(var t=0,e=_n_removeChildren_1_Count;e>t;++t)_removeChildren_1.A[t].reStart(),_removeChildren_1.L[t].reStart(),_removeChildren_1.P[t].reStart()},this.stop_removeChildren_1=function(){for(var t=0,e=_n_removeChildren_1_Count;e>t;++t)_removeChildren_1.A[t].clear__Interval(),_removeChildren_1.L[t].clear__Interval(),_removeChildren_1.P[t].clear__Interval()},this.getMaxDistanceFromExtent=function(){var t,e=c.getBounds(),i=(e.getEast()-e.getWest())/2,n=(e.getNorth()-e.getSouth())/2;return i>n?(t=i-n,n+t/2):(t=n-i,i+t/2)},this.get_n__nMaxDistanceFromExtent=function(){return H},this.addDictionary__Dic__A=function(t){for(var e in t)p[e]?p[e]=p[e].concat(t[e]):p[e]=t[e]},this.addDictionary__Dic__L=function(t){for(var e in t)m[e]?m[e]=m[e].concat(t[e]):m[e]=t[e]},this.addDictionary__Dic__P=function(t){for(var e in t)f[e]?f[e]=f[e].concat(t[e]):f[e]=t[e]},this.setDictionary__Dic__A=function(t){p=t},this.setDictionary__Dic__L=function(t){m=t},this.setDictionary__Dic__P=function(t){f=t},this.setElement__removeChildren_1_A=function(t){P.setElement__Log(t)},this.setElement__removeChildren_1_L=function(t){U.setElement__Log(t)},this.setElement__removeChildren_1_P=function(t){D.setElement__Log(t)},this.setTimeout__reqFromMBR=function(t){j=setTimeout(J.start,M),z=setTimeout(X.start,L),Y=setTimeout(q.start,w)};var b=window.GISMap.CLASS,V=b.Class_GISMapSpatialDB__RequestFromMBR,x=e+"._requestFromMBR_",I={f_get_n__nMaxDistanceFromExtent:this.get_n__nMaxDistanceFromExtent,owner:this,url_DB:this.s_URL_DB,map:c};I.dbNm=o,I.dbFuncNm=r,I.f__removeAllChildren_MapOS__checkLength=this.removeAllChildren_MapOS__checkLength_A,I.f_setDictionary__Dic=this.setDictionary__Dic__A,I.f_start_loadAndDraw__Dic=this.start_loadAndDraw__Dic__A,I.instanceKey=x+"A";var J=new V(I);J.map=c,I.dbNm=a,I.dbFuncNm=h,I.f__removeAllChildren_MapOS__checkLength=this.removeAllChildren_MapOS__checkLength_L,I.f_setDictionary__Dic=this.setDictionary__Dic__L,I.f_start_loadAndDraw__Dic=this.start_loadAndDraw__Dic__L,I.instanceKey=x+"L";var X=new V(I);X.map=c,I.dbNm=s,I.dbFuncNm=l,I.f__removeAllChildren_MapOS__checkLength=this.removeAllChildren_MapOS__checkLength_P,I.f_setDictionary__Dic=this.setDictionary__Dic__P,I.f_start_loadAndDraw__Dic=this.start_loadAndDraw__Dic__P,I.instanceKey=x+"P";var q=new V(I);q.map=c;var t=window.document,K=t.createElement("DIV");K.setAttribute("style","position: absolute; left: 5px; top: 100px; z-index: 999; color: #ffffff;"),K.id="_log__numchildren__MapOS_A",t.getElementById("div_0__Top_modal").appendChild(K);var K=t.createElement("DIV");K.setAttribute("style","position: absolute; left: 5px; top: 115px; z-index: 999; color: #ffffff;"),K.id="_log__numchildren__MapOS_L",t.getElementById("div_0__Top_modal").appendChild(K);var K=t.createElement("DIV");return K.setAttribute("style","position: absolute; left: 5px; top: 135px; z-index: 999; color: #ffffff;"),K.id="_log__numchildren__MapOS_P",t.getElementById("div_0__Top_modal").appendChild(K),window._removeAllChildren_A=R,window._removeAllChildren_L=C,window._removeAllChildren_P=E,window.r=window.removeAllSpatialDBData=function(){mapVectorLayerGroups.a.removeAllLayers_Dic(),mapVectorLayerGroups.l.removeAllLayers_Dic(),mapVectorLayerGroups.p.removeAllLayers_Dic()},this},window.GISMap.CLASS.Class_GISMapSpatialDB__E4326_ISO410_StreetNameMap__MBR.initialize=function(){window.GISMap.Instance.gisMapSpatialDB__E4326_ISO410_StreetNameMap__MBR=new window.GISMap.CLASS.Class_GISMapSpatialDB__E4326_ISO410_StreetNameMap__MBR({instanceKey:"window.GISMap.Instance.gisMapSpatialDB__E4326_ISO410_StreetNameMap__MBR",idSwf:"Ttw_Project_GIS_MapMx"});var t=window.GISMap.Instance.gisMapSpatialDB__E4326_ISO410_StreetNameMap__MBR;return t.setElement__removeChildren_1_A("_log__numchildren__MapOS_A"),t.setElement__removeChildren_1_L("_log__numchildren__MapOS_L"),t.setElement__removeChildren_1_P("_log__numchildren__MapOS_P"),window.GISMap.Instance.gisMapSpatialDB__E4326_ISO410_StreetNameMap__MBR},window.leaflet_random=function(){window._setInterval__RandomPosition._nInterval=setInterval(window._setInterval__RandomPosition,4e3)},window._setInterval__RandomPosition=function(){window._removeAllChildren_A.removeAllChildren_MapOS(),window._removeAllChildren_L.removeAllChildren_MapOS(),window._removeAllChildren_P.removeAllChildren_MapOS();var t=STtwUtilMath.random(126.59460449224395,128.5776367185304,1e-9),e=STtwUtilMath.random(35.08299571314755,37.79583629554803,1e-9);window.map.setView([e,t])};